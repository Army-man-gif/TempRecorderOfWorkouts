(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Vf={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function CT(){if(hy)return Bl;hy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var fy;function IT(){return fy||(fy=1,Vf.exports=CT()),Vf.exports}var dr=IT(),Of={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function VT(){if(dy)return Et;dy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function O(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function J(D,X,et){this.props=D,this.context=X,this.refs=it,this.updater=et||j}J.prototype.isReactComponent={},J.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function St(){}St.prototype=J.prototype;function gt(D,X,et){this.props=D,this.context=X,this.refs=it,this.updater=et||j}var ft=gt.prototype=new St;ft.constructor=gt,$(ft,J.prototype),ft.isPureReactComponent=!0;var xt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function N(D,X,et,Z,ot,bt){return et=bt.ref,{$$typeof:a,type:D,key:X,ref:et!==void 0?et:null,props:bt}}function S(D,X){return N(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function V(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return X[et]})}var M=/\/+/g;function U(D,X){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):X.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,X,et,Z,ot){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var pt=!1;if(D===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(D.$$typeof){case a:case e:pt=!0;break;case A:return pt=D._init,ie(pt(D._payload),X,et,Z,ot)}}if(pt)return ot=ot(D),pt=Z===""?"."+U(D,0):Z,xt(ot)?(et="",pt!=null&&(et=pt.replace(M,"$&/")+"/"),ie(ot,X,et,"",function(Un){return Un})):ot!=null&&(w(ot)&&(ot=S(ot,et+(ot.key==null||D&&D.key===ot.key?"":(""+ot.key).replace(M,"$&/")+"/")+pt)),X.push(ot)),1;pt=0;var Re=Z===""?".":Z+":";if(xt(D))for(var Xt=0;Xt<D.length;Xt++)Z=D[Xt],bt=Re+U(Z,Xt),pt+=ie(Z,X,et,bt,ot);else if(Xt=O(D),typeof Xt=="function")for(D=Xt.call(D),Xt=0;!(Z=D.next()).done;)Z=Z.value,bt=Re+U(Z,Xt++),pt+=ie(Z,X,et,bt,ot);else if(bt==="object"){if(typeof D.then=="function")return ie(Ne(D),X,et,Z,ot);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(D,X,et){if(D==null)return D;var Z=[],ot=0;return ie(D,Z,"","",function(bt){return X.call(et,bt,ot++)}),Z}function tt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Pt(){}return Et.Children={map:H,forEach:function(D,X,et){H(D,function(){X.apply(this,arguments)},et)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Et.Component=J,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=gt,Et.StrictMode=s,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cloneElement=function(D,X,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=$({},D.props),ot=D.key,bt=void 0;if(X!=null)for(pt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ot=""+X.key),X)!Lt.call(X,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&X.ref===void 0||(Z[pt]=X[pt]);var pt=arguments.length-2;if(pt===1)Z.children=et;else if(1<pt){for(var Re=Array(pt),Xt=0;Xt<pt;Xt++)Re[Xt]=arguments[Xt+2];Z.children=Re}return N(D.type,ot,void 0,void 0,bt,Z)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Et.createElement=function(D,X,et){var Z,ot={},bt=null;if(X!=null)for(Z in X.key!==void 0&&(bt=""+X.key),X)Lt.call(X,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ot[Z]=X[Z]);var pt=arguments.length-2;if(pt===1)ot.children=et;else if(1<pt){for(var Re=Array(pt),Xt=0;Xt<pt;Xt++)Re[Xt]=arguments[Xt+2];ot.children=Re}if(D&&D.defaultProps)for(Z in pt=D.defaultProps,pt)ot[Z]===void 0&&(ot[Z]=pt[Z]);return N(D,bt,void 0,void 0,null,ot)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:g,render:D}},Et.isValidElement=w,Et.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},Et.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},Et.startTransition=function(D){var X=vt.T,et={};vt.T=et;try{var Z=D(),ot=vt.S;ot!==null&&ot(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Pt,lt)}catch(bt){lt(bt)}finally{vt.T=X}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(D){return vt.H.use(D)},Et.useActionState=function(D,X,et){return vt.H.useActionState(D,X,et)},Et.useCallback=function(D,X){return vt.H.useCallback(D,X)},Et.useContext=function(D){return vt.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,X){return vt.H.useDeferredValue(D,X)},Et.useEffect=function(D,X,et){var Z=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,X)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(D,X,et){return vt.H.useImperativeHandle(D,X,et)},Et.useInsertionEffect=function(D,X){return vt.H.useInsertionEffect(D,X)},Et.useLayoutEffect=function(D,X){return vt.H.useLayoutEffect(D,X)},Et.useMemo=function(D,X){return vt.H.useMemo(D,X)},Et.useOptimistic=function(D,X){return vt.H.useOptimistic(D,X)},Et.useReducer=function(D,X,et){return vt.H.useReducer(D,X,et)},Et.useRef=function(D){return vt.H.useRef(D)},Et.useState=function(D){return vt.H.useState(D)},Et.useSyncExternalStore=function(D,X,et){return vt.H.useSyncExternalStore(D,X,et)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.0",Et}var my;function gd(){return my||(my=1,Of.exports=VT()),Of.exports}var gy=gd(),Nf={exports:{}},ql={},Mf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function OT(){return py||(py=1,function(a){function e(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var Pt=lt-1>>>1,D=H[Pt];if(0<o(D,tt))H[Pt]=tt,H[lt]=D,lt=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var Pt=0,D=H.length,X=D>>>1;Pt<X;){var et=2*(Pt+1)-1,Z=H[et],ot=et+1,bt=H[ot];if(0>o(Z,lt))ot<D&&0>o(bt,Z)?(H[Pt]=bt,H[ot]=lt,Pt=ot):(H[Pt]=Z,H[et]=lt,Pt=et);else if(ot<D&&0>o(bt,lt))H[Pt]=bt,H[ot]=lt,Pt=ot;else break t}}return tt}function o(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,I=null,O=3,j=!1,$=!1,it=!1,J=!1,St=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)s(v);else if(tt.startTime<=H)s(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function vt(H){if(it=!1,xt(H),!$)if(i(_)!==null)$=!0,Lt||(Lt=!0,U());else{var tt=i(v);tt!==null&&ie(vt,tt.startTime-H)}}var Lt=!1,N=-1,S=5,w=-1;function V(){return J?!0:!(a.unstable_now()-w<S)}function M(){if(J=!1,Lt){var H=a.unstable_now();w=H;var tt=!0;try{t:{$=!1,it&&(it=!1,gt(N),N=-1),j=!0;var lt=O;try{e:{for(xt(H),I=i(_);I!==null&&!(I.expirationTime>H&&V());){var Pt=I.callback;if(typeof Pt=="function"){I.callback=null,O=I.priorityLevel;var D=Pt(I.expirationTime<=H);if(H=a.unstable_now(),typeof D=="function"){I.callback=D,xt(H),tt=!0;break e}I===i(_)&&s(_),xt(H)}else s(_);I=i(_)}if(I!==null)tt=!0;else{var X=i(v);X!==null&&ie(vt,X.startTime-H),tt=!1}}break t}finally{I=null,O=lt,j=!1}tt=void 0}}finally{tt?U():Lt=!1}}}var U;if(typeof ft=="function")U=function(){ft(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=M,U=function(){Ne.postMessage(null)}}else U=function(){St(M,0)};function ie(H,tt){N=St(function(){H(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function(H){switch(O){case 1:case 2:case 3:var tt=3;break;default:tt=O}var lt=O;O=tt;try{return H()}finally{O=lt}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=O;O=H;try{return tt()}finally{O=lt}},a.unstable_scheduleCallback=function(H,tt,lt){var Pt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,H={id:A++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:D,sortIndex:-1},lt>Pt?(H.sortIndex=lt,e(v,H),i(_)===null&&H===i(v)&&(it?(gt(N),N=-1):it=!0,ie(vt,lt-Pt))):(H.sortIndex=D,e(_,H),$||j||($=!0,Lt||(Lt=!0,U()))),H},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(H){var tt=O;return function(){var lt=O;O=tt;try{return H.apply(this,arguments)}finally{O=lt}}}}(xf)),xf}var yy;function NT(){return yy||(yy=1,Mf.exports=OT()),Mf.exports}var Uf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function MT(){if(_y)return He;_y=1;var a=gd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:O,fetchPriority:j}):A==="script"&&s.d.X(_,{crossOrigin:I,integrity:O,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var vy;function xT(){if(vy)return Uf.exports;vy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Uf.exports=MT(),Uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function UT(){if(Ey)return ql;Ey=1;var a=NT(),e=gd(),i=xT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case J:return"Profiler";case it:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Pt=[],D=-1;function X(t){return{current:t}}function et(t){0>D||(t.current=Pt[D],Pt[D]=null,D--)}function Z(t,n){D++,Pt[D]=t.current,t.current=n}var ot=X(null),bt=X(null),pt=X(null),Re=X(null);function Xt(t,n){switch(Z(pt,n),Z(bt,t),Z(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kp(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),Z(ot,t)}function Un(){et(ot),et(bt),et(pt)}function zi(t){t.memoizedState!==null&&Z(Re,t);var n=ot.current,r=Bp(n,t.type);n!==r&&(Z(bt,t),Z(ot,r))}function si(t){bt.current===t&&(et(ot),et(bt)),Re.current===t&&(et(Re),Ul._currentValue=lt)}var Cr=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,Ns=a.unstable_shouldYield,fo=a.unstable_requestPaint,dn=a.unstable_now,Ic=a.unstable_getCurrentPriorityLevel,Ms=a.unstable_ImmediatePriority,Ra=a.unstable_UserBlockingPriority,Or=a.unstable_NormalPriority,Vc=a.unstable_LowPriority,wa=a.unstable_IdlePriority,xs=a.log,mo=a.unstable_setDisableYieldValue,re=null,qt=null;function nn(t){if(typeof xs=="function"&&mo(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(re,t)}catch{}}var qe=Math.clz32?Math.clz32:Nr,go=Math.log,Oc=Math.LN2;function Nr(t){return t>>>=0,t===0?32:31-(go(t)/Oc|0)|0}var Mr=256,xr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Da(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ur(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Us(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var t=Mr;return Mr<<=1,(Mr&4194048)===0&&(Mr=256),t}function Ps(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function li(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-qe(r),Q=1<<G;E[G]=0,b[G]=-1;var k=z[G];if(k!==null)for(z[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}r&=~Q}l!==0&&Ln(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Ln(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ks(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ki(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ca(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:ay(t.type))}function po(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,he="__reactProps$"+Wt,mn="__reactContainer$"+Wt,Bs="__reactEvents$"+Wt,Nc="__reactListeners$"+Wt,qi="__reactHandles$"+Wt,yo="__reactResources$"+Wt,Lr="__reactMarker$"+Wt;function ji(t){delete t[ye],delete t[he],delete t[Bs],delete t[Nc],delete t[qi]}function ui(t){var n=t[ye];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Gp(t);t!==null;){if(r=t[ye])return r;t=Gp(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[ye]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[yo];return n||(n=t[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Lr]=!0}var qs=new Set,Ia={};function In(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(Ia[t]=n,t=0;t<n.length;t++)qs.add(n[t])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Pr={};function Eo(t){return Cr.call(Pr,t)?!0:Cr.call(vo,t)?!1:_o.test(t)?Pr[t]=!0:(vo[t]=!0,!1)}function Hi(t,n,r){if(Eo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var zr,To;function hi(t){if(zr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);zr=n&&n[1]||"",To=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zr+t+To}var Va=!1;function Oa(t,n){if(!t||Va)return"";Va=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var k=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){k=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){k=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),z=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===z.length)for(l=b.length-1,c=z.length-1;1<=l&&0<=c&&b[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==z[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Va=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?hi(r):""}function js(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Oa(t.type,!1);case 11:return Oa(t.type.render,!1);case 1:return Oa(t.type,!0);case 31:return hi("Activity");default:return""}}function Na(t){try{var n="";do n+=js(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mc(t){var n=Hs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ma(t){t._valueTracker||(t._valueTracker=Mc(t))}function Gs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Hs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xc=/[\n"\\]/g;function fe(t){return t.replace(xc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,y,Ke(n)):r!=null?Gi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Br(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Gi(t,n,r){n==="number"&&kr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Gt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function qr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||jr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Fs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ao(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ao(t,f,n[f])}function Qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return Lc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function Ys(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Gs(l)}break t;case"textarea":Gt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var Bn=!1;function So(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(mi!==null||gi!==null)&&(pu(),mi&&(n=mi,t=gi,gi=mi=null,Ys(n),t)))for(n=0;n<t.length;n++)Ys(t[n])}}function Hr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Vn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{yn=!1}var qn=null,Fi=null,pi=null;function Ks(){if(pi)return pi;var t,n=Fi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return pi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Xs(){return!1}function we(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Xs,this.isPropagationStopped=Xs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=we(kt),Fr=A({},kt,{view:0,detail:0}),bo=we(Fr),La,Pa,Gn,Qr=A({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(La=t.screenX-Gn.screenX,Pa=t.screenY-Gn.screenY):Pa=La=0,Gn=t),La)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),_n=we(Qr),Ro=A({},Qr,{dataTransfer:0}),Pc=we(Ro),Yr=A({},Fr,{relatedTarget:0}),za=we(Yr),Zs=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=we(Zs),wo=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=we(wo),zc=A({},kt,{data:0}),$s=we(zc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Do={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Co[t])?!!n[t]:!1}function Xr(){return Js}var Io=A({},Fr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Do[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qa=we(Io),Vo=A({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=we(Vo),yi=A({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Oo=we(yi),No=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mo=we(No),xo=A({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=we(xo),Xe=A({},kt,{newState:0,oldState:0}),Uo=we(Xe),Lo=[9,13,27,32],Fn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Fn||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Lo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function _e(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Vt(t,n){if(It)return t==="compositionend"||!Fn&&q(t,n)?(t=Ks(),pi=Fi=qn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Au(n,"onChange"),0<n.length&&(r=new Ua("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Qn=null;function tl(t){xp(t,0)}function Po(t){var n=zn(t);if(Gs(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(Vn){var kc;if(Vn){var Bc="oninput"in document;if(!Bc){var im=document.createElement("div");im.setAttribute("oninput","return;"),Bc=typeof im.oninput=="function"}kc=Bc}else kc=!1;nm=kc&&(!document.documentMode||9<document.documentMode)}function rm(){xe&&(xe.detachEvent("onpropertychange",am),Qn=xe=null)}function am(t){if(t.propertyName==="value"&&Po(Qn)){var n=[];_i(n,Qn,t,pn(t)),So(tl,n)}}function rE(t,n,r){t==="focusin"?(rm(),xe=n,Qn=r,xe.attachEvent("onpropertychange",am)):t==="focusout"&&rm()}function aE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(Qn)}function sE(t,n){if(t==="click")return Po(n)}function lE(t,n){if(t==="input"||t==="change")return Po(n)}function oE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:oE;function el(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Cr.call(n,c)||!an(t[c],n[c]))return!1}return!0}function sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var r=sm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sm(r)}}function om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=kr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=kr(t.document)}return n}function qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var uE=Vn&&"documentMode"in document&&11>=document.documentMode,Ha=null,jc=null,nl=null,Hc=!1;function cm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hc||Ha==null||Ha!==kr(l)||(l=Ha,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=Au(jc,"onSelect"),0<l.length&&(n=new Ua("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ha)))}function Zr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ga={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Gc={},hm={};Vn&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function $r(t){if(Gc[t])return Gc[t];if(!Ga[t])return t;var n=Ga[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in hm)return Gc[t]=n[r];return t}var fm=$r("animationend"),dm=$r("animationiteration"),mm=$r("animationstart"),cE=$r("transitionrun"),hE=$r("transitionstart"),fE=$r("transitioncancel"),gm=$r("transitionend"),pm=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function On(t,n){pm.set(t,n),In(n,[t])}var ym=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=ym.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Na(n)},ym.set(t,n),n)}return{value:t,source:n,stack:Na(n)}}var En=[],Fa=0,Qc=0;function zo(){for(var t=Fa,n=Qc=Fa=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&_m(r,c,f)}}function ko(t,n,r,l){En[Fa++]=t,En[Fa++]=n,En[Fa++]=r,En[Fa++]=l,Qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yc(t,n,r,l){return ko(t,n,r,l),Bo(t)}function Qa(t,n){return ko(t,null,null,n),Bo(t)}function _m(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Bo(t){if(50<Dl)throw Dl=0,Wh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ya={};function dE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new dE(t,n,r,l)}function Kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function vm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Kc(t)&&(y=1);else if(typeof t=="string")y=gT(t,r,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case $:return Jr(r.children,c,f,n);case it:y=8,c|=24;break;case J:return t=sn(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case vt:return t=sn(13,r,n,c),t.elementType=vt,t.lanes=f,t;case Lt:return t=sn(19,r,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case ft:y=10;break t;case gt:y=9;break t;case xt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Jr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Xc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Zc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ka=[],Xa=0,jo=null,Ho=0,Tn=[],An=0,Wr=null,Ei=1,Ti="";function ta(t,n){Ka[Xa++]=Ho,Ka[Xa++]=jo,jo=t,Ho=n}function Em(t,n,r){Tn[An++]=Ei,Tn[An++]=Ti,Tn[An++]=Wr,Wr=t;var l=Ei;t=Ti;var c=32-qe(l)-1;l&=~(1<<c),r+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ei=1<<32-qe(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function $c(t){t.return!==null&&(ta(t,1),Em(t,1,0))}function Jc(t){for(;t===jo;)jo=Ka[--Xa],Ka[Xa]=null,Ho=Ka[--Xa],Ka[Xa]=null;for(;t===Wr;)Wr=Tn[--An],Tn[An]=null,Ti=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null}var Ze=null,ae=null,zt=!1,ea=null,Yn=!1,Wc=Error(s(519));function na(t){var n=Error(s(418,""));throw al(vn(n,t)),Wc}function Tm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ye]=t,n[he]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Il.length;r++)Dt(Il[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ma(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),qr(n,l.value,l.defaultValue,l.children),Ma(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||zp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Su),n=!0):n=!1,n||na(t)}function Am(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ze=Ze.return}}function il(t){if(t!==Ze)return!1;if(!zt)return Am(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||pf(t.type,t.memoizedProps)),r=!r),r&&ae&&na(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Mn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,lr(t.type)?(t=Ef,Ef=null,ae=t):ae=n):ae=Ze?Mn(t.stateNode.nextSibling):null;return!0}function rl(){ae=Ze=null,zt=!1}function Sm(){var t=ea;return t!==null&&(We===null?We=t:We.push.apply(We,t),ea=null),t}function al(t){ea===null?ea=[t]:ea.push(t)}var th=X(null),ia=null,Ai=null;function Qi(t,n,r){Z(th,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=th.current,et(th)}function eh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function nh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),eh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),eh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function sl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&nh(n,t,r,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){ia=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return bm(ia,t)}function Fo(t,n){return ia===null&&ra(t),bm(t,n)}function bm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var mE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},gE=a.unstable_scheduleCallback,pE=a.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new mE,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&gE(pE,function(){t.controller.abort()})}var ol=null,rh=0,Za=0,$a=null;function yE(t,n){if(ol===null){var r=ol=[];rh=0,Za=lf(),$a={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rh++,n.then(Rm,Rm),n}function Rm(){if(--rh===0&&ol!==null){$a!==null&&($a.status="fulfilled");var t=ol;ol=null,Za=0,$a=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _E(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var wm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&yE(t,n),wm!==null&&wm(t,n)};var aa=X(null);function ah(){var t=aa.current;return t!==null?t:Zt.pooledCache}function Qo(t,n){n===null?Z(aa,aa.current):Z(aa,n.pool)}function Dm(){var t=ah();return t===null?null:{parent:Ee._currentValue,pool:t}}var ul=Error(s(460)),Cm=Error(s(474)),Yo=Error(s(542)),sh={then:function(){}};function Im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ko(){}function Vm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ko,Ko),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t;default:if(typeof n.status=="string")n.then(Ko,Ko);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t}throw cl=n,ul}}var cl=null;function Om(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Nm(t){if(t===ul||t===Yo)throw Error(s(483))}var Yi=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bo(t),_m(t,null,r),n}return ko(t,l,n,r),Bo(t)}function hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ks(t,r)}}function uh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ch=!1;function fl(){if(ch){var t=$a;if(t!==null)throw t}}function dl(t,n,r,l){ch=!1;var c=t.updateQueue;Yi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,z=b.next;b.next=null,y===null?f=z:y.next=z,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=b))}if(f!==null){var Q=c.baseState;y=0,G=z=b=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Ot&k)===k:(l&k)===k){k!==0&&k===Za&&(ch=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ct=E;k=n;var Yt=r;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){Q=mt.call(Yt,Q,k);break t}Q=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,k=typeof mt=="function"?mt.call(Yt,Q,k):mt,k==null)break t;Q=A({},Q,k);break t;case 2:Yi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=B,b=Q):G=G.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ir|=y,t.lanes=y,t.memoizedState=Q}}function Mm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Mm(r[t],n)}var Ja=X(null),Xo=X(0);function Um(t,n){t=Vi,Z(Xo,t),Z(Ja,n),Vi=t|n.baseLanes}function hh(){Z(Xo,Vi),Z(Ja,Ja.current)}function fh(){Vi=Xo.current,et(Ja),et(Xo)}var Zi=0,Tt=null,Ft=null,de=null,Zo=!1,Wa=!1,sa=!1,$o=0,ml=0,ts=null,vE=0;function oe(){throw Error(s(321))}function dh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function mh(t,n,r,l,c,f){return Zi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?_g:vg,sa=!1,f=r(l,c),sa=!1,Wa&&(f=Pm(n,r,l,c)),Lm(t),f}function Lm(t){H.H=iu;var n=Ft!==null&&Ft.next!==null;if(Zi=0,de=Ft=Tt=null,Zo=!1,ml=0,ts=null,n)throw Error(s(300));t===null||Ce||(t=t.dependencies,t!==null&&Go(t)&&(Ce=!0))}function Pm(t,n,r,l){Tt=t;var c=0;do{if(Wa&&(ts=null),ml=0,Wa=!1,25<=c)throw Error(s(301));if(c+=1,de=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=wE,f=n(r,l)}while(Wa);return f}function EE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(Tt.flags|=1024),n}function gh(){var t=$o!==0;return $o=0,t}function ph(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function yh(t){if(Zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zo=!1}Zi=0,de=Ft=Tt=null,Wa=!1,ml=$o=0,ts=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Tt.memoizedState=de=t:de=de.next=t,de}function me(){if(Ft===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=de===null?Tt.memoizedState:de.next;if(n!==null)de=n,Ft=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},de===null?Tt.memoizedState=de=t:de=de.next=t}return de}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,ts===null&&(ts=[]),t=Vm(ts,t,n),n=Tt,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?_g:vg),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ft)return je(t)}throw Error(s(438,String(t)))}function vh(t){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=_h(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function Wo(t){var n=me();return Eh(n,Ft,t)}function Eh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,z=n,G=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ot&Q)===Q:(Zi&Q)===Q){var k=z.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Za&&(G=!0);else if((Zi&k)===k){z=z.next,k===Za&&(G=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=Q,y=f):b=b.next=Q,Tt.lanes|=k,ir|=k;Q=z.action,sa&&r(f,Q),f=z.hasEagerState?z.eagerState:r(f,Q)}else k={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},b===null?(E=b=k,y=f):b=b.next=k,Tt.lanes|=Q,ir|=Q;z=z.next}while(z!==null&&z!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(Ce=!0,G&&(r=$a,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function zm(t,n,r){var l=Tt,c=me(),f=zt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!an((Ft||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=qm.bind(null,l,c,t);if(pl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,es(9,tu(),Bm.bind(null,l,c,r,n),null),Zt===null)throw Error(s(349));f||(Zi&124)!==0||km(l,n,r)}return r}function km(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=_h(),Tt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Bm(t,n,r,l){n.value=r,n.getSnapshot=l,jm(n)&&Hm(t)}function qm(t,n,r){return r(function(){jm(n)&&Hm(t)})}function jm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Hm(t){var n=Qa(t,2);n!==null&&hn(n,t,2)}function Ah(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),sa){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Gm(t,n,r,l){return t.baseState=r,Eh(t,Ft,typeof l=="function"?l:bi)}function TE(t,n,r,l,c){if(nu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Fm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Fm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Qm(t,n,E)}catch(z){Sh(t,n,z)}finally{H.T=f}}else try{f=r(c,l),Qm(t,n,f)}catch(z){Sh(t,n,z)}}function Qm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ym(t,n,l)},function(l){return Sh(t,n,l)}):Ym(t,n,r)}function Ym(t,n,r){n.status="fulfilled",n.value=r,Km(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Fm(t,r)))}function Sh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Km(n),n=n.next;while(n!==l)}t.action=null}function Km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function Zm(t,n){if(zt){var r=Zt.formState;if(r!==null){t:{var l=Tt;if(zt){if(ae){e:{for(var c=ae,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Mn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},r.queue=l,r=gg.bind(null,Tt,l),l.dispatch=r,l=Ah(!1),f=Ch.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=TE.bind(null,Tt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function $m(t){var n=me();return Jm(n,Ft,t)}function Jm(t,n,r){if(n=Eh(t,n,Xm)[0],t=Wo(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(y){throw y===ul?Yo:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,es(9,tu(),AE.bind(null,c,r),null)),[l,f,t]}function AE(t,n){t.action=n}function Wm(t){var n=me(),r=Ft;if(r!==null)return Jm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function es(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=_h(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function tu(){return{destroy:void 0,resource:void 0}}function tg(){return me().memoizedState}function eu(t,n,r,l){var c=$e();l=l===void 0?null:l,Tt.flags|=t,c.memoizedState=es(1|n,tu(),r,l)}function pl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&dh(l,Ft.memoizedState.deps)?c.memoizedState=es(n,f,r,l):(Tt.flags|=t,c.memoizedState=es(1|n,f,r,l))}function eg(t,n){eu(8390656,8,t,n)}function ng(t,n){pl(2048,8,t,n)}function ig(t,n){return pl(4,2,t,n)}function rg(t,n){return pl(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,r){r=r!=null?r.concat([t]):null,pl(4,4,ag.bind(null,n,t),r)}function bh(){}function lg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&dh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function og(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&dh(n,l[1]))return l[0];if(l=t(),sa){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function Rh(t,n,r){return r===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=hp(),Tt.lanes|=t,ir|=t,r)}function ug(t,n,r,l){return an(r,n)?r:Ja.current!==null?(t=Rh(t,r,l),an(t,n)||(Ce=!0),t):(Zi&42)===0?(Ce=!0,t.memoizedState=r):(t=hp(),Tt.lanes|=t,ir|=t,n)}function cg(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Ch(t,!1,n,r);try{var b=c(),z=H.S;if(z!==null&&z(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=_E(b,l);yl(t,n,G,cn(t))}else yl(t,n,l,cn(t))}catch(Q){yl(t,n,{then:function(){},status:"rejected",reason:Q},cn())}finally{tt.p=f,H.T=y}}function SE(){}function wh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=hg(t).queue;cg(t,c,n,lt,r===null?SE:function(){return fg(t),r(l)})}function hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function fg(t){var n=hg(t).next.queue;yl(t,n,{},cn())}function Dh(){return je(Ul)}function dg(){return me().memoizedState}function mg(){return me().memoizedState}function bE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Ki(r);var l=Xi(n,t,r);l!==null&&(hn(l,n,r),hl(l,n,r)),n={cache:ih()},t.payload=n;return}n=n.return}}function RE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},nu(t)?pg(n,r):(r=Yc(t,n,r,l),r!==null&&(hn(r,t,l),yg(r,n,l)))}function gg(t,n,r){var l=cn();yl(t,n,r,l)}function yl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(nu(t))pg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return ko(t,n,c,0),Zt===null&&zo(),!1}catch{}finally{}if(r=Yc(t,n,c,l),r!==null)return hn(r,t,l),yg(r,n,l),!0}return!1}function Ch(t,n,r,l){if(l={lane:2,revertLane:lf(),action:l,hasEagerState:!1,eagerState:null,next:null},nu(t)){if(n)throw Error(s(479))}else n=Yc(t,r,l,2),n!==null&&hn(n,t,2)}function nu(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function pg(t,n){Wa=Zo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function yg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ks(t,r)}}var iu={readContext:je,use:Jo,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},_g={readContext:je,use:Jo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:eg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,eu(4194308,4,ag.bind(null,n,t),r)},useLayoutEffect:function(t,n){return eu(4194308,4,t,n)},useInsertionEffect:function(t,n){eu(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(sa){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(sa){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=RE.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Ah(t);var n=t.queue,r=gg.bind(null,Tt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:bh,useDeferredValue:function(t,n){var r=$e();return Rh(r,t,n)},useTransition:function(){var t=Ah(!1);return t=cg.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Tt,c=$e();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(Ot&124)!==0||km(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,eg(qm.bind(null,l,f,t),[t]),l.flags|=2048,es(9,tu(),Bm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=Zt.identifierPrefix;if(zt){var r=Ti,l=Ei;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n=""+n+"R"+r,r=$o++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=vE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Dh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ch.bind(null,Tt,!0,r),r.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return $e().memoizedState=bE.bind(null,Tt)}},vg={readContext:je,use:Jo,useCallback:lg,useContext:je,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:og,useReducer:Wo,useRef:tg,useState:function(){return Wo(bi)},useDebugValue:bh,useDeferredValue:function(t,n){var r=me();return ug(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Wo(bi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:zm,useId:dg,useHostTransitionStatus:Dh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var r=me();return Gm(r,Ft,t,n)},useMemoCache:vh,useCacheRefresh:mg},wE={readContext:je,use:Jo,useCallback:lg,useContext:je,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:og,useReducer:Th,useRef:tg,useState:function(){return Th(bi)},useDebugValue:bh,useDeferredValue:function(t,n){var r=me();return Ft===null?Rh(r,t,n):ug(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Th(bi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:zm,useId:dg,useHostTransitionStatus:Dh,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var r=me();return Ft!==null?Gm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:vh,useCacheRefresh:mg},ns=null,_l=0;function ru(t){var n=_l;return _l+=1,ns===null&&(ns=[]),Vm(ns,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function au(t,n){throw n.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Eg(t){var n=t._init;return n(t._payload)}function Tg(t){function n(x,C){if(t){var P=x.deletions;P===null?(x.deletions=[C],x.flags|=16):P.push(C)}}function r(x,C){if(!t)return null;for(;C!==null;)n(x,C),C=C.sibling;return null}function l(x){for(var C=new Map;x!==null;)x.key!==null?C.set(x.key,x):C.set(x.index,x),x=x.sibling;return C}function c(x,C){return x=vi(x,C),x.index=0,x.sibling=null,x}function f(x,C,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<C?(x.flags|=67108866,C):P):(x.flags|=67108866,C)):(x.flags|=1048576,C)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,C,P,F){return C===null||C.tag!==6?(C=Xc(P,x.mode,F),C.return=x,C):(C=c(C,P),C.return=x,C)}function b(x,C,P,F){var rt=P.type;return rt===$?G(x,C,P.props.children,F,P.key):C!==null&&(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Eg(rt)===C.type)?(C=c(C,P.props),vl(C,P),C.return=x,C):(C=qo(P.type,P.key,P.props,null,x.mode,F),vl(C,P),C.return=x,C)}function z(x,C,P,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==P.containerInfo||C.stateNode.implementation!==P.implementation?(C=Zc(P,x.mode,F),C.return=x,C):(C=c(C,P.children||[]),C.return=x,C)}function G(x,C,P,F,rt){return C===null||C.tag!==7?(C=Jr(P,x.mode,F,rt),C.return=x,C):(C=c(C,P),C.return=x,C)}function Q(x,C,P){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Xc(""+C,x.mode,P),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return P=qo(C.type,C.key,C.props,null,x.mode,P),vl(P,C),P.return=x,P;case j:return C=Zc(C,x.mode,P),C.return=x,C;case S:var F=C._init;return C=F(C._payload),Q(x,C,P)}if(ie(C)||U(C))return C=Jr(C,x.mode,P,null),C.return=x,C;if(typeof C.then=="function")return Q(x,ru(C),P);if(C.$$typeof===ft)return Q(x,Fo(x,C),P);au(x,C)}return null}function k(x,C,P,F){var rt=C!==null?C.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return rt!==null?null:E(x,C,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return P.key===rt?b(x,C,P,F):null;case j:return P.key===rt?z(x,C,P,F):null;case S:return rt=P._init,P=rt(P._payload),k(x,C,P,F)}if(ie(P)||U(P))return rt!==null?null:G(x,C,P,F,null);if(typeof P.then=="function")return k(x,C,ru(P),F);if(P.$$typeof===ft)return k(x,C,Fo(x,P),F);au(x,P)}return null}function B(x,C,P,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(P)||null,E(C,x,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return x=x.get(F.key===null?P:F.key)||null,b(C,x,F,rt);case j:return x=x.get(F.key===null?P:F.key)||null,z(C,x,F,rt);case S:var Rt=F._init;return F=Rt(F._payload),B(x,C,P,F,rt)}if(ie(F)||U(F))return x=x.get(P)||null,G(C,x,F,rt,null);if(typeof F.then=="function")return B(x,C,P,ru(F),rt);if(F.$$typeof===ft)return B(x,C,P,Fo(C,F),rt);au(C,F)}return null}function mt(x,C,P,F){for(var rt=null,Rt=null,st=C,ht=C=0,Ve=null;st!==null&&ht<P.length;ht++){st.index>ht?(Ve=st,st=null):Ve=st.sibling;var Ut=k(x,st,P[ht],F);if(Ut===null){st===null&&(st=Ve);break}t&&st&&Ut.alternate===null&&n(x,st),C=f(Ut,C,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut,st=Ve}if(ht===P.length)return r(x,st),zt&&ta(x,ht),rt;if(st===null){for(;ht<P.length;ht++)st=Q(x,P[ht],F),st!==null&&(C=f(st,C,ht),Rt===null?rt=st:Rt.sibling=st,Rt=st);return zt&&ta(x,ht),rt}for(st=l(st);ht<P.length;ht++)Ve=B(st,x,ht,P[ht],F),Ve!==null&&(t&&Ve.alternate!==null&&st.delete(Ve.key===null?ht:Ve.key),C=f(Ve,C,ht),Rt===null?rt=Ve:Rt.sibling=Ve,Rt=Ve);return t&&st.forEach(function(fr){return n(x,fr)}),zt&&ta(x,ht),rt}function ct(x,C,P,F){if(P==null)throw Error(s(151));for(var rt=null,Rt=null,st=C,ht=C=0,Ve=null,Ut=P.next();st!==null&&!Ut.done;ht++,Ut=P.next()){st.index>ht?(Ve=st,st=null):Ve=st.sibling;var fr=k(x,st,Ut.value,F);if(fr===null){st===null&&(st=Ve);break}t&&st&&fr.alternate===null&&n(x,st),C=f(fr,C,ht),Rt===null?rt=fr:Rt.sibling=fr,Rt=fr,st=Ve}if(Ut.done)return r(x,st),zt&&ta(x,ht),rt;if(st===null){for(;!Ut.done;ht++,Ut=P.next())Ut=Q(x,Ut.value,F),Ut!==null&&(C=f(Ut,C,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return zt&&ta(x,ht),rt}for(st=l(st);!Ut.done;ht++,Ut=P.next())Ut=B(st,x,ht,Ut.value,F),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?ht:Ut.key),C=f(Ut,C,ht),Rt===null?rt=Ut:Rt.sibling=Ut,Rt=Ut);return t&&st.forEach(function(DT){return n(x,DT)}),zt&&ta(x,ht),rt}function Yt(x,C,P,F){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case O:t:{for(var rt=P.key;C!==null;){if(C.key===rt){if(rt=P.type,rt===$){if(C.tag===7){r(x,C.sibling),F=c(C,P.props.children),F.return=x,x=F;break t}}else if(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Eg(rt)===C.type){r(x,C.sibling),F=c(C,P.props),vl(F,P),F.return=x,x=F;break t}r(x,C);break}else n(x,C);C=C.sibling}P.type===$?(F=Jr(P.props.children,x.mode,F,P.key),F.return=x,x=F):(F=qo(P.type,P.key,P.props,null,x.mode,F),vl(F,P),F.return=x,x=F)}return y(x);case j:t:{for(rt=P.key;C!==null;){if(C.key===rt)if(C.tag===4&&C.stateNode.containerInfo===P.containerInfo&&C.stateNode.implementation===P.implementation){r(x,C.sibling),F=c(C,P.children||[]),F.return=x,x=F;break t}else{r(x,C);break}else n(x,C);C=C.sibling}F=Zc(P,x.mode,F),F.return=x,x=F}return y(x);case S:return rt=P._init,P=rt(P._payload),Yt(x,C,P,F)}if(ie(P))return mt(x,C,P,F);if(U(P)){if(rt=U(P),typeof rt!="function")throw Error(s(150));return P=rt.call(P),ct(x,C,P,F)}if(typeof P.then=="function")return Yt(x,C,ru(P),F);if(P.$$typeof===ft)return Yt(x,C,Fo(x,P),F);au(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,C!==null&&C.tag===6?(r(x,C.sibling),F=c(C,P),F.return=x,x=F):(r(x,C),F=Xc(P,x.mode,F),F.return=x,x=F),y(x)):r(x,C)}return function(x,C,P,F){try{_l=0;var rt=Yt(x,C,P,F);return ns=null,rt}catch(st){if(st===ul||st===Yo)throw st;var Rt=sn(29,st,null,x.mode);return Rt.lanes=F,Rt.return=x,Rt}finally{}}}var is=Tg(!0),Ag=Tg(!1),Sn=X(null),Kn=null;function $i(t){var n=t.alternate;Z(Te,Te.current&1),Z(Sn,t),Kn===null&&(n===null||Ja.current!==null||n.memoizedState!==null)&&(Kn=t)}function Sg(t){if(t.tag===22){if(Z(Te,Te.current),Z(Sn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Ji()}function Ji(){Z(Te,Te.current),Z(Sn,Sn.current)}function Ri(t){et(Sn),Kn===t&&(Kn=null),et(Te)}var Te=X(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||vf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ih(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Ki(l);c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(hn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(hn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(hn(n,t,r),hl(n,t,r))}};function bg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!el(r,l)||!el(c,f):!0}function Rg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Vh.enqueueReplaceState(n,n.state,null)}function la(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wg(t){lu(t)}function Dg(t){console.error(t)}function Cg(t){lu(t)}function ou(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Oh(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){ou(t,n)},r}function Vg(t){return t=Ki(t),t.tag=3,t}function Og(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ig(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ig(n,r,l),typeof c!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function DE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&sl(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Kn===null?ef():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===sh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),rf(t,l,c)),!1;case 22:return r.flags|=65536,l===sh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),rf(t,l,c)),!1}throw Error(s(435,r.tag))}return rf(t,l,c),ef(),!1}if(zt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Wc&&(t=Error(s(422),{cause:l}),al(vn(t,r)))):(l!==Wc&&(n=Error(s(423),{cause:l}),al(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=Oh(t.stateNode,l,c),uh(t,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),wl===null?wl=[f]:wl.push(f),se!==4&&(se=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Oh(r.stateNode,l,t),uh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Vg(c),Og(c,t,r,l),uh(r,c),!1}r=r.return}while(r!==null);return!1}var Ng=Error(s(461)),Ce=!1;function Ue(t,n,r,l){n.child=t===null?Ag(n,null,r,l):is(n,t.child,r,l)}function Mg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ra(n),l=mh(t,n,r,y,f,c),E=gh(),t!==null&&!Ce?(ph(t,n,c),wi(t,n,c)):(zt&&E&&$c(n),n.flags|=1,Ue(t,n,l,c),n.child)}function xg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Kc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ug(t,n,f,l,c)):(t=qo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:el,r(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(el(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Nh(t,n,r,l,c)}function Lg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Pg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,f!==null?f.cachePool:null),f!==null?Um(n,f):hh(),Sg(n);else return n.lanes=n.childLanes=536870912,Pg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Qo(n,f.cachePool),Um(n,f),Ji(),n.memoizedState=null):(t!==null&&Qo(n,null),hh(),Ji());return Ue(t,n,c,r),n.child}function Pg(t,n,r,l){var c=ah();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Qo(n,null),hh(),Sg(n),t!==null&&sl(t,n,l,!0),null}function uu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Nh(t,n,r,l,c){return ra(n),r=mh(t,n,r,l,void 0,c),l=gh(),t!==null&&!Ce?(ph(t,n,c),wi(t,n,c)):(zt&&l&&$c(n),n.flags|=1,Ue(t,n,r,c),n.child)}function zg(t,n,r,l,c,f){return ra(n),n.updateQueue=null,r=Pm(n,l,r,c),Lm(t),l=gh(),t!==null&&!Ce?(ph(t,n,f),wi(t,n,f)):(zt&&l&&$c(n),n.flags|=1,Ue(t,n,r,f),n.child)}function kg(t,n,r,l,c){if(ra(n),n.stateNode===null){var f=Ya,y=r.contextType;typeof y=="object"&&y!==null&&(f=je(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?je(y):Ya,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Ih(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=la(r,E);f.props=b;var z=f.context,G=r.contextType;y=Ya,typeof G=="object"&&G!==null&&(y=je(G));var Q=r.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Rg(n,f,l,y),Yi=!1;var k=n.memoizedState;f.state=k,dl(n,l,f,c),fl(),z=n.memoizedState,E||k!==z||Yi?(typeof Q=="function"&&(Ih(n,r,Q,l),z=n.memoizedState),(b=Yi||bg(n,r,b,l,k,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,oh(t,n),y=n.memoizedProps,G=la(r,y),f.props=G,Q=n.pendingProps,k=f.context,z=r.contextType,b=Ya,typeof z=="object"&&z!==null&&(b=je(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||k!==b)&&Rg(n,f,l,b),Yi=!1,k=n.memoizedState,f.state=k,dl(n,l,f,c),fl();var B=n.memoizedState;y!==Q||k!==B||Yi||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(Ih(n,r,E,l),B=n.memoizedState),(G=Yi||bg(n,r,G,l,k,B,b)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=is(n,t.child,null,c),n.child=is(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Bg(t,n,r,l){return rl(),n.flags|=256,Ue(t,n,r,l),n.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(t){return{baseLanes:t,cachePool:Dm()}}function Uh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function qg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?$i(n):Ji(),zt){var E=ae,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||na(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return vf(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=cu({mode:"hidden",children:E},c),l=Jr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=xh(r),c.childLanes=Uh(t,y,r),n.memoizedState=Mh,l):($i(n),Lh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=Ph(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=cu({mode:"visible",children:l.children},E),c=Jr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,is(n,t.child,null,r),l=n.child,l.memoizedState=xh(r),l.childLanes=Uh(t,y,r),n.memoizedState=Mh,n=c);else if($i(n),vf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,al({value:l,source:null,stack:null}),n=Ph(t,n,r)}else if(Ce||sl(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=Zt,y!==null&&(l=r&-r,l=(l&42)!==0?1:ki(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Qa(t,l),hn(y,t,l),Ng;E.data==="$?"||ef(),n=Ph(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=Mn(E.nextSibling),Ze=n,zt=!0,ea=null,Yn=!1,t!==null&&(Tn[An++]=Ei,Tn[An++]=Ti,Tn[An++]=Wr,Ei=t.id,Ti=t.overflow,Wr=n),n=Lh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,b=t.child,z=b.sibling,l=vi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,z!==null?c=vi(z,c):(c=Jr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=xh(r):(b=E.cachePool,b!==null?(z=Ee._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=Dm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Uh(t,y,r),n.memoizedState=Mh,l):($i(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Lh(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ph(t,n,r){return is(n,t.child,null,r),t=Lh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function jg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),eh(t.return,n,r)}function zh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Hg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,r,n);else if(t.tag===19)jg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&su(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),zh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&su(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}zh(n,!0,r,null,f);break;case"together":zh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(sl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function CE(t,n,r){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Qi(n,Ee,t.memoizedState.cache),rl();break;case 27:case 5:zi(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?qg(t,n,r):($i(n),t=wi(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(sl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Hg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,Lg(t,n,r);case 24:Qi(n,Ee,t.memoizedState.cache)}return wi(t,n,r)}function Gg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!kh(t,r)&&(n.flags&128)===0)return Ce=!1,CE(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,zt&&(n.flags&1048576)!==0&&Em(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Kc(l)?(t=la(l,t),n.tag=1,n=kg(null,n,l,t,r)):(n.tag=0,n=Nh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===xt){n.tag=11,n=Mg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=xg(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(s(306,n,""))}}return n;case 0:return Nh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=la(l,n.pendingProps),kg(t,n,l,c,r);case 3:t:{if(Xt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,oh(t,n),dl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Qi(n,Ee,l),l!==f.cache&&nh(n,[Ee],r,!0),fl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Bg(t,n,l,r);break t}else if(l!==c){c=vn(Error(s(424)),n),al(c),n=Bg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Mn(t.firstChild),Ze=n,zt=!0,ea=null,Yn=!0,r=Ag(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(rl(),l===c){n=wi(t,n,r);break t}Ue(t,n,l,r)}n=n.child}return n;case 26:return uu(t,n),t===null?(r=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=bu(pt.current).createElement(r),l[ye]=n,l[he]=t,Pe(l,r,t),le(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zi(n),t===null&&zt&&(l=n.stateNode=Fp(n.type,n.pendingProps,pt.current),Ze=n,Yn=!0,c=ae,lr(n.type)?(Ef=c,ae=Mn(l.firstChild)):ae=c),Ue(t,n,n.pendingProps.children,r),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=ae)&&(l=nT(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,ae=Mn(l.firstChild),Yn=!1,c=!0):c=!1),c||na(n)),zi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,pf(c,f)?l=null:y!==null&&pf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=mh(t,n,EE,null,null,r),Ul._currentValue=c),uu(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=ae)&&(r=iT(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||na(n)),null;case 13:return qg(t,n,r);case 4:return Xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=is(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qi(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ra(n),c=je(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return xg(t,n,n.type,n.pendingProps,r);case 15:return Ug(t,n,n.type,n.pendingProps,r);case 19:return Hg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=cu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Lg(t,n,r);case 24:return ra(n),l=je(Ee),t===null?(c=ah(),c===null&&(c=Zt,f=ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},lh(n),Qi(n,Ee,c)):((t.lanes&r)!==0&&(oh(t,n),dl(n,null,null,r),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Qi(n,Ee,l)):(l=f.cache,Qi(n,Ee,l),l!==c.cache&&nh(n,[Ee],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Di(t){t.flags|=4}function Fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wp(n)){if(n=Sn.current,n!==null&&((Ot&4194048)===Ot?Kn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Kn))throw cl=sh,Cm;t.flags|=8192}}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ps():536870912,t.lanes|=n,ls|=n)}function El(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function IE(t,n,r){var l=n.pendingProps;switch(Jc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ee),Un(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(il(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ee(n),Fg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ee(n),Fg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ee(n),n.flags&=-16777217),null;case 27:si(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ot.current,il(n)?Tm(n):(t=Fp(c,l,r),n.stateNode=t,Di(n))}return ee(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ot.current,il(n))Tm(n);else{switch(c=bu(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ye]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=pt.current,il(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||zp(t.nodeValue,r)),t||na(n)}else t=bu(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=il(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Sm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),hu(n,n.updateQueue),ee(n),null;case 4:return Un(),t===null&&hf(n.stateNode.containerInfo),ee(n),null;case 10:return Si(n.type),ee(n),null;case 19:if(et(Te),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)El(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=su(t),f!==null){for(n.flags|=128,El(c,!1),t=f.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)vm(r,t),r=r.sibling;return Z(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>mu&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304)}else{if(!l)if(t=su(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),El(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return ee(n),null}else 2*dn()-c.renderingStartTime>mu&&r!==536870912&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Te.current,Z(Te,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ri(n),fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&hu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(aa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function VE(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ee),Un(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Te),null;case 4:return Un(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),fh(),t!==null&&et(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ee),null;case 25:return null;default:return null}}function Qg(t,n){switch(Jc(n),n.tag){case 3:Si(Ee),Un();break;case 26:case 27:case 5:si(n);break;case 4:Un();break;case 13:Ri(n);break;case 19:et(Te);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),fh(),t!==null&&et(aa);break;case 24:Si(Ee)}}function Tl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,z=E;try{z()}catch(G){Kt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function Yg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{xm(n,r)}catch(l){Kt(t,t.return,l)}}}function Kg(t,n,r){r.props=la(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function Xn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Xg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Bh(t,n,r){try{var l=t.stateNode;$E(l,t.type,r,n),l[he]=n}catch(c){Kt(t,t.return,c)}}function Zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Su));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(jh(t,n,r),t=t.sibling;t!==null;)jh(t,n,r),t=t.sibling}function fu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(fu(t,n,r),t=t.sibling;t!==null;)fu(t,n,r),t=t.sibling}function $g(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[ye]=t,n[he]=r}catch(f){Kt(t,t.return,f)}}var Ci=!1,ue=!1,Hh=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function OE(t,n){if(t=t.containerInfo,mf=Vu,t=um(t),qc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,z=0,G=0,Q=t,k=null;e:for(;;){for(var B;Q!==r||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(b=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(B=Q.firstChild)!==null;)k=Q,Q=B;for(;;){if(Q===t)break e;if(k===r&&++z===c&&(E=y),k===f&&++G===l&&(b=y),(B=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(gf={focusedElem:t,selectionRange:r},Vu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=la(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Kt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)_f(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Wg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&Tl(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=la(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&Yg(r),l&512&&Al(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{xm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&$g(r);case 26:case 5:tr(t,r),n===null&&l&4&&Xg(r),l&512&&Al(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&np(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=BE.bind(null,r),rT(t,r))));break;case 22:if(l=r.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ci;var f=ue;Ci=l,(ue=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Ci=c,ue=f}break;case 30:break;default:tr(t,r)}}function tp(t){var n=t.alternate;n!==null&&(t.alternate=null,tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function Ii(t,n,r){for(r=r.child;r!==null;)ep(t,n,r),r=r.sibling}function ep(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:ue||Xn(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Xn(r,n);var l=te,c=Je;lr(r.type)&&(te=r.stateNode,Je=!1),Ii(t,n,r),Ol(r.stateNode),te=l,Je=c;break;case 5:ue||Xn(r,n);case 6:if(l=te,c=Je,te=null,Ii(t,n,r),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:te!==null&&(Je?(t=te,Hp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),kl(t)):Hp(te,r.stateNode));break;case 4:l=te,c=Je,te=r.stateNode.containerInfo,Je=!0,Ii(t,n,r),te=l,Je=c;break;case 0:case 11:case 14:case 15:ue||Wi(2,r,n),ue||Wi(4,r,n),Ii(t,n,r);break;case 1:ue||(Xn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Kg(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:ue=(l=ue)||r.memoizedState!==null,Ii(t,n,r),ue=l;break;default:Ii(t,n,r)}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(r){Kt(n,n.return,r)}}function NE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(s(435,t.tag))}}function Gh(t,n){var r=NE(t);n.forEach(function(l){var c=qE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(s(160));ep(f,y,c),te=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ip(n,t),n=n.sibling}var Nn=null;function ip(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Wi(3,t,t.return),Tl(3,t),Wi(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(ue||r===null||Xn(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(ln(n,t),on(t),l&512&&(ue||r===null||Xn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Lr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[ye]=t,le(f),l=f;break t;case"link":var y=$p("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=$p("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,le(f),l=f}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=Zp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Jp(c,t.type,t.stateNode):Zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(ue||r===null||Xn(r,r.return)),r!==null&&l&4&&Bh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(ue||r===null||Xn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(B){Kt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Bh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Hh=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Kt(t,t.return,B)}}break;case 3:if(Du=null,c=Nn,Nn=Ru(n.containerInfo),ln(n,t),Nn=c,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(B){Kt(t,t.return,B)}Hh&&(Hh=!1,rp(t));break;case 4:l=Nn,Nn=Ru(t.stateNode.containerInfo),ln(n,t),on(t),Nn=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Zh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,z=Ci,G=ue;if(Ci=z||c,ue=G||b,ln(n,t),ue=G,Ci=z,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ci||ue||oa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Kt(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){Kt(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Gh(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Zg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=qh(t);fu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=qh(t);fu(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,z=qh(t);jh(t,z,b);break;default:throw Error(s(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),oa(n);break;case 1:Xn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Kg(n,n.return,r),oa(n);break;case 27:Ol(n.stateNode);case 26:case 5:Xn(n,n.return),oa(n);break;case 22:n.memoizedState===null&&oa(n);break;case 30:oa(n);break;default:oa(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,r),Tl(4,f);break;case 1:if(er(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Mm(b[c],E)}catch(z){Kt(l,l.return,z)}}r&&y&64&&Yg(f),Al(f,f.return);break;case 27:$g(f);case 26:case 5:er(c,f,r),r&&l===null&&y&4&&Xg(f),Al(f,f.return);break;case 12:er(c,f,r);break;case 13:er(c,f,r),r&&y&4&&np(c,f);break;case 22:f.memoizedState===null&&er(c,f,r),Al(f,f.return);break;case 30:break;default:er(c,f,r)}n=n.sibling}}function Fh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function Qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function Zn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ap(t,n,r,l),n=n.sibling}function ap(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,r,l),c&2048&&Tl(9,n);break;case 1:Zn(t,n,r,l);break;case 3:Zn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){Zn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Zn(t,n,r,l);break;case 13:Zn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,r,l):Sl(t,n):f._visibility&2?Zn(t,n,r,l):(f._visibility|=2,rs(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Fh(y,n);break;case 24:Zn(t,n,r,l),c&2048&&Qh(n.alternate,n);break;default:Zn(t,n,r,l)}}function rs(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:rs(f,y,E,b,c),Tl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?rs(f,y,E,b,c):Sl(f,y):(G._visibility|=2,rs(f,y,E,b,c)),c&&z&2048&&Fh(y.alternate,y);break;case 24:rs(f,y,E,b,c),c&&z&2048&&Qh(y.alternate,y);break;default:rs(f,y,E,b,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(r,l),c&2048&&Fh(l.alternate,l);break;case 24:Sl(r,l),c&2048&&Qh(l.alternate,l);break;default:Sl(r,l)}n=n.sibling}}var bl=8192;function as(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)sp(t),t=t.sibling}function sp(t){switch(t.tag){case 26:as(t),t.flags&bl&&t.memoizedState!==null&&yT(Nn,t.memoizedState,t.memoizedProps);break;case 5:as(t);break;case 3:case 4:var n=Nn;Nn=Ru(t.stateNode.containerInfo),as(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,as(t),bl=n):as(t));break;default:as(t)}}function lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,up(l,t)}lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(t),t=t.sibling}function op(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):Rl(t);break;default:Rl(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,up(l,t)}lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),du(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function up(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(tp(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var ME={getCacheForType:function(t){var n=je(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},xE=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,wt=null,Ot=0,Ht=0,un=null,nr=!1,ss=!1,Yh=!1,Vi=0,se=0,ir=0,ua=0,Kh=0,bn=0,ls=0,wl=null,We=null,Xh=!1,Zh=0,mu=1/0,gu=null,rr=null,Le=0,ar=null,os=null,us=0,$h=0,Jh=null,cp=null,Dl=0,Wh=null;function cn(){if((jt&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=Za;return t!==0?t:lf()}return Bi()}function hp(){bn===0&&(bn=(Ot&536870912)===0||zt?Ls():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function hn(t,n,r){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(cs(t,0),sr(t,Ot,bn,!1)),oi(t,r),((jt&2)===0||t!==Zt)&&(t===Zt&&((jt&2)===0&&(ua|=r),se===4&&sr(t,Ot,bn,!1)),$n(t))}function fp(t,n,r){if((jt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Ur(t,n),c=l?PE(t,n):nf(t,n,!0),f=l;do{if(c===0){ss&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!UE(r)){c=nf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=wl;var b=E.current.memoizedState.isDehydrated;if(b&&(cs(E,y).flags|=256),y=nf(E,y,!1),y!==2){if(Yh&&!b){E.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){cs(t,0),sr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,bn,!nr);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Zh+300-dn(),10<c)){if(sr(l,n,bn,!nr),Da(l,0,!0)!==0)break t;l.timeoutHandle=qp(dp.bind(null,l,r,We,gu,Xh,n,bn,ua,ls,nr,f,2,-0,0),c);break t}dp(l,r,We,gu,Xh,n,bn,ua,ls,nr,f,0,-0,0)}}break}while(!0);$n(t)}function dp(t,n,r,l,c,f,y,E,b,z,G,Q,k,B){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:pT},sp(n),Q=_T(),Q!==null)){t.cancelPendingCommit=Q(Ep.bind(null,t,n,f,r,l,c,y,E,b,G,1,k,B)),sr(t,f,y,!z);return}Ep(t,n,f,r,l,c,y,E,b)}function UE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~Kh,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Ln(t,r,n)}function pu(){return(jt&6)===0?(Cl(0),!1):!0}function tf(){if(wt!==null){if(Ht===0)var t=wt.return;else t=wt,Ai=ia=null,yh(t),ns=null,_l=0,t=wt;for(;t!==null;)Qg(t.alternate,t),t=t.return;wt=null}}function cs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,WE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),tf(),Zt=t,wt=r=vi(t.current,null),Ot=n,Ht=0,un=null,nr=!1,ss=Ur(t,n),Yh=!1,ls=bn=Kh=ua=ir=se=0,We=wl=null,Xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,zo(),r}function mp(t,n){Tt=null,H.H=iu,n===ul||n===Yo?(n=Om(),Ht=3):n===Cm?(n=Om(),Ht=4):Ht=n===Ng?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,wt===null&&(se=1,ou(t,vn(n,t.current)))}function gp(){var t=H.H;return H.H=iu,t===null?iu:t}function pp(){var t=H.A;return H.A=ME,t}function ef(){se=4,nr||(Ot&4194048)!==Ot&&Sn.current!==null||(ss=!0),(ir&134217727)===0&&(ua&134217727)===0||Zt===null||sr(Zt,Ot,bn,!1)}function nf(t,n,r){var l=jt;jt|=2;var c=gp(),f=pp();(Zt!==t||Ot!==n)&&(gu=null,cs(t,n)),n=!1;var y=se;t:do try{if(Ht!==0&&wt!==null){var E=wt,b=un;switch(Ht){case 8:tf(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Ht;if(Ht=0,un=null,hs(t,E,b,z),r&&ss){y=0;break t}break;default:z=Ht,Ht=0,un=null,hs(t,E,b,z)}}LE(),y=se;break}catch(G){mp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ai=ia=null,jt=l,H.H=c,H.A=f,wt===null&&(Zt=null,Ot=0,zo()),y}function LE(){for(;wt!==null;)yp(wt)}function PE(t,n){var r=jt;jt|=2;var l=gp(),c=pp();Zt!==t||Ot!==n?(gu=null,mu=dn()+500,cs(t,n)):ss=Ur(t,n);t:do try{if(Ht!==0&&wt!==null){n=wt;var f=un;e:switch(Ht){case 1:Ht=0,un=null,hs(t,n,f,1);break;case 2:case 9:if(Im(f)){Ht=0,un=null,_p(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),$n(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Im(f)?(Ht=0,un=null,_p(n)):(Ht=0,un=null,hs(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Wp(y)){Ht=0,un=null;var b=E.sibling;if(b!==null)wt=b;else{var z=E.return;z!==null?(wt=z,yu(z)):wt=null}break e}}Ht=0,un=null,hs(t,n,f,5);break;case 6:Ht=0,un=null,hs(t,n,f,6);break;case 8:tf(),se=6;break t;default:throw Error(s(462))}}zE();break}catch(G){mp(t,G)}while(!0);return Ai=ia=null,H.H=l,H.A=c,jt=r,wt!==null?0:(Zt=null,Ot=0,zo(),se)}function zE(){for(;wt!==null&&!Ns();)yp(wt)}function yp(t){var n=Gg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?yu(t):wt=n}function _p(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=zg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=zg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:yh(n);default:Qg(r,n),n=wt=vm(n,Vi),n=Gg(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?yu(t):wt=n}function hs(t,n,r,l){Ai=ia=null,yh(n),ns=null,_l=0;var c=n.return;try{if(DE(t,c,n,r,Ot)){se=1,ou(t,vn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;se=1,ou(t,vn(r,t.current)),wt=null;return}n.flags&32768?(zt||l===1?t=!0:ss||(Ot&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){vp(n,nr);return}t=n.return;var r=IE(n.alternate,n,Vi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);se===0&&(se=5)}function vp(t,n){do{var r=VE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);se=6,wt=null}function Ep(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do _u();while(Le!==0);if((jt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Qc,zs(t,r,f,y,E,b),t===Zt&&(wt=Zt=null,Ot=0),os=n,ar=t,us=r,$h=f,Jh=c,cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jE(Or,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=jt,jt|=4;try{OE(t,n,r)}finally{jt=y,tt.p=c,H.T=l}}Le=1,Tp(),Ap(),Sp()}}function Tp(){if(Le===1){Le=0;var t=ar,n=os,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{ip(n,t);var f=gf,y=um(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&om(E.ownerDocument.documentElement,E)){if(b!==null&&qc(E)){var z=b.start,G=b.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var B=k.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Yt=b.end===void 0?ct:Math.min(b.end,mt);!B.extend&&ct>Yt&&(y=Yt,Yt=ct,ct=y);var x=lm(E,ct),C=lm(E,Yt);if(x&&C&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==C.node||B.focusOffset!==C.offset)){var P=Q.createRange();P.setStart(x.node,x.offset),B.removeAllRanges(),ct>Yt?(B.addRange(P),B.extend(C.node,C.offset)):(P.setEnd(C.node,C.offset),B.addRange(P))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Vu=!!mf,gf=mf=null}finally{jt=c,tt.p=l,H.T=r}}t.current=n,Le=2}}function Ap(){if(Le===2){Le=0;var t=ar,n=os,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{Wg(t,n.alternate,n)}finally{jt=c,tt.p=l,H.T=r}}Le=3}}function Sp(){if(Le===4||Le===3){Le=0,fo();var t=ar,n=os,r=us,l=cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,os=ar=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rr=null),Ca(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(us&3)!==0&&_u(),$n(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Wh?Dl++:(Dl=0,Wh=t):Dl=0,Cl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function _u(t){return Tp(),Ap(),Sp(),Rp()}function Rp(){if(Le!==5)return!1;var t=ar,n=$h;$h=0;var r=Ca(us),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=Jh,Jh=null;var f=ar,y=us;if(Le=0,os=ar=null,us=0,(jt&6)!==0)throw Error(s(331));var E=jt;if(jt|=4,op(f.current),ap(f,f.current,y,r),jt=E,Cl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=c,H.T=l,bp(t,n)}}function wp(t,n,r){n=vn(r,n),n=Oh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(oi(t,2),$n(t))}function Kt(t,n,r){if(t.tag===3)wp(t,t,r);else for(;n!==null;){if(n.tag===3){wp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=vn(r,t),r=Vg(2),l=Xi(n,r,2),l!==null&&(Og(r,l,n,t),oi(l,2),$n(l));break}}n=n.return}}function rf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new xE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Yh=!0,c.add(r),t=kE.bind(null,t,n,r),n.then(t,t))}function kE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(Ot&r)===r&&(se===4||se===3&&(Ot&62914560)===Ot&&300>dn()-Zh?(jt&2)===0&&cs(t,0):Kh|=r,ls===Ot&&(ls=0)),$n(t)}function Dp(t,n){n===0&&(n=Ps()),t=Qa(t,n),t!==null&&(oi(t,n),$n(t))}function BE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Dp(t,r)}function qE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Dp(t,r)}function jE(t,n){return Ir(t,n)}var vu=null,fs=null,af=!1,Eu=!1,sf=!1,ca=0;function $n(t){t!==fs&&t.next===null&&(fs===null?vu=fs=t:fs=fs.next=t),Eu=!0,af||(af=!0,GE())}function Cl(t,n){if(!sf&&Eu){sf=!0;do for(var r=!1,l=vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Op(l,f))}else f=Ot,f=Da(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ur(l,f)||(r=!0,Op(l,f));l=l.next}while(r);sf=!1}}function HE(){Cp()}function Cp(){Eu=af=!1;var t=0;ca!==0&&(JE()&&(t=ca),ca=0);for(var n=dn(),r=null,l=vu;l!==null;){var c=l.next,f=Ip(l,n);f===0?(l.next=null,r===null?vu=c:r.next=c,c===null&&(fs=r)):(r=l,(t!==0||(f&3)!==0)&&(Eu=!0)),l=c}Cl(t)}function Ip(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Us(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,r=Ot,r=Da(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ur(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),Ca(r)){case 2:case 8:r=Ra;break;case 32:r=Or;break;case 268435456:r=wa;break;default:r=Or}return l=Vp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_u()&&t.callbackNode!==r)return null;var l=Ot;return l=Da(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),Ip(t,dn()),t.callbackNode!=null&&t.callbackNode===r?Vp.bind(null,t):null)}function Op(t,n){if(_u())return null;fp(t,n,!0)}function GE(){tT(function(){(jt&6)!==0?Ir(Ms,HE):Cp()})}function lf(){return ca===0&&(ca=Ls()),ca}function Np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function Mp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function FE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Np((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?Np(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ua("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var b=y?Mp(c,y):new FormData(c);wh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Mp(c,y):new FormData(c),wh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var of=0;of<Fc.length;of++){var uf=Fc[of],QE=uf.toLowerCase(),YE=uf[0].toUpperCase()+uf.slice(1);On(QE,"on"+YE)}On(fm,"onAnimationEnd"),On(dm,"onAnimationIteration"),On(mm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(cE,"onTransitionRun"),On(hE,"onTransitionStart"),On(fE,"onTransitionCancel"),On(gm,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function xp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,z=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){lu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,z=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){lu(G)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[Bs];r===void 0&&(r=n[Bs]=new Set);var l=t+"__bubble";r.has(l)||(Up(n,t,2,!1),r.add(l))}function cf(t,n,r){var l=0;n&&(l|=4),Up(r,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[Tu]){t[Tu]=!0,qs.forEach(function(r){r!=="selectionchange"&&(KE.has(r)||cf(r,!1,t),cf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,cf("selectionchange",!1,n))}}function Up(t,n,r,l){switch(ay(n)){case 2:var c=TT;break;case 8:c=AT;break;default:c=Rf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function ff(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}So(function(){var z=f,G=pn(r),Q=[];t:{var k=pm.get(t);if(k!==void 0){var B=Ua,mt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":B=qa;break;case"focusin":mt="focus",B=za;break;case"focusout":mt="blur",B=za;break;case"beforeblur":case"afterblur":B=za;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Oo;break;case fm:case dm:case mm:B=ka;break;case gm:B=Mo;break;case"scroll":case"scrollend":B=bo;break;case"wheel":B=ja;break;case"copy":case"cut":case"paste":B=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ws;break;case"toggle":case"beforetoggle":B=Uo}var ct=(n&4)!==0,Yt=!ct&&(t==="scroll"||t==="scrollend"),x=ct?k!==null?k+"Capture":null:k;ct=[];for(var C=z,P;C!==null;){var F=C;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||x===null||(F=Hr(C,x),F!=null&&ct.push(Vl(C,F,P))),Yt)break;C=C.return}0<ct.length&&(k=new B(k,mt,null,r,G),Q.push({event:k,listeners:ct}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==di&&(mt=r.relatedTarget||r.fromElement)&&(ui(mt)||mt[mn]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(mt=r.relatedTarget||r.toElement,B=z,mt=mt?ui(mt):null,mt!==null&&(Yt=h(mt),ct=mt.tag,mt!==Yt||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(B=null,mt=z),B!==mt)){if(ct=_n,F="onMouseLeave",x="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Ws,F="onPointerLeave",x="onPointerEnter",C="pointer"),Yt=B==null?k:zn(B),P=mt==null?k:zn(mt),k=new ct(F,C+"leave",B,r,G),k.target=Yt,k.relatedTarget=P,F=null,ui(G)===z&&(ct=new ct(x,C+"enter",mt,r,G),ct.target=P,ct.relatedTarget=Yt,F=ct),Yt=F,B&&mt)e:{for(ct=B,x=mt,C=0,P=ct;P;P=ds(P))C++;for(P=0,F=x;F;F=ds(F))P++;for(;0<C-P;)ct=ds(ct),C--;for(;0<P-C;)x=ds(x),P--;for(;C--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=ds(ct),x=ds(x)}ct=null}else ct=null;B!==null&&Lp(Q,k,B,ct,!1),mt!==null&&Yt!==null&&Lp(Q,Yt,mt,ct,!0)}}t:{if(k=z?zn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var rt=em;else if(ve(k))if(nm)rt=lE;else{rt=aE;var Rt=rE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Qs(z.elementType)&&(rt=em):rt=sE;if(rt&&(rt=rt(t,z))){_i(Q,rt,r,G);break t}Rt&&Rt(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Gi(k,"number",k.value)}switch(Rt=z?zn(z):window,t){case"focusin":(ve(Rt)||Rt.contentEditable==="true")&&(Ha=Rt,jc=z,nl=null);break;case"focusout":nl=jc=Ha=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,cm(Q,r,G);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":cm(Q,r,G)}var st;if(Fn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else It?q(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(p&&r.locale!=="ko"&&(It||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&It&&(st=Ks()):(qn=G,Fi="value"in qn?qn.value:qn.textContent,It=!0)),Rt=Au(z,ht),0<Rt.length&&(ht=new $s(ht,t,null,r,G),Q.push({event:ht,listeners:Rt}),st?ht.data=st:(st=W(r),st!==null&&(ht.data=st)))),(st=m?_e(t,r):Vt(t,r))&&(ht=Au(z,"onBeforeInput"),0<ht.length&&(Rt=new $s("onBeforeInput","beforeinput",null,r,G),Q.push({event:Rt,listeners:ht}),Rt.data=st)),FE(Q,t,z,r,G)}xp(Q,n)})}function Vl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Au(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hr(t,r),c!=null&&l.unshift(Vl(t,c,f)),c=Hr(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,z=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||z===null||(b=z,c?(z=Hr(r,f),z!=null&&y.unshift(Vl(r,z,b))):c||(z=Hr(r,f),z!=null&&y.push(Vl(r,z,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var XE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function Pp(t){return(typeof t=="string"?t:""+t).replace(XE,`
`).replace(ZE,"")}function zp(t,n){return n=Pp(n),Pp(t)===n}function Su(){}function Qt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":Fs(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=xa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=xa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Su);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=xa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Uc.get(r)||r,Hi(t,r,l))}}function df(t,n,r,l,c,f){switch(r){case"style":Fs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hi(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,f,y,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Qt(t,n,l,G,r,null)}}Br(t,f,E,b,z,y,c,!1),Ma(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(t,n,y,E,r,null)}qr(t,l,c,f),Ma(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Dt(Il[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,z,l,r,null)}return;default:if(Qs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&df(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Qt(t,n,E,l,r,null))}function $E(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,z=null,G=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(B)||Qt(t,n,B,null,l,Q)}}for(var k in l){var B=l[k];if(Q=r[k],l.hasOwnProperty(k)&&(B!=null||Q!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Qt(t,n,k,B,l,Q)}}rn(t,y,E,b,z,G,f,c);return;case"select":B=y=E=k=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Qt(t,n,c,f,l,b)}n=E,r=y,l=B,k!=null?fi(t,!!r,k,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Qt(t,n,y,c,l,f)}Gt(t,k,B);return;case"option":for(var mt in r)if(k=r[mt],r.hasOwnProperty(mt)&&k!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Qt(t,n,mt,null,l,k)}for(b in l)if(k=l[b],B=r[b],l.hasOwnProperty(b)&&k!==B&&(k!=null||B!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qt(t,n,b,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)k=r[ct],r.hasOwnProperty(ct)&&k!=null&&!l.hasOwnProperty(ct)&&Qt(t,n,ct,null,l,k);for(z in l)if(k=l[z],B=r[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Qt(t,n,z,k,l,B)}return;default:if(Qs(n)){for(var Yt in r)k=r[Yt],r.hasOwnProperty(Yt)&&k!==void 0&&!l.hasOwnProperty(Yt)&&df(t,n,Yt,void 0,l,k);for(G in l)k=l[G],B=r[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||df(t,n,G,k,l,B);return}}for(var x in r)k=r[x],r.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Qt(t,n,x,null,l,k);for(Q in l)k=l[Q],B=r[Q],!l.hasOwnProperty(Q)||k===B||k==null&&B==null||Qt(t,n,Q,k,l,B)}var mf=null,gf=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function JE(){var t=window.event;return t&&t.type==="popstate"?t===yf?!1:(yf=t,!0):(yf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(t){return jp.resolve(null).then(t).catch(eT)}:qp;function eT(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function Hp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Ol(y.documentElement),r&2&&Ol(y.body),r&4)for(r=y.head,Ol(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Lr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),kl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);kl(n)}function _f(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_f(r),ji(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function nT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function iT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Mn(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function rT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Ef=null;function Gp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Fp(t,n,r){switch(n=bu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ji(t)}var Rn=new Map,Qp=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=tt.d;tt.d={f:aT,r:sT,D:lT,C:oT,L:uT,m:cT,X:fT,S:hT,M:dT};function aT(){var t=Oi.f(),n=pu();return t||n}function sT(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?fg(n):Oi.r(t)}var ms=typeof document>"u"?null:document;function Yp(t,n,r){var l=ms;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Qp.has(c)||(Qp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),le(n),l.head.appendChild(n)))}}function lT(t){Oi.D(t),Yp("dns-prefetch",t,null)}function oT(t,n){Oi.C(t,n),Yp("preconnect",t,n)}function uT(t,n,r){Oi.L(t,n,r);var l=ms;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=gs(t);break;case"script":f=ps(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),Pe(n,"link",t),le(n),l.head.appendChild(n)))}}function cT(t,n){Oi.m(t,n);var r=ms;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ps(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ml(f)))return}l=r.createElement("link"),Pe(l,"link",t),le(l),r.head.appendChild(l)}}}function hT(t,n,r){Oi.S(t,n,r);var l=ms;if(l&&t){var c=Ye(l).hoistableStyles,f=gs(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Nl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Rn.get(f))&&Tf(t,r);var b=y=l.createElement("link");le(b),Pe(b,"link",t),b._p=new Promise(function(z,G){b.onload=z,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function fT(t,n){Oi.X(t,n);var r=ms;if(r&&t){var l=Ye(r).hoistableScripts,c=ps(t),f=l.get(c);f||(f=r.querySelector(Ml(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&Af(t,n),f=r.createElement("script"),le(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function dT(t,n){Oi.M(t,n);var r=ms;if(r&&t){var l=Ye(r).hoistableScripts,c=ps(t),f=l.get(c);f||(f=r.querySelector(Ml(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&Af(t,n),f=r.createElement("script"),le(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Kp(t,n,r,l){var c=(c=pt.current)?Ru(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=gs(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=gs(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Nl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(t,r),f||mT(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ps(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function gs(t){return'href="'+fe(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function mT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),le(n),t.head.appendChild(n))}function ps(t){return'[src="'+fe(t)+'"]'}function Ml(t){return"script[async]"+t}function Zp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Pe(l,"style",c),wu(l,r.precedence,t),n.instance=l;case"stylesheet":c=gs(r.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Xp(r),(c=Rn.get(c))&&Tf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",l),n.state.loading|=4,wu(f,r.precedence,t),n.instance=f;case"script":return f=ps(r.src),(c=t.querySelector(Ml(f)))?(n.instance=c,le(c),c):(l=r,(c=Rn.get(f))&&(l=A({},r),Af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,r.precedence,t));return n.instance}function wu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function $p(t,n,r){if(Du===null){var l=new Map,c=Du=new Map;c.set(r,l)}else c=Du,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Lr]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Jp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function gT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function pT(){}function yT(t,n,r){if(xl===null)throw Error(s(475));var l=xl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=gs(r.href),f=t.querySelector(Nl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Xp(r),(c=Rn.get(c))&&Tf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function _T(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&Sf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Sf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function Sf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(vT,t),Iu=null,Cu.call(t))}function vT(t,n){if(!(n.state.loading&4)){var r=Iu.get(t);if(r)var l=r.get(null);else{r=new Map,Iu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function ET(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ty(t,n,r,l,c,f,y,E,b,z,G,Q){return t=new ET(t,n,r,y,E,b,z,Q),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},lh(f),t}function ey(t){return t?(t=Ya,t):Ya}function ny(t,n,r,l,c,f){c=ey(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(hn(r,t,n),hl(r,t,n))}function iy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function bf(t,n){iy(t,n),(t=t.alternate)&&iy(t,n)}function ry(t){if(t.tag===13){var n=Qa(t,67108864);n!==null&&hn(n,t,67108864),bf(t,67108864)}}var Vu=!0;function TT(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,Rf(t,n,r,l)}finally{tt.p=f,H.T=c}}function AT(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,Rf(t,n,r,l)}finally{tt.p=f,H.T=c}}function Rf(t,n,r,l){if(Vu){var c=wf(l);if(c===null)ff(t,n,l,Ou,r),sy(t,l);else if(bT(c,t,n,r,l))l.stopPropagation();else if(sy(t,l),n&4&&-1<ST.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}$n(f),(jt&6)===0&&(mu=dn()+500,Cl(0))}}break;case 13:E=Qa(f,2),E!==null&&hn(E,f,2),pu(),bf(f,2)}if(f=wf(l),f===null&&ff(t,n,l,Ou,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else ff(t,n,l,null,r)}}function wf(t){return t=pn(t),Df(t)}var Ou=null;function Df(t){if(Ou=null,t=ui(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ic()){case Ms:return 2;case Ra:return 8;case Or:case Vc:return 32;case wa:return 268435456;default:return 32}default:return 32}}var Cf=!1,or=null,ur=null,cr=null,Ll=new Map,Pl=new Map,hr=[],ST="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sy(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(n.pointerId)}}function zl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function bT(t,n,r,l,c){switch(n){case"focusin":return or=zl(or,t,n,r,l,c),!0;case"dragenter":return ur=zl(ur,t,n,r,l,c),!0;case"mouseover":return cr=zl(cr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ll.set(f,zl(Ll.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Pl.set(f,zl(Pl.get(f)||null,t,n,r,l,c)),!0}return!1}function ly(t){var n=ui(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,po(t.priority,function(){if(r.tag===13){var l=cn();l=ki(l);var c=Qa(r,l);c!==null&&hn(c,r,l),bf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=wf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);di=l,r.target.dispatchEvent(l),di=null}else return n=Pn(r),n!==null&&ry(n),t.blockedOn=r,!1;n.shift()}return!0}function oy(t,n,r){Nu(t)&&r.delete(n)}function RT(){Cf=!1,or!==null&&Nu(or)&&(or=null),ur!==null&&Nu(ur)&&(ur=null),cr!==null&&Nu(cr)&&(cr=null),Ll.forEach(oy),Pl.forEach(oy)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,Cf||(Cf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,RT)))}var xu=null;function uy(t){xu!==t&&(xu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){xu===t&&(xu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Df(l||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function kl(t){function n(b){return Mu(b,t)}or!==null&&Mu(or,t),ur!==null&&Mu(ur,t),cr!==null&&Mu(cr,t),Ll.forEach(n),Pl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)ly(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||uy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(Df(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),uy(r)}}}function If(t){this._internalRoot=t}Uu.prototype.render=If.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=cn();ny(r,l,t,n,null,null)},Uu.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ny(t.current,2,null,t,null,null),pu(),n[mn]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&ly(t)}};var cy=e.version;if(cy!=="19.1.0")throw Error(s(527,cy,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var wT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{re=Lu.inject(wT),qt=Lu}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=wg,f=Dg,y=Cg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ty(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,hf(t),new If(n)},ql.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=wg,y=Dg,E=Cg,b=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=ty(t,1,!0,n,r??null,l,c,f,y,E,b,z),n.context=ey(null),r=n.current,l=cn(),l=ki(l),c=Ki(l),c.callback=null,Xi(r,c,l),r=l,n.current.lanes=r,oi(n,r),$n(n),t[mn]=n.current,hf(t),new Uu(n)},ql.version="19.1.0",ql}var Ty;function LT(){if(Ty)return Nf.exports;Ty=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=UT(),Nf.exports}var PT=LT();const zT=()=>{};var Ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},kT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=h>>2,I=(h&3)<<4|g>>4;let O=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(O=64)),s.push(i[A],i[I],i[O],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(k_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):kT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const I=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||v==null||I==null)throw new BT;const O=h<<2|g>>4;if(s.push(O),v!==64){const j=g<<4&240|v>>2;if(s.push(j),I!==64){const $=v<<6&192|I;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class BT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qT=function(a){const e=k_(a);return B_.encodeByteArray(e,!0)},Ku=function(a){return qT(a).replace(/\./g,"")},jT=function(a){try{return B_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=()=>HT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof Ay>"u")return;const a=Ay.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},QT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&jT(a[1]);return e&&JSON.parse(e)},pd=()=>{try{return zT()||GT()||FT()||QT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},YT=a=>{var e,i;return(i=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},KT=a=>{const e=YT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},q_=()=>{var a;return(a=pd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Ku(JSON.stringify(i)),Ku(JSON.stringify(d)),""].join(".")}const Ql={};function JT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?a.emulator.push(e):a.prod.push(e);return a}function WT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Sy=!1;function t1(a,e){if(typeof window>"u"||typeof document>"u"||!yd(window.location.host)||Ql[a]===e||Ql[a]||Sy)return;Ql[a]=e;function i(O){return`__firebase__banner__${O}`}const s="__firebase__banner",h=JT().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,j){O.setAttribute("width","24"),O.setAttribute("id",j),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Sy=!0,d()},O}function A(O,j){O.setAttribute("id",j),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function I(){const O=WT(s),j=i("text"),$=document.getElementById(j)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),St=i("preprendIcon"),gt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ft=O.element;g(ft),A(J,it);const xt=v();_(gt,St),ft.append(gt,$,J,xt),document.body.appendChild(ft)}h?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n1(){var a;const e=(a=pd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function r1(){return!n1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j_(){try{return typeof indexedDB=="object"}catch{return!1}}function H_(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function a1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="FirebaseError";class Dr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=s1,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?l1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Dr(o,g,s)}}function l1(a,e){return a.replace(o1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const o1=/\{\$([^}]+)}/g;function Jl(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(by(h)&&by(d)){if(!Jl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function by(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=1e3,c1=2,h1=4*60*60*1e3,f1=.5;function Ry(a,e=u1,i=c1){const s=e*Math.pow(i,a),o=Math.round(f1*s*(Math.random()-.5)*2);return Math.min(h1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(a){return a&&a._delegate?a._delegate:a}class xi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new XT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g1(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:m1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m1(a){return a===ha?void 0:a}function g1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new d1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Mt||(Mt={}));const y1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},_1=Mt.INFO,v1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},E1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=v1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _d{constructor(e){this.name=e,this._logLevel=_1,this._logHandler=E1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const T1=(a,e)=>e.some(i=>a instanceof i);let wy,Dy;function A1(){return wy||(wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S1(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G_=new WeakMap,Yf=new WeakMap,F_=new WeakMap,Lf=new WeakMap,vd=new WeakMap;function b1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(gr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&G_.set(i,a)}).catch(()=>{}),vd.set(e,a),e}function R1(a){if(Yf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Yf.set(a,e)}let Kf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Yf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||F_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function w1(a){Kf=a(Kf)}function D1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Pf(this),e,...i);return F_.set(s,e.sort?e.sort():[e]),gr(s)}:S1().includes(a)?function(...e){return a.apply(Pf(this),e),gr(G_.get(this))}:function(...e){return gr(a.apply(Pf(this),e))}}function C1(a){return typeof a=="function"?D1(a):(a instanceof IDBTransaction&&R1(a),T1(a,A1())?new Proxy(a,Kf):a)}function gr(a){if(a instanceof IDBRequest)return b1(a);if(Lf.has(a))return Lf.get(a);const e=C1(a);return e!==a&&(Lf.set(a,e),vd.set(e,a)),e}const Pf=a=>vd.get(a);function Q_(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=gr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(gr(d.result),_.oldVersion,_.newVersion,gr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const I1=["get","getKey","getAll","getAllKeys","count"],V1=["put","add","delete","clear"],zf=new Map;function Cy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=V1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||I1.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return zf.set(e,h),h}w1(a=>({...a,get:(e,i,s)=>Cy(e,i)||a.get(e,i,s),has:(e,i)=>!!Cy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(N1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function N1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Iy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new _d("@firebase/app"),M1="@firebase/app-compat",x1="@firebase/analytics-compat",U1="@firebase/analytics",L1="@firebase/app-check-compat",P1="@firebase/app-check",z1="@firebase/auth",k1="@firebase/auth-compat",B1="@firebase/database",q1="@firebase/data-connect",j1="@firebase/database-compat",H1="@firebase/functions",G1="@firebase/functions-compat",F1="@firebase/installations",Q1="@firebase/installations-compat",Y1="@firebase/messaging",K1="@firebase/messaging-compat",X1="@firebase/performance",Z1="@firebase/performance-compat",$1="@firebase/remote-config",J1="@firebase/remote-config-compat",W1="@firebase/storage",tA="@firebase/storage-compat",eA="@firebase/firestore",nA="@firebase/ai",iA="@firebase/firestore-compat",rA="firebase",aA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",sA={[Xf]:"fire-core",[M1]:"fire-core-compat",[U1]:"fire-analytics",[x1]:"fire-analytics-compat",[P1]:"fire-app-check",[L1]:"fire-app-check-compat",[z1]:"fire-auth",[k1]:"fire-auth-compat",[B1]:"fire-rtdb",[q1]:"fire-data-connect",[j1]:"fire-rtdb-compat",[H1]:"fire-fn",[G1]:"fire-fn-compat",[F1]:"fire-iid",[Q1]:"fire-iid-compat",[Y1]:"fire-fcm",[K1]:"fire-fcm-compat",[X1]:"fire-perf",[Z1]:"fire-perf-compat",[$1]:"fire-rc",[J1]:"fire-rc-compat",[W1]:"fire-gcs",[tA]:"fire-gcs-compat",[eA]:"fire-fst",[iA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[rA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,lA=new Map,$f=new Map;function Vy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function vr(a){const e=a.name;if($f.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,a);for(const i of Xu.values())Vy(i,a);for(const i of lA.values())Vy(i,a);return!0}function so(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function oA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new cc("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=aA;function Y_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw pr.create("bad-app-name",{appName:String(o)});if(i||(i=q_()),!i)throw pr.create("no-options");const h=Xu.get(o);if(h){if(Jl(i,h.options)&&Jl(s,h.config))return h;throw pr.create("duplicate-app",{appName:o})}const d=new p1(o);for(const _ of $f.values())d.addComponent(_);const g=new cA(i,s,d);return Xu.set(o,g),g}function K_(a=Zf){const e=Xu.get(a);if(!e&&a===Zf&&q_())return Y_();if(!e)throw pr.create("no-app",{appName:a});return e}function Wn(a,e,i){var s;let o=(s=sA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(g.join(" "));return}vr(new xi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",dA=1,Wl="firebase-heartbeat-store";let kf=null;function X_(){return kf||(kf=Q_(fA,dA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Wl)}catch(i){console.warn(i)}}}}).catch(a=>{throw pr.create("idb-open",{originalErrorMessage:a.message})})),kf}async function mA(a){try{const i=(await X_()).transaction(Wl),s=await i.objectStore(Wl).get(Z_(a));return await i.done,s}catch(e){if(e instanceof Dr)Ui.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function Oy(a,e){try{const s=(await X_()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,Z_(a)),await s.done}catch(i){if(i instanceof Dr)Ui.warn(i.message);else{const s=pr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function Z_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1024,pA=30;class yA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ny();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>pA){const d=EA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ny(),{heartbeatsToSend:s,unsentEntries:o}=_A(this._heartbeatsCache.heartbeats),h=Ku(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ui.warn(i),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function _A(a,e=gA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),My(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),My(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class vA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j_()?H_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function My(a){return Ku(JSON.stringify({version:2,heartbeats:a})).length}function EA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(a){vr(new xi("platform-logger",e=>new O1(e),"PRIVATE")),vr(new xi("heartbeat",e=>new yA(e),"PRIVATE")),Wn(Xf,Iy,a),Wn(Xf,Iy,"esm2017"),Wn("fire-js","")}TA("");var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,$_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(V,M,U){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[M].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)V[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)V[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],M=N.g[2];var U=N.g[3],R=S+(U^w&(M^U))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,V=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[M++]=N.charCodeAt(U++),M==this.blockSize){o(this,V),M=0;break}}else for(;U<S;)if(V[M++]=N[U++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)N[w++]=this.g[S]>>>V&255;return N};function h(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],V=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;V&&U==S||(w[M]=U,V=!1)}this.g=w}var g={};function _(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return J(v(-N));for(var S=[],w=1,V=0;N>=w;V++)S[V]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=I,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),V=V.j(U).add(v(R))):(V=V.j(w),V=V.add(v(R)))}return V}var I=_(0),O=_(1),j=_(16777216);a=d.prototype,a.m=function(){if(it(this))return-J(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);N+=(0<=V?V:4294967296+V)*S,S*=4294967296}return N},a.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(it(this))return"-"+J(this).toString(N);for(var S=v(Math.pow(N,6)),w=this,V="";;){var M=xt(w,S).g;w=St(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,$(w))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},a.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}a.l=function(N){return N=St(this,N),it(N)?-1:$(N)?0:1};function J(N){for(var S=N.g.length,w=[],V=0;V<S;V++)w[V]=~N.g[V];return new d(w,~N.h).add(O)}a.abs=function(){return it(this)?J(this):this},a.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0,M=0;M<=S;M++){var U=V+(this.i(M)&65535)+(N.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function St(N,S){return N.add(J(S))}a.j=function(N){if($(this)||$(N))return I;if(it(this))return it(N)?J(this).j(J(N)):J(J(this).j(N));if(it(N))return J(this.j(J(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<N.g.length;M++){var U=this.i(V)>>>16,R=this.i(V)&65535,Ne=N.i(M)>>>16,ie=N.i(M)&65535;w[2*V+2*M]+=R*ie,gt(w,2*V+2*M),w[2*V+2*M+1]+=U*ie,gt(w,2*V+2*M+1),w[2*V+2*M+1]+=R*Ne,gt(w,2*V+2*M+1),w[2*V+2*M+2]+=U*Ne,gt(w,2*V+2*M+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function gt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function xt(N,S){if($(S))throw Error("division by zero");if($(N))return new ft(I,I);if(it(N))return S=xt(J(N),S),new ft(J(S.g),J(S.h));if(it(S))return S=xt(N,J(S)),new ft(J(S.g),S.h);if(30<N.g.length){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=O,V=S;0>=V.l(N);)w=vt(w),V=vt(V);var M=Lt(w,1),U=Lt(V,1);for(V=Lt(V,2),w=Lt(w,2);!$(V);){var R=U.add(V);0>=R.l(N)&&(M=M.add(w),U=R),V=Lt(V,1),w=Lt(w,1)}return S=St(N,M.j(S)),new ft(M,S)}for(M=I;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=v(w),R=U.j(S);it(R)||0<R.l(N);)w-=V,U=v(w),R=U.j(S);$(U)&&(U=O),M=M.add(U),N=St(N,R)}return new ft(M,N)}a.A=function(N){return xt(this,N).h},a.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},a.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},a.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function vt(N){for(var S=N.g.length+1,w=[],V=0;V<S;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function Lt(N,S){var w=S>>5;S%=32;for(var V=N.g.length-w,M=[],U=0;U<V;U++)M[U]=0<S?N.i(U+w)>>>S|N.i(U+w+1)<<32-S:N.i(U+w);return new d(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,yr=d}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J_,jl,W_,ju,Jf,tv,ev,nv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function O(u,m,p){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,O.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var W=Array(arguments.length-2),It=2;It<arguments.length;It++)W[It-2]=arguments[It];return m.prototype[L].apply(T,W)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let W=0;W<q;W++)u[L+W]=T[W]}else u.push(T)}}class St{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function xt(u){return xt[" "](u),u}xt[" "]=function(){};var vt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function N(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new St(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Pt=new Ne,D=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){U(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{xt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}$(bt,Z);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Un(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Xt,this.da=this.fa=!1}function zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Ir(u,m,T,L);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new Un(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function Cr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(zi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ir(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Ns={};function fo(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)fo(u,m[q],p,T,L);return null}return p=mo(p),u&&u[Re]?u.K(m,p,v(T)?!!T.capture:!1,L):dn(u,m,p,!1,T,L)}function dn(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,It=wa(u);if(It||(u[Vr]=It=new si(u)),p=It.add(m,p,T,W,q),p.proxy)return p;if(T=Ic(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ot||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Or(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ic(){function u(p){return m.call(u.src,u.listener,p)}const m=Vc;return u}function Ms(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ms(u,m[q],p,T,L);else T=v(T)?!!T.capture:!!T,p=mo(p),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Ir(q,p,T,L),-1<p&&(zi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=wa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ir(m,p,T,L)),(p=-1<u?m[u]:null)&&Ra(p))}function Ra(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Cr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Or(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=wa(m))?(Cr(p,u),p.h==0&&(p.src=null,m[Vr]=null)):zi(u)}}}function Or(u){return u in Ns?Ns[u]:Ns[u]="on"+u}function Vc(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Ra(u),u=p.call(T,m)}return u}function wa(u){return u=u[Vr],u instanceof si?u:null}var xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(u){return typeof u=="function"?u:(u[xs]||(u[xs]=function(m){return u.handleEvent(m)}),u[xs])}function re(){et.call(this),this.i=new si(this),this.M=this,this.F=null}$(re,et),re.prototype[Re]=!0,re.prototype.removeEventListener=function(u,m,p,T){Ms(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Z(m,u);else if(m instanceof Z)m.target=m.target||u;else{var L=m;m=new Z(T,u),V(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];L=nn(W,T,!0,m)&&L}if(W=m.g=u,L=nn(W,T,!0,m)&&L,L=nn(W,T,!1,m)&&L,p)for(q=0;q<p.length;q++)W=m.g=p[q],L=nn(W,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)zi(p[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},re.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function nn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var It=W.listener,_e=W.ha||W.src;W.fa&&Cr(u.i,W),L=It.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function qe(u,m,p){if(typeof u=="function")p&&(u=O(u,p));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function go(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Oc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){et.call(this),this.h=u,this.g={}}$(Nr,et);var Mr=[];function xr(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ra(m)},u),u.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),xr(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Da=g.JSON.parse,Ur=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Us(){}Us.prototype.h=null;function Ls(u){return u.h||(u.h=u.i())}function Ps(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){Z.call(this,"d")}$(oi,Z);function zs(){Z.call(this,"c")}$(zs,Z);var Ln={},ks=null;function ki(){return ks=ks||new re}Ln.La="serverreachability";function Ca(u){Z.call(this,Ln.La,u)}$(Ca,Z);function Bi(u){const m=ki();qt(m,new Ca(m))}Ln.STAT_EVENT="statevent";function po(u,m){Z.call(this,Ln.STAT_EVENT,u),this.stat=m}$(po,Z);function Wt(u){const m=ki();qt(m,new po(m,u))}Ln.Ma="timingevent";function ye(u,m){Z.call(this,Ln.Ma,u),this.size=m}$(ye,Z);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Bs(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var W="",It=q.split("&"),_e=0;_e<It.length;_e++){var Vt=It[_e].split("=");if(1<Vt.length){var De=Vt[0];Vt=Vt[1];var ve=De.split("_");W=2<=ve.length&&ve[1]=="type"?W+(De+"="+Vt+"&"):W+(De+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function Nc(u,m,p,T,L,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+W})}function qi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lr(u,p)+(T?" "+T:"")})}function yo(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Lr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Cn(p)}catch{return m}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function zn(){}$(zn,Us),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Pn=new zn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var qs={},Ia={};function In(u,m,p){u.L=1,u.v=qr(rn(m)),u.m=p,u.P=!0,ci(u,null)}function ci(u,m){u.F=Date.now(),Pr(u),u.A=rn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ys(p.i,"t",T),u.C=0,p=u.j.J,u.h=new le,u.g=Mo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Oc(O(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Mr[0]=L.toString()),L=Mr);for(var q=0;q<L.length;q++){var W=fo(p,L[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bi(),Bs(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const ve=_n(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Ro(this.g)))){this.J||ve!=4||m==7||(m==8||0>=_i?Bi(3):Bi(2)),Hi(this);var p=this.g.Z();this.X=p;e:if(_o(this)){var T=Ro(this.g);u="";var L=T.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),kn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Nc(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,_e=this.g;if((It=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(It)){var Vt=It;break e}}Vt=null}if(p=Vt)qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,p);else{this.o=!1,this.s=3,Wt(12),Me(this),kn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<W.length;)if(xe=vo(this,W),xe==Ia){ve==4&&(this.s=4,Wt(14),p=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==qs){this.s=4,Wt(15),qi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else qi(this.i,this.l,xe,null),zr(this,xe);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)qi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),kn(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Xr(De),De.M=!0,Wt(11))}}else qi(this.i,this.l,W,null),zr(this,W);ve==4&&Me(this),this.o&&!this.J&&(ve==4?Vo(this.j,this):(this.o=!1,Pr(this)))}else Pc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),kn(this)}}}catch{}finally{}};function _o(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function vo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ia:(p=Number(m.substring(p,T)),isNaN(p)?qs:(T+=1,T+p>m.length?Ia:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Pr(u){u.S=Date.now()+u.I,Eo(u,u.I)}function Eo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(O(u.ba,u),m)}function Hi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(yo(this.i,this.A),this.L!=2&&(Bi(),Wt(17)),Me(this),this.s=2,kn(this)):Eo(this,this.S-u)};function kn(u){u.j.G==0||u.J||Vo(u.j,u)}function Me(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,xr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function zr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||js(p.h,u))){if(!u.K&&js(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)qa(p),ka(p);else break t;Js(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(O(p.Za,p),6e3));if(1>=Oa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else yi(p,11)}else if((u.K||p.g==u)&&qa(p),!gt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Vt=L[m];if(p.T=Vt[0],Vt=Vt[1],p.G==2)if(Vt[0]=="c"){p.K=Vt[1],p.ia=Vt[2];const De=Vt[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const ve=Vt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const _i=Vt[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=u.g;if(xe){const Qn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var q=T.h;q.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Na(q,q.h),q.h=null))}if(T.D){const tl=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(T.ya=tl,Gt(T.I,T.D,tl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=No(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var It=W,_e=T.L;_e&&(It.I=_e),It.B&&(Hi(It),Pr(It)),T.g=W}else Co(T);0<p.i.length&&Ba(p)}else Vt[0]!="stop"&&Vt[0]!="close"||yi(p,7);else p.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?yi(p,7):Zs(p):Vt[0]!="noop"&&p.l&&p.l.ta(Vt),p.v=0)}}Bi(4)}catch{}}var To=class{constructor(u,m){this.g=u,this.map=m}};function hi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Va(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Oa(u){return u.h?1:u.g?u.g.size:0}function js(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Na(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}hi.prototype.cancel=function(){if(this.i=Hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function Mc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ma(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Gs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ma(u),T=Mc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fe){this.h=u.h,Br(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,p=new di;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),fi(this,p),this.m=u.m}else u&&(m=String(u).match(kr))?(this.h=!1,Br(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Gi(this,m[4]),this.l=gn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}fe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(jr(m,Fs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Fs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(jr(p,p.charAt(0)=="/"?Uc:Qs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",jr(p,xa)),u.join("")};function rn(u){return new fe(u)}function Br(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,p){m instanceof di?(u.i=m,So(u.i,u.h)):(p||(m=jr(m,Lc)),u.i=new di(m,u.h))}function Gt(u,m,p){u.i.set(m,p)}function qr(u){return Gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Ao),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ao(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fs=/[#\/\?@]/g,Qs=/[#\?:]/g,Uc=/[#\?]/g,Lc=/[#\?@]/g,xa=/#/g;function di(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&xc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=di.prototype,a.add=function(u,m){pn(this),this.i=null,u=Bn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function mi(u,m){pn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gi(u,m){return pn(u),m=Bn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},a.V=function(u){pn(this);let m=[];if(typeof u=="string")gi(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return pn(this),this.i=null,u=Bn(this,u),gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ys(u,m,p){mi(u,m),0<p.length&&(u.i=null,u.g.set(Bn(u,m),it(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=q;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),u.push(L)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function So(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(mi(this,T),Ys(this,L,p))},u)),u.j=m}function Hr(u,m){const p=new mn;if(g.Image){const T=new Image;T.onload=j(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new mn,T=new AbortController,L=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Gr(){this.g=new Ur}function qn(u,m,p){const T=p||"";try{Gs(u,function(L,q){let W=L;v(L)&&(W=Cn(L)),m.push(T+q+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Fi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Fi,Us),Fi.prototype.g=function(){return new pi(this.l,this.j)},Fi.prototype.i=function(u){return function(){return u}}({});function pi(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(pi,re),a=pi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ks(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ks(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):Hn(this),this.readyState==3&&Ks(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},a.Qa=function(u){this.g&&(this.response=u,jn(this))},a.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xs(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Xs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Gt(u,m,p))}function kt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(kt,re);var Ua=/^https?$/i,Fr=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ls(this.o):Ls(Pn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){bo(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){bo(this,q)}};function bo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,La(u),Gn(u)}function La(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Gn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},a.bb=function(){Pa(this)};function Pa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)qe(u.Ea,0,u);else if(qt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(u.D).match(kr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ua.test(L?L.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<_n(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",La(u)}}finally{Gn(u)}}}}function Gn(u,m){if(u.g){Qr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Da(m)}};function Ro(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(gt(u[T]))continue;var p=M(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}N(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function za(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,u),this.cb=Yr("retryDelaySeedMs",1e4,u),this.Wa=Yr("forwardChannelMaxRetries",2,u),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(u&&u.concurrentRequestLimit),this.Da=new Gr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=za.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=No(this,null,this.W),Ba(this)};function Zs(u){if(wo(u),u.G==3){var m=u.U++,p=rn(u.I);if(Gt(p,"SID",u.K),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Kr(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=qr(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Mo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pr(m)}Oo(u)}function ka(u){u.g&&(Xr(u),u.g.cancel(),u.g=null)}function wo(u){ka(u),u.u&&(g.clearTimeout(u.u),u.u=null),qa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ba(u){if(!Va(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||D(),lt||(tt(),lt=!0),Pt.add(m,u),u.B=0}}function zc(u,m){return Oa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(O(u.Ga,u,m),Ws(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),V(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Do(this,L,m),p=rn(this.I),Gt(p,"RID",u),Gt(p,"CVER",22),this.D&&Gt(p,"X-HTTP-Session-Id",this.D),Kr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Xs(q)))+"&"+m:this.m&&we(p,this.m,q)),Na(this.h,L),this.Ua&&Gt(p,"TYPE","init"),this.P?(Gt(p,"$req",m),Gt(p,"SID","null"),L.T=!0,In(L,p,null)):In(L,p,m),this.G=2}}else this.G==3&&(u?$s(this,u):this.i.length==0||Va(this.h)||$s(this))};function $s(u,m){var p;m?p=m.l:p=u.U++;const T=rn(u.I);Gt(T,"SID",u.K),Gt(T,"RID",p),Gt(T,"AID",u.T),Kr(u,T),u.m&&u.o&&we(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Do(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Na(u.h,p),In(p,T,m)}function Kr(u,m){u.H&&Lt(u.H,function(p,T){Gt(m,T,p)}),u.l&&Gs({},function(p,T){Gt(m,T,p)})}function Do(u,m,p){p=Math.min(u.i.length,p);var T=u.l?O(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=L[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let It=!0;for(let _e=0;_e<p;_e++){let Vt=L[_e].g;const De=L[_e].map;if(Vt-=q,0>Vt)q=Math.max(0,L[_e].g-100),It=!1;else try{qn(De,W,"req"+Vt+"_")}catch{T&&T(De)}}if(It){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Co(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||D(),lt||(tt(),lt=!0),Pt.add(m,u),u.v=0}}function Js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(O(u.Fa,u),Ws(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Io(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(O(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ka(this),Io(this))};function Xr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Io(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Gt(m,"RID","rpc"),Gt(m,"SID",u.K),Gt(m,"AID",u.T),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Gt(m,"TO",u.ja),Gt(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=qr(rn(m)),p.m=null,p.P=!0,ci(p,u)}a.Za=function(){this.C!=null&&(this.C=null,ka(this),Js(this),Wt(19))};function qa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Vo(u,m){var p=null;if(u.g==m){qa(u),Xr(u),u.g=null;var T=2}else if(js(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=ki(),qt(T,new ye(T,p)),Ba(u)}else Co(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&zc(u,m)||T==2&&Js(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Ws(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var p=O(u.fb,u),T=u.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Br(T,"https"),qr(T),L?Hr(T.toString(),p):Vn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Oo(u),wo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Oo(u){if(u.G=0,u.ka=[],u.l){const m=Hs(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function No(u,m,p){var T=p instanceof fe?rn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new fe(null);T&&Br(q,T),m&&(q.g=m),L&&Gi(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Gt(T,p,m),Gt(T,"VER",u.la),Kr(u,T),T}function Mo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Fi({eb:p})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}a=xo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ja(){}ja.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){re.call(this),this.g=new za(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!gt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Fn(this)}$(Xe,re),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Zs(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Cn(u),u=p);m.i.push(new To(m.Ya++,u)),m.G==3&&Ba(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Zs(this.g),delete this.g,Xe.aa.N.call(this)};function Uo(u){oi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Uo,oi);function Lo(){zs.call(this),this.status=1}$(Lo,zs);function Fn(u){this.g=u}$(Fn,xo),Fn.prototype.ua=function(){qt(this.g,"a")},Fn.prototype.ta=function(u){qt(this.g,new Uo(u))},Fn.prototype.sa=function(u){qt(this.g,new Lo)},Fn.prototype.ra=function(){qt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,nv=function(){return new ja},ev=function(){return ki()},tv=Ln,Jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,ju=ji,ui.COMPLETE="complete",W_=ui,Ps.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",re.prototype.listen=re.prototype.K,jl=Ps,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,J_=kt}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",Ly="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new _d("@firebase/firestore");function ys(){return pa.logLevel}function nt(a,...e){if(pa.logLevel<=Mt.DEBUG){const i=e.map(Ed);pa.debug(`Firestore (${Cs}): ${a}`,...i)}}function Li(a,...e){if(pa.logLevel<=Mt.ERROR){const i=e.map(Ed);pa.error(`Firestore (${Cs}): ${a}`,...i)}}function Er(a,...e){if(pa.logLevel<=Mt.WARN){const i=e.map(Ed);pa.warn(`Firestore (${Cs}): ${a}`,...i)}}function Ed(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,iv(a,s,i)}function iv(a,e,i){let s=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Li(s),new Error(s)}function Bt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||iv(e,o,s)}function _t(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Dr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class SA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class bA{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ni,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ni)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new rv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class RA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new RA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const s=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Py(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function At(a,e){return a<e?-1:a>e?1:0}function Wf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return At(s,o);{const h=av(),d=IA(h.encode(zy(a,i)),h.encode(zy(e,i)));return d!==0?d:At(s,o)}}i+=s>65535?2:1}return At(a.length,e.length)}function zy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function IA(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return At(a[i],e[i]);return At(a.length,e.length)}function Ss(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class Jn{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&dt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Jn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return At(e.length,i.length)}static compareSegments(e,i){const s=Jn.isNumericId(e),o=Jn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class $t extends Jn{construct(e,i,s){return new $t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const VA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends Jn{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return VA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new ke([ky])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut($t.fromString(e))}static fromName(e){return new ut($t.fromString(e).popFirst(5))}static empty(){return new ut($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(a,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function OA(a,e,i,s){if(e===!0&&s===!0)throw new at(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function By(a){if(!ut.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function qy(a){if(ut.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function lv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Ad(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":dt(12329,{type:typeof a})}function ya(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ad(a);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(a,e){const i={typeString:a};return e&&(i.value=e),i}function lo(a,e){if(!lv(a))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-62135596800,Hy=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Hy);return new Jt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<jy)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lo(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:pe("string",Jt._jsonSchemaVersion),seconds:pe("number"),nanoseconds:pe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Jt(0,0))}static max(){return new yt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=-1;function NA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(s===1e9?new Jt(i+1,0):new Jt(i,s));return new Tr(o,ut.empty(),e)}function MA(a){return new Tr(a.readTime,a.key,to)}class Tr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Tr(yt.min(),ut.empty(),to)}static max(){return new Tr(yt.max(),ut.empty(),to)}}function xA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,e.documentKey),i!==0?i:At(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==UA)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(o=>o?Y.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new Y((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function PA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}hc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=-1;function fc(a){return a==null}function Zu(a){return a===0&&1/a==-1/0}function zA(a){return typeof a=="number"&&Number.isInteger(a)&&!Zu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="";function kA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Gy(e)),e=BA(a.get(i),e);return Gy(e)}function BA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case ov:i+="";break;default:i+=h}}return i}function Gy(a){return a+ov+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ta(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function uv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new xn([])}unionWith(e){let i=new be(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cv("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const qA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(a){if(Bt(!!a,39018),typeof a=="string"){let e=0;const i=qA.exec(a);if(Bt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Sr(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="server_timestamp",fv="__type__",dv="__previous_value__",mv="__local_write_time__";function bd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[fv])===null||i===void 0?void 0:i.stringValue)===hv}function dc(a){const e=a.mapValue.fields[dv];return bd(e)?dc(e):e}function eo(a){const e=Ar(a.mapValue.fields[mv].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i,s,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const $u="(default)";class no{constructor(e,i){this.projectId=e,this.database=i||$u}static empty(){return new no("","")}get isDefaultDatabase(){return this.database===$u}isEqual(e){return e instanceof no&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="__type__",HA="__max__",ku={mapValue:{}},pv="__vector__",Ju="value";function br(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?bd(a)?4:FA(a)?9007199254740991:GA(a)?10:11:dt(28295,{value:a})}function ri(a,e){if(a===e)return!0;const i=br(a);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return eo(a).isEqual(eo(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ar(o.timestampValue),g=Ar(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Sr(o.bytesValue).isEqual(Sr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return ce(o.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ce(o.integerValue)===ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ce(o.doubleValue),g=ce(h.doubleValue);return d===g?Zu(d)===Zu(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Ss(a.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Fy(d)!==Fy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ri(d[_],g[_])))return!1;return!0}(a,e);default:return dt(52216,{left:a})}}function io(a,e){return(a.values||[]).find(i=>ri(i,e))!==void 0}function bs(a,e){if(a===e)return 0;const i=br(a),s=br(e);if(i!==s)return At(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return At(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return Yy(a.timestampValue,e.timestampValue);case 4:return Yy(eo(a),eo(e));case 5:return Wf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Sr(h),_=Sr(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=At(g[v],_[v]);if(A!==0)return A}return At(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=At(ce(h.latitude),ce(d.latitude));return g!==0?g:At(ce(h.longitude),ce(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Ky(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const I=h.fields||{},O=d.fields||{},j=(g=I[Ju])===null||g===void 0?void 0:g.arrayValue,$=(_=O[Ju])===null||_===void 0?void 0:_.arrayValue,it=At(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:Ky(j,$)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===ku.mapValue&&d===ku.mapValue)return 0;if(h===ku.mapValue)return 1;if(d===ku.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let I=0;I<_.length&&I<A.length;++I){const O=Wf(_[I],A[I]);if(O!==0)return O;const j=bs(g[_[I]],v[A[I]]);if(j!==0)return j}return At(_.length,A.length)}(a.mapValue,e.mapValue);default:throw dt(23264,{le:i})}}function Yy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return At(a,e);const i=Ar(a),s=Ar(e),o=At(i.seconds,s.seconds);return o!==0?o:At(i.nanos,s.nanos)}function Ky(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=bs(i[o],s[o]);if(h)return h}return At(i.length,s.length)}function Rs(a){return td(a)}function td(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Ar(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Sr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ut.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=td(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${td(i.fields[d])}`;return o+"}"}(a.mapValue):dt(61005,{value:a})}function Hu(a){switch(br(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dc(a);return e?16+Hu(e):16;case 5:return 2*a.stringValue.length;case 6:return Sr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Hu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Ta(s.fields,(h,d)=>{o+=h.length+Hu(d)}),o}(a.mapValue);default:throw dt(13486,{value:a})}}function ed(a){return!!a&&"integerValue"in a}function Rd(a){return!!a&&"arrayValue"in a}function Xy(a){return!!a&&"nullValue"in a}function Zy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Gu(a){return!!a&&"mapValue"in a}function GA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[gv])===null||i===void 0?void 0:i.stringValue)===pv}function Yl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ta(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Yl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function FA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===HA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Gu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Yl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Gu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ta(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new wn(Yl(this.value))}}function yv(a){const e=[];return Ta(a.fields,(i,s)=>{const o=new ke([i]);if(Gu(s)){const h=yv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,yt.min(),yt.min(),yt.min(),wn.empty(),0)}static newFoundDocument(e,i,s,o){return new Qe(e,1,i,yt.min(),s,o,0)}static newNoDocument(e,i){return new Qe(e,2,i,yt.min(),yt.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,yt.min(),yt.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i){this.position=e,this.inclusive=i}}function $y(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=bs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ri(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i="asc"){this.field=e,this.dir=i}}function QA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{}class Ae extends _v{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new KA(e,i,s):i==="array-contains"?new $A(e,s):i==="in"?new JA(e,s):i==="not-in"?new WA(e,s):i==="array-contains-any"?new tS(e,s):new Ae(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new XA(e,s):new ZA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bs(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends _v{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new ai(e,i)}matches(e){return vv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function vv(a){return a.op==="and"}function Ev(a){return YA(a)&&vv(a)}function YA(a){for(const e of a.filters)if(e instanceof ai)return!1;return!0}function nd(a){if(a instanceof Ae)return a.field.canonicalString()+a.op.toString()+Rs(a.value);if(Ev(a))return a.filters.map(e=>nd(e)).join(",");{const e=a.filters.map(i=>nd(i)).join(",");return`${a.op}(${e})`}}function Tv(a,e){return a instanceof Ae?function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&ri(s.value,o.value)}(a,e):a instanceof ai?function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Tv(d,o.filters[g]),!0):!1}(a,e):void dt(19439)}function Av(a){return a instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${Rs(i.value)}`}(a):a instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(Av).join(" ,")+"}"}(a):"Filter"}class KA extends Ae{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class XA extends Ae{constructor(e,i){super(e,"in",i),this.keys=Sv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class ZA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=Sv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Sv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ut.fromName(s.referenceValue))}class $A extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rd(i)&&io(i.arrayValue,this.value)}}class JA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&io(this.value.arrayValue,i)}}class WA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!io(this.value.arrayValue,i)}}class tS extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>io(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function Wy(a,e=null,i=[],s=[],o=null,h=null,d=null){return new eS(a,e,i,s,o,h,d)}function wd(a){const e=_t(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>nd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),fc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Rs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Rs(s)).join(",")),e.Pe=i}return e.Pe}function Dd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!QA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Tv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Jy(a.startAt,e.startAt)&&Jy(a.endAt,e.endAt)}function id(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function nS(a,e,i,s,o,h,d,g){return new mc(a,e,i,s,o,h,d,g)}function Cd(a){return new mc(a)}function t_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function iS(a){return a.collectionGroup!==null}function Kl(a){const e=_t(a);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ke.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new tc(h,s))}),i.has(ke.keyField().canonicalString())||e.Te.push(new tc(ke.keyField(),s))}return e.Te}function ti(a){const e=_t(a);return e.Ie||(e.Ie=rS(e,Kl(a))),e.Ie}function rS(a,e){if(a.limitType==="F")return Wy(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new tc(o.field,h)});const i=a.endAt?new Wu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Wu(a.startAt.position,a.startAt.inclusive):null;return Wy(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function rd(a,e,i){return new mc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function gc(a,e){return Dd(ti(a),ti(e))&&a.limitType===e.limitType}function bv(a){return`${wd(ti(a))}|lt:${a.limitType}`}function _s(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Av(o)).join(", ")}]`),fc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Rs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Rs(o)).join(",")),`Target(${s})`}(ti(a))}; limitType=${a.limitType})`}function pc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ut.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Kl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=$y(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Kl(s),o)||s.endAt&&!function(d,g,_){const v=$y(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Kl(s),o))}(a,e)}function aS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Rv(a){return(e,i)=>{let s=!1;for(const o of Kl(a)){const h=sS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function sS(a,e,i){const s=a.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?bs(_,v):dt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return uv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new ne(ut.comparator);function Pi(){return lS}const wv=new ne(ut.comparator);function Hl(...a){let e=wv;for(const i of a)e=e.insert(i.key,i);return e}function Dv(a){let e=wv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function fa(){return Xl()}function Cv(){return Xl()}function Xl(){return new Aa(a=>a.toString(),(a,e)=>a.isEqual(e))}const oS=new ne(ut.comparator),uS=new be(ut.comparator);function Ct(...a){let e=uS;for(const i of a)e=e.add(i);return e}const cS=new be(At);function hS(){return cS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(e)?"-0":e}}function Iv(a){return{integerValue:""+a}}function fS(a,e){return zA(e)?Iv(e):Id(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this._=void 0}}function dS(a,e,i){return a instanceof ec?function(o,h){const d={fields:{[fv]:{stringValue:hv},[mv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&bd(h)&&(h=dc(h)),h&&(d.fields[dv]=h),{mapValue:d}}(i,e):a instanceof ro?Ov(a,e):a instanceof ao?Nv(a,e):function(o,h){const d=Vv(o,h),g=e_(d)+e_(o.Ee);return ed(d)&&ed(o.Ee)?Iv(g):Id(o.serializer,g)}(a,e)}function mS(a,e,i){return a instanceof ro?Ov(a,e):a instanceof ao?Nv(a,e):i}function Vv(a,e){return a instanceof nc?function(s){return ed(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class ec extends yc{}class ro extends yc{constructor(e){super(),this.elements=e}}function Ov(a,e){const i=Mv(e);for(const s of a.elements)i.some(o=>ri(o,s))||i.push(s);return{arrayValue:{values:i}}}class ao extends yc{constructor(e){super(),this.elements=e}}function Nv(a,e){let i=Mv(e);for(const s of a.elements)i=i.filter(o=>!ri(o,s));return{arrayValue:{values:i}}}class nc extends yc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function e_(a){return ce(a.integerValue||a.doubleValue)}function Mv(a){return Rd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function gS(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof ro&&o instanceof ro||s instanceof ao&&o instanceof ao?Ss(s.elements,o.elements,ri):s instanceof nc&&o instanceof nc?ri(s.Ee,o.Ee):s instanceof ec&&o instanceof ec}(a.transform,e.transform)}class pS{constructor(e,i){this.version=e,this.transformResults=i}}class Mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class _c{}function xv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Lv(a.key,Mi.none()):new oo(a.key,a.data,Mi.none());{const i=a.data,s=wn.empty();let o=new be(ke.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Sa(a.key,s,new xn(o.toArray()),Mi.none())}}function yS(a,e,i){a instanceof oo?function(o,h,d){const g=o.value.clone(),_=i_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Sa?function(o,h,d){if(!Fu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=i_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Uv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Zl(a,e,i,s){return a instanceof oo?function(h,d,g,_){if(!Fu(h.precondition,d))return g;const v=h.value.clone(),A=r_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof Sa?function(h,d,g,_){if(!Fu(h.precondition,d))return g;const v=r_(h.fieldTransforms,_,d),A=d.data;return A.setAll(Uv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(a,e,i,s):function(h,d,g){return Fu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function _S(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Vv(s.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(s.field,h))}return i||null}function n_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ss(s,o,(h,d)=>gS(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class oo extends _c{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sa extends _c{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Uv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function i_(a,e,i){const s=new Map;Bt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,mS(d,g,i[o]))}return s}function r_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,dS(h,d,e))}return s}class Lv extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vS extends _c{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&yS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Cv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=xv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(i,s)=>n_(i,s))&&Ss(this.baseMutations,e.baseMutations,(i,s)=>n_(i,s))}}class Vd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Bt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return oS}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Vd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Nt;function SS(a){switch(a){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:a})}}function Pv(a){if(a===void 0)return Li("GRPC error has no .code"),K.UNKNOWN;switch(a){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:a})}}(Nt=ge||(ge={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new yr([4294967295,4294967295],0);function a_(a){const e=av().encode(a),i=new $_;return i.update(e),new Uint8Array(i.digest())}function s_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new yr([i,s],0),new yr([o,h],0)]}class Od{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=yr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(yr.fromNumber(s)));return o.compare(bS)===1&&(o=new yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=a_(e),[s,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Od(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=a_(e),[s,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,uo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new vc(yt.min(),o,new ne(At),Pi(),Ct())}}class uo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new uo(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class zv{constructor(e,i){this.targetId=e,this.De=i}}class kv{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class l_{constructor(){this.ve=0,this.Ce=o_(),this.Fe=Be.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ct(),i=Ct(),s=Ct();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:dt(38017,{changeType:h})}}),new uo(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=o_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class RS{constructor(e){this.We=e,this.Ge=new Map,this.ze=Pi(),this.je=Bu(),this.Je=Bu(),this.He=new ne(At)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const h=o.target;if(id(h))if(s===0){const d=new ut(h.path);this.Xe(i,d,Qe.newNoDocument(d,yt.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),_=g?this.ut(g,e,d):1;if(_!==0){this.rt(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Sr(s).toUint8Array()}catch(_){if(_ instanceof cv)return Er("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Od(d,o,h)}catch(_){return Er(_ instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&id(g.target)){const _=new ut(g.target.path);this.Tt(_).has(d)||this.It(d,_)||this.Xe(d,_,Qe.newNoDocument(_,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let s=Ct();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.st(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const o=new vc(e,i,this.He,this.ze,s);return this.ze=Pi(),this.je=Bu(),this.Je=Bu(),this.He=new ne(At),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new l_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new be(At),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new be(At),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new l_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Bu(){return new ne(ut.comparator)}function o_(){return new ne(ut.comparator)}const wS={asc:"ASCENDING",desc:"DESCENDING"},DS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CS={and:"AND",or:"OR"};class IS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ad(a,e){return a.useProto3Json||fc(e)?e:{value:e}}function ic(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function VS(a,e){return ic(a,e.toTimestamp())}function ei(a){return Bt(!!a,49232),yt.fromTimestamp(function(i){const s=Ar(i);return new Jt(s.seconds,s.nanos)}(a))}function Nd(a,e){return sd(a,e).canonicalString()}function sd(a,e){const i=function(o){return new $t(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function qv(a){const e=$t.fromString(a);return Bt(Qv(e),10190,{key:e.toString()}),e}function ld(a,e){return Nd(a.databaseId,e.path)}function Bf(a,e){const i=qv(e);if(i.get(1)!==a.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(Hv(i))}function jv(a,e){return Nd(a.databaseId,e)}function OS(a){const e=qv(a);return e.length===4?$t.emptyPath():Hv(e)}function od(a){return new $t(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Hv(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function u_(a,e,i){return{name:ld(a,e),fields:i.value.mapValue.fields}}function NS(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?K.UNKNOWN:Pv(v.code);return new at(A,v.message||"")}(d);i=new kv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bf(a,s.document.name),h=ei(s.document.updateTime),d=s.document.createTime?ei(s.document.createTime):yt.min(),g=new wn({mapValue:{fields:s.document.fields}}),_=Qe.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Qu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bf(a,s.document),h=s.readTime?ei(s.readTime):yt.min(),d=Qe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Qu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bf(a,s.document),h=s.removedTargetIds||[];i=new Qu([],h,o,null)}else{if(!("filter"in e))return dt(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new AS(o,h),g=s.targetId;i=new zv(g,d)}}return i}function MS(a,e){let i;if(e instanceof oo)i={update:u_(a,e.key,e.value)};else if(e instanceof Lv)i={delete:ld(a,e.key)};else if(e instanceof Sa)i={update:u_(a,e.key,e.data),updateMask:jS(e.fieldMask)};else{if(!(e instanceof vS))return dt(16599,{Rt:e.type});i={verify:ld(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof ec)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw dt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:VS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(a,e.precondition)),i}function xS(a,e){return a&&a.length>0?(Bt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ei(o.updateTime):ei(h);return d.isEqual(yt.min())&&(d=ei(h)),new pS(d,o.transformResults||[])}(i,e))):[]}function US(a,e){return{documents:[jv(a,e.path)]}}function LS(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=jv(a,o);const h=function(v){if(v.length!==0)return Fv(ai.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(O){return{field:vs(O.field),direction:kS(O.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ad(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:i,parent:o}}function PS(a){let e=OS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Bt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(I){const O=Gv(I);return O instanceof ai&&Ev(O)?O.getFilters():[O]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(O=>function($){return new tc(Es($.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(O))}(i.orderBy));let g=null;i.limit&&(g=function(I){let O;return O=typeof I=="object"?I.value:I,fc(O)?null:O}(i.limit));let _=null;i.startAt&&(_=function(I){const O=!!I.before,j=I.values||[];return new Wu(j,O)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const O=!I.before,j=I.values||[];return new Wu(j,O)}(i.endAt)),nS(e,o,d,h,g,"F",_,v)}function zS(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Gv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Es(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Es(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Es(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Es(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(a):a.fieldFilter!==void 0?function(i){return Ae.create(Es(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(s=>Gv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(a):dt(30097,{filter:a})}function kS(a){return wS[a]}function BS(a){return DS[a]}function qS(a){return CS[a]}function vs(a){return{fieldPath:a.canonicalString()}}function Es(a){return ke.fromServerFormat(a.fieldPath)}function Fv(a){return a instanceof Ae?function(i){if(i.op==="=="){if(Zy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NAN"}};if(Xy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Zy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NAN"}};if(Xy(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(i.field),op:BS(i.op),value:i.value}}}(a):a instanceof ai?function(i){const s=i.getFilters().map(o=>Fv(o));return s.length===1?s[0]:{compositeFilter:{op:qS(i.op),filters:s}}}(a):dt(54877,{filter:a})}function jS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Qv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,i,s,o,h=yt.min(),d=yt.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.gt=e}}function GS(a){const e=PS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.Dn=new QS}addToCollectionParentIndex(e,i){return this.Dn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Tr.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class QS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new be($t.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new be($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Yv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ws(0)}static ur(){return new ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",YS=1048576;function f_([a,e],[i,s]){const o=At(a,i);return o===0?At(e,s):o}class KS{constructor(e){this.Tr=e,this.buffer=new be(f_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();f_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class XS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){nt(h_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vs(i)?nt(h_,"Ignoring IndexedDB error during garbage collection: ",i):await Is(i)}await this.Rr(3e5)})}}class ZS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(hc.ue);const s=new KS(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(c_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,g=Date.now(),this.removeTargets(e,s,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(v=Date.now(),ys()<=Mt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:I})))}}function $S(a,e){return new ZS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.changes=new Aa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Zl(s.mutation,o,xn.empty(),Jt.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ct()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ct()){const o=fa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Hl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=fa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ct()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Pi();const d=Xl(),g=function(){return Xl()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Sa)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Zl(A.mutation,v,A.mutation.getFieldMask(),Jt.now())):d.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var I;return g.set(v,new WS(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Xl();let o=new ne((d,g)=>d-g),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||xn.empty();A=g.applyToLocalView(v,A),s.set(_,A);const I=(o.get(g.batchId)||Ct()).add(_);o=o.insert(g.batchId,I)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,I=Cv();A.forEach(O=>{if(!h.has(O)){const j=xv(i.get(O),s.get(O));j!==null&&I.set(O,j),h=h.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):iS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Y.resolve(fa());let g=to,_=h;return d.next(v=>Y.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(O=>{_=_.insert(A,O)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ct())).next(A=>({batchId:g,changes:Dv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Hl();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,_=>{const v=function(I,O){return new mc(O,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((I,O)=>{d=d.insert(I,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=Hl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Zl(A.mutation,v,xn.empty(),Jt.now()),pc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:GS(o.bundledQuery),readTime:ei(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.overlays=new ne(ut.comparator),this.kr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=fa();return Y.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.wt(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const o=fa(),h=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=fa(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=fa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Y.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new TS(i,s));let h=this.kr.get(i);h===void 0&&(h=Ct(),this.kr.set(i,h)),this.kr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this.qr=new be(Oe.Qr),this.$r=new be(Oe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Oe(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new ut(new $t([])),s=new Oe(i,e),o=new Oe(i,e+1),h=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new ut(new $t([])),s=new Oe(i,e),o=new Oe(i,e+1);let h=Ct();return this.$r.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return ut.comparator(e.key,i.key)||At(e.Hr,i.Hr)}static Ur(e,i){return At(e.Hr,i.Hr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new be(Oe.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ES(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Sd:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new be(At);return i.forEach(o=>{const h=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{s=s.add(g.Hr)})}),Y.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ut.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ut(h),0);let g=new be(At);return this.Yr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Hr)),!0)},d),Y.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Bt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Y.forEach(i.mutations,o=>{const h=new Oe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Oe(i,0),o=this.Yr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.ni=e,this.docs=function(){return new ne(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let s=Pi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Qe.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Pi();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||xA(MA(A),s)<=0||(o.has(A.key)||pc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,o){dt(9500)}ri(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new sb(this)}getSize(e){return Y.resolve(this.size)}}class sb extends JS{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.persistence=e,this.ii=new Aa(i=>wd(i),Dd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.si=0,this.oi=new Md,this.targetCount=0,this._i=ws.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),Y.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new ws(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.hr(i),Y.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(h).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,i){this.ai={},this.overlays={},this.ui=new hc(0),this.ci=!1,this.ci=!0,this.li=new ib,this.referenceDelegate=e(this),this.hi=new lb(this),this.indexManager=new FS,this.remoteDocumentCache=function(o){return new ab(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new HS(i),this.Ti=new eb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new nb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new rb(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){nt("MemoryPersistence","Starting transaction:",e);const o=new ob(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return Y.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class ob extends LA{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ai=new Md,this.Ri=null}static Vi(e){return new xd(e)}get mi(){if(this.Ri)return this.Ri;throw dt(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,s=>{const o=ut.fromPath(s);return this.fi(e,o).next(h=>{h||i.removeEntry(o,yt.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return Y.or([()=>Y.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class rc{constructor(e,i){this.persistence=e,this.gi=new Aa(s=>kA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=$S(this,i)}static Vi(e,i){return new rc(e,i)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return Y.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(h=>h?Y.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hu(e.data.value)),i}Sr(e,i,s){return Y.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=Ct(),o=Ct();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ud(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return r1()?8:PA(e1())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new ub;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(ys()<=Mt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(ys()<=Mt.DEBUG&&nt("QueryEngine","Query:",_s(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(ys()<=Mt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Y.resolve())}ps(e,i){if(t_(i))return Y.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=rd(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Ct(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.bs(i,g);return this.Ds(i,v,d,_.readTime)?this.ps(e,rd(i,null,"F")):this.vs(e,v,i,_)}))})))}ys(e,i,s,o){return t_(i)||o.isEqual(yt.min())?Y.resolve(null):this.gs.getDocuments(e,s).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,s,o)?Y.resolve(null):(ys()<=Mt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_s(i)),this.vs(e,d,i,NA(o,to)).next(g=>g))})}bs(e,i){let s=new be(Rv(e));return i.forEach((o,h)=>{pc(e,h)&&(s=s.add(h))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,s){return ys()<=Mt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",_s(i)),this.gs.getDocumentsMatchingQuery(e,i,Tr.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="LocalStore",hb=3e8;class fb{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new ne(At),this.Ms=new Aa(h=>wd(h),Dd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function db(a,e,i,s){return new fb(a,e,i,s)}async function Xv(a,e){const i=_t(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Ct();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:g}))})})}function mb(a,e){const i=_t(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const I=v.batch,O=I.keys();let j=Y.resolve();return O.forEach($=>{j=j.next(()=>A.getEntry(_,$)).next(it=>{const J=v.docVersions.get($);Bt(J!==null,48541),it.version.compareTo(J)<0&&(I.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,I))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Zv(a){const e=_t(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function gb(a,e){const i=_t(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((A,I)=>{const O=o.get(I);if(!O)return;g.push(i.hi.removeMatchingKeys(h,A.removedDocuments,I).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,I)));let j=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),o=o.insert(I,j),function(it,J,St){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=hb?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(O,j,A)&&g.push(i.hi.updateTargetData(h,j))});let _=Pi(),v=Ct();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(pb(h,d,e.documentUpdates).next(A=>{_=A.Ls,v=A.ks})),!s.isEqual(yt.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(I=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Fs=o,h))}function pb(a,e,i){let s=Ct(),o=Ct();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Pi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt(Ld,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Ls:d,ks:o}})}function yb(a,e){const i=_t(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Sd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _b(a,e){const i=_t(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(h=>h?(o=h,Y.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new mr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function ud(a,e,i){const s=_t(a),o=s.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Vs(d))throw d;nt(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function d_(a,e,i){const s=_t(a);let o=yt.min(),h=Ct();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const I=_t(_),O=I.Ms.get(A);return O!==void 0?Y.resolve(I.Fs.get(O)):I.hi.getTargetData(v,A)}(s,d,ti(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:Ct())).next(g=>(vb(s,aS(e),g),{documents:g,qs:h})))}function vb(a,e,i){let s=a.xs.get(e)||yt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.xs.set(e,s)}class m_{constructor(){this.activeTargetIds=hS()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Eb{constructor(){this.Fo=new m_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new m_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="ConnectivityMonitor";class p_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){nt(g_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){nt(g_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function cd(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="RestConnection",Ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sb{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===$u?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=cd(),g=this.Go(e,i.toUriEncodedString());nt(qf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,o,h);const{host:v}=new URL(g),A=yd(v);return this.jo(e,g,_,s,A).then(I=>(nt(qf,`Received RPC '${e}' ${d}: `,I),I),I=>{throw Er(qf,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",s),I})}Jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const s=Ab[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Rb extends Sb{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,h){const d=cd();return new Promise((g,_)=>{const v=new J_;v.setWithCredentials(!0),v.listenOnce(W_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ju.NO_ERROR:const I=v.getResponseJson();nt(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case ju.TIMEOUT:nt(Ge,`RPC '${e}' ${d} timed out`),_(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const O=v.getStatus();if(nt(Ge,`RPC '${e}' ${d} failed with status:`,O,"response text:",v.getResponseText()),O>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j==null?void 0:j.error;if($&&$.status&&$.message){const it=function(St){const gt=St.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN}($.status);_(new at(it,$.message))}else _(new at(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new at(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{c_:e,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{nt(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);nt(Ge,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}P_(e,i,s){const o=cd(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=nv(),g=ev(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");nt(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const I=d.createWebChannel(A,_);this.T_(I);let O=!1,j=!1;const $=new bb({Ho:J=>{j?nt(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(O||(nt(Ge,`Opening RPC '${e}' stream ${o} transport.`),I.open(),O=!0),nt(Ge,`RPC '${e}' stream ${o} sending:`,J),I.send(J))},Yo:()=>I.close()}),it=(J,St,gt)=>{J.listen(St,ft=>{try{gt(ft)}catch(xt){setTimeout(()=>{throw xt},0)}})};return it(I,jl.EventType.OPEN,()=>{j||(nt(Ge,`RPC '${e}' stream ${o} transport opened.`),$.s_())}),it(I,jl.EventType.CLOSE,()=>{j||(j=!0,nt(Ge,`RPC '${e}' stream ${o} transport closed`),$.__(),this.I_(I))}),it(I,jl.EventType.ERROR,J=>{j||(j=!0,Er(Ge,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),$.__(new at(K.UNAVAILABLE,"The operation could not be completed")))}),it(I,jl.EventType.MESSAGE,J=>{var St;if(!j){const gt=J.data[0];Bt(!!gt,16349);const ft=gt,xt=(ft==null?void 0:ft.error)||((St=ft[0])===null||St===void 0?void 0:St.error);if(xt){nt(Ge,`RPC '${e}' stream ${o} received error:`,xt);const vt=xt.status;let Lt=function(w){const V=ge[w];if(V!==void 0)return Pv(V)}(vt),N=xt.message;Lt===void 0&&(Lt=K.INTERNAL,N="Unknown error status: "+vt+" with message "+xt.message),j=!0,$.__(new at(Lt,N)),I.close()}else nt(Ge,`RPC '${e}' stream ${o} received:`,gt),$.a_(gt)}}),it(g,tv.STAT_EVENT,J=>{J.stat===Jf.PROXY?nt(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Jf.NOPROXY&&nt(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.o_()},0),$}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(a){return new IS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class Jv{constructor(e,i,s,o,h,d,g,_){this.Fi=e,this.w_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new $v(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new at(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return nt(y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(nt(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wb extends Jv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=NS(this.serializer,e),s=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ei(d.readTime):yt.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=od(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=id(_)?{documents:US(h,_)}:{query:LS(h,_).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Bv(h,d.resumeToken);const v=ad(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=ic(h,d.snapshotVersion.toTimestamp());const v=ad(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=zS(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=od(this.serializer),i.removeTarget=e,this.k_(i)}}class Db extends Jv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=xS(e.writeResults,e.commitTime),s=ei(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=od(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>MS(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{}class Ib extends Cb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,sd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())})}Jo(e,i,s,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,sd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Vb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Li(i),this._a=!1):nt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class Ob{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{ba(this)&&(nt(_a,"Restarting streams for network reachability change."),await async function(_){const v=_t(_);v.Ia.add(4),await co(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Tc(v)}(this))})}),this.Aa=new Vb(s,o)}}async function Tc(a){if(ba(a))for(const e of a.da)await e(!0)}async function co(a){for(const e of a.da)await e(!1)}function Wv(a,e){const i=_t(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),Bd(i)?kd(i):Os(i).x_()&&zd(i,e))}function Pd(a,e){const i=_t(a),s=Os(i);i.Ta.delete(e),s.x_()&&t0(i,e),i.Ta.size===0&&(s.x_()?s.B_():ba(i)&&i.Aa.set("Unknown"))}function zd(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Os(a).H_(e)}function t0(a,e){a.Ra.$e(e),Os(a).Y_(e)}function kd(a){a.Ra=new RS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Os(a).start(),a.Aa.aa()}function Bd(a){return ba(a)&&!Os(a).M_()&&a.Ta.size>0}function ba(a){return _t(a).Ia.size===0}function e0(a){a.Ra=void 0}async function Nb(a){a.Aa.set("Online")}async function Mb(a){a.Ta.forEach((e,i)=>{zd(a,e)})}async function xb(a,e){e0(a),Bd(a)?(a.Aa.la(e),kd(a)):a.Aa.set("Unknown")}async function Ub(a,e,i){if(a.Aa.set("Online"),e instanceof kv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(a,e)}catch(s){nt(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ac(a,s)}else if(e instanceof Qu?a.Ra.Ye(e):e instanceof zv?a.Ra.it(e):a.Ra.et(e),!i.isEqual(yt.min()))try{const s=await Zv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ta.get(v);A&&h.Ta.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ta.get(_);if(!A)return;h.Ta.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),t0(h,_);const I=new mr(A.target,_,v,A.sequenceNumber);zd(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){nt(_a,"Failed to raise snapshot:",s),await ac(a,s)}}async function ac(a,e,i){if(!Vs(e))throw e;a.Ia.add(1),await co(a),a.Aa.set("Offline"),i||(i=()=>Zv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{nt(_a,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await Tc(a)})}function n0(a,e){return e().catch(i=>ac(a,i,e))}async function Ac(a){const e=_t(a),i=Rr(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Sd;for(;Lb(e);)try{const o=await yb(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,Pb(e,o)}catch(o){await ac(e,o)}i0(e)&&r0(e)}function Lb(a){return ba(a)&&a.Pa.length<10}function Pb(a,e){a.Pa.push(e);const i=Rr(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function i0(a){return ba(a)&&!Rr(a).M_()&&a.Pa.length>0}function r0(a){Rr(a).start()}async function zb(a){Rr(a).na()}async function kb(a){const e=Rr(a);for(const i of a.Pa)e.X_(i.mutations)}async function Bb(a,e,i){const s=a.Pa.shift(),o=Vd.from(s,e,i);await n0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Ac(a)}async function qb(a,e){e&&Rr(a).Z_&&await async function(s,o){if(function(d){return SS(d)&&d!==K.ABORTED}(o.code)){const h=s.Pa.shift();Rr(s).N_(),await n0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Ac(s)}}(a,e),i0(a)&&r0(a)}async function __(a,e){const i=_t(a);i.asyncQueue.verifyOperationInProgress(),nt(_a,"RemoteStore received new credentials");const s=ba(i);i.Ia.add(3),await co(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Tc(i)}async function jb(a,e){const i=_t(a);e?(i.Ia.delete(2),await Tc(i)):e||(i.Ia.add(2),await co(i),i.Aa.set("Unknown"))}function Os(a){return a.Va||(a.Va=function(i,s,o){const h=_t(i);return h.ia(),new wb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:Nb.bind(null,a),e_:Mb.bind(null,a),n_:xb.bind(null,a),J_:Ub.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),Bd(a)?kd(a):a.Aa.set("Unknown")):(await a.Va.stop(),e0(a))})),a.Va}function Rr(a){return a.ma||(a.ma=function(i,s,o){const h=_t(i);return h.ia(),new Db(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:zb.bind(null,a),n_:qb.bind(null,a),ea:kb.bind(null,a),ta:Bb.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await Ac(a)):(await a.ma.stop(),a.Pa.length>0&&(nt(_a,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new qd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jd(a,e){if(Li("AsyncQueue",`${e}: ${a}`),Vs(a))return new at(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static emptySet(e){return new Ts(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ts)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ts;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.fa=new ne(ut.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):dt(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ds{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ds(e,i,Ts.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Gb{constructor(){this.queries=E_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=_t(i),h=o.queries;o.queries=E_(),h.forEach((d,g)=>{for(const _ of g.wa)_.onError(s)})})(this,new at(K.ABORTED,"Firestore shutting down"))}}function E_(){return new Aa(a=>bv(a),gc)}async function a0(a,e){const i=_t(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(s=2):(h=new Hb,s=e.ba()?0:1);try{switch(s){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=jd(d,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Hd(i)}async function s0(a,e){const i=_t(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Fb(a,e){const i=_t(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&Hd(i)}function Qb(a,e,i){const s=_t(a),o=s.queries.get(e);if(o)for(const h of o.wa)h.onError(i);s.queries.delete(e)}function Hd(a){a.Da.forEach(e=>{e.next()})}var hd,T_;(T_=hd||(hd={})).Fa="default",T_.Cache="cache";class l0{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ds(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class Yb{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ct(),this.mutatedKeys=Ct(),this.Xa=Rv(e),this.eu=new Ts(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new v_,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,I)=>{const O=o.get(A),j=pc(this.query,I)?I:null,$=!!O&&this.mutatedKeys.has(O.key),it=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;O&&j?O.data.isEqual(j.data)?$!==it&&(s.track({type:3,doc:j}),J=!0):this.iu(O,j)||(s.track({type:2,doc:j}),J=!0,(_&&this.Xa(j,_)>0||v&&this.Xa(j,v)<0)&&(g=!0)):!O&&j?(s.track({type:0,doc:j}),J=!0):O&&!j&&(s.track({type:1,doc:O}),J=!0,(_||v)&&(g=!0)),J&&(j?(d=d.add(j),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,I)=>function(j,$){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{At:J})}};return it(j)-it($)}(A.type,I.type)||this.Xa(A.doc,I.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],_=this.Za.size===0&&this.current&&!o?1:0,v=_!==this.Ya;return this.Ya=_,d.length!==0||v?{snapshot:new Ds(this.query,e.eu,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new v_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ct(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new u0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new o0(s))}),i}uu(e){this.Ha=e.qs,this.Za=Ct();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return Ds.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Gd="SyncEngine";class Kb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Xb{constructor(e){this.key=e,this.lu=!1}}class Zb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Aa(g=>bv(g),gc),this.Tu=new Map,this.Iu=new Set,this.du=new ne(ut.comparator),this.Eu=new Map,this.Au=new Md,this.Ru={},this.Vu=new Map,this.mu=ws.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function $b(a,e,i=!0){const s=g0(a);let o;const h=s.Pu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await c0(s,e,i,!0),o}async function Jb(a,e){const i=g0(a);await c0(i,e,!0,!1)}async function c0(a,e,i,s){const o=await _b(a.localStore,ti(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await Wb(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Wv(a.remoteStore,o),g}async function Wb(a,e,i,s,o){a.gu=(I,O,j)=>async function(it,J,St,gt){let ft=J.view.nu(St);ft.Ds&&(ft=await d_(it.localStore,J.query,!1).then(({documents:N})=>J.view.nu(N,ft)));const xt=gt&&gt.targetChanges.get(J.targetId),vt=gt&&gt.targetMismatches.get(J.targetId)!=null,Lt=J.view.applyChanges(ft,it.isPrimaryClient,xt,vt);return S_(it,J.targetId,Lt._u),Lt.snapshot}(a,I,O,j);const h=await d_(a.localStore,e,!0),d=new Yb(e,h.qs),g=d.nu(h.documents),_=uo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,_);S_(a,i,v._u);const A=new Kb(e,i,d);return a.Pu.set(e,A),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),v.snapshot}async function tR(a,e,i){const s=_t(a),o=s.Pu.get(e),h=s.Tu.get(o.targetId);if(h.length>1)return s.Tu.set(o.targetId,h.filter(d=>!gc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ud(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Pd(s.remoteStore,o.targetId),fd(s,o.targetId)}).catch(Is)):(fd(s,o.targetId),await ud(s.localStore,o.targetId,!0))}async function eR(a,e){const i=_t(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Pd(i.remoteStore,s.targetId))}async function nR(a,e,i){const s=uR(a);try{const o=await function(d,g){const _=_t(d),v=Jt.now(),A=g.reduce((j,$)=>j.add($.key),Ct());let I,O;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Pi(),it=Ct();return _.Os.getEntries(j,A).next(J=>{$=J,$.forEach((St,gt)=>{gt.isValidDocument()||(it=it.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,$)).next(J=>{I=J;const St=[];for(const gt of g){const ft=_S(gt,I.get(gt.key).overlayedDocument);ft!=null&&St.push(new Sa(gt.key,ft,yv(ft.value.mapValue),Mi.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,St,g)}).next(J=>{O=J;const St=J.applyToLocalDocumentSet(I,it);return _.documentOverlayCache.saveOverlays(j,J.batchId,St)})}).then(()=>({batchId:O.batchId,changes:Dv(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Ru[d.currentUser.toKey()];v||(v=new ne(At)),v=v.insert(g,_),d.Ru[d.currentUser.toKey()]=v}(s,o.batchId,i),await ho(s,o.changes),await Ac(s.remoteStore)}catch(o){const h=jd(o,"Failed to persist write");i.reject(h)}}async function h0(a,e){const i=_t(a);try{const s=await gb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Bt(d.lu,14607):o.removedDocuments.size>0&&(Bt(d.lu,42227),d.lu=!1))}),await ho(i,s,e)}catch(s){await Is(s)}}function A_(a,e,i){const s=_t(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=_t(d);_.onlineState=g;let v=!1;_.queries.forEach((A,I)=>{for(const O of I.wa)O.va(g)&&(v=!0)}),v&&Hd(_)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iR(a,e,i){const s=_t(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let d=new ne(ut.comparator);d=d.insert(h,Qe.newNoDocument(h,yt.min()));const g=Ct().add(h),_=new vc(yt.min(),new Map,new ne(At),d,g);await h0(s,_),s.du=s.du.remove(h),s.Eu.delete(e),Fd(s)}else await ud(s.localStore,e,!1).then(()=>fd(s,e,i)).catch(Is)}async function rR(a,e){const i=_t(a),s=e.batch.batchId;try{const o=await mb(i.localStore,e);d0(i,s,null),f0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ho(i,o)}catch(o){await Is(o)}}async function aR(a,e,i){const s=_t(a);try{const o=await function(d,g){const _=_t(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(I=>(Bt(I!==null,37113),A=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);d0(s,e,i),f0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ho(s,o)}catch(o){await Is(o)}}function f0(a,e){(a.Vu.get(e)||[]).forEach(i=>{i.resolve()}),a.Vu.delete(e)}function d0(a,e,i){const s=_t(a);let o=s.Ru[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function fd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||m0(a,s)})}function m0(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Pd(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),Fd(a))}function S_(a,e,i){for(const s of i)s instanceof o0?(a.Au.addReference(s.key,e),sR(a,s)):s instanceof u0?(nt(Gd,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||m0(a,s.key)):dt(19791,{yu:s})}function sR(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(nt(Gd,"New document in limbo: "+i),a.Iu.add(s),Fd(a))}function Fd(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new ut($t.fromString(e)),s=a.mu.next();a.Eu.set(s,new Xb(i)),a.du=a.du.insert(i,s),Wv(a.remoteStore,new mr(ti(Cd(i.path)),s,"TargetPurposeLimboResolution",hc.ue))}}async function ho(a,e,i){const s=_t(a),o=[],h=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,_)=>{d.push(s.gu(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const I=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){o.push(v);const I=Ud.Es(_.targetId,v);h.push(I)}}))}),await Promise.all(d),s.hu.J_(o),await async function(_,v){const A=_t(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Y.forEach(v,O=>Y.forEach(O.Is,j=>A.persistence.referenceDelegate.addReference(I,O.targetId,j)).next(()=>Y.forEach(O.ds,j=>A.persistence.referenceDelegate.removeReference(I,O.targetId,j)))))}catch(I){if(!Vs(I))throw I;nt(Ld,"Failed to update sequence numbers: "+I)}for(const I of v){const O=I.targetId;if(!I.fromCache){const j=A.Fs.get(O),$=j.snapshotVersion,it=j.withLastLimboFreeSnapshotVersion($);A.Fs=A.Fs.insert(O,it)}}}(s.localStore,h))}async function lR(a,e){const i=_t(a);if(!i.currentUser.isEqual(e)){nt(Gd,"User change. New user:",e.toKey());const s=await Xv(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(_=>{_.reject(new at(K.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ho(i,s.Bs)}}function oR(a,e){const i=_t(a),s=i.Eu.get(e);if(s&&s.lu)return Ct().add(s.key);{let o=Ct();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function g0(a){const e=_t(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iR.bind(null,e),e.hu.J_=Fb.bind(null,e.eventManager),e.hu.pu=Qb.bind(null,e.eventManager),e}function uR(a){const e=_t(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aR.bind(null,e),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return db(this.persistence,new cb,e.initialUser,this.serializer)}Du(e){return new Kv(xd.Vi,this.serializer)}bu(e){return new Eb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class cR extends sc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){Bt(this.persistence.referenceDelegate instanceof rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XS(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Kv(s=>rc.Vi(s,i),this.serializer)}}class dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lR.bind(null,this.syncEngine),await jb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gb}()}createDatastore(e){const i=Ec(e.databaseInfo.databaseId),s=function(h){return new Rb(h)}(e.databaseInfo);return function(h,d,g,_){return new Ib(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new Ob(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>A_(this.syncEngine,i,0),function(){return p_.C()?new p_:new Tb}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const I=new Zb(o,h,d,g,_,v);return A&&(I.fu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=_t(o);nt(_a,"RemoteStore shutting down."),h.Ia.add(5),await co(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}dd.provider={build:()=>new dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class hR{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{nt(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=jd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Hf(a,e){a.asyncQueue.verifyOperationInProgress(),nt(wr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Xv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Er("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{nt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Er("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function b_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await fR(a);nt(wr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>__(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>__(e.remoteStore,o)),a._onlineComponents=e}async function fR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(wr,"Using user provided OfflineComponentProvider");try{await Hf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Er("Error using user provided cache. Falling back to memory cache: "+i),await Hf(a,new sc)}}else nt(wr,"Using default OfflineComponentProvider"),await Hf(a,new cR(void 0));return a._offlineComponents}async function y0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(wr,"Using user provided OnlineComponentProvider"),await b_(a,a._uninitializedComponentsProvider._online)):(nt(wr,"Using default OnlineComponentProvider"),await b_(a,new dd))),a._onlineComponents}function dR(a){return y0(a).then(e=>e.syncEngine)}async function _0(a){const e=await y0(a),i=e.eventManager;return i.onListen=$b.bind(null,e.syncEngine),i.onUnlisten=tR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Jb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eR.bind(null,e.syncEngine),i}function mR(a,e,i={}){const s=new Ni;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new p0({next:O=>{A.Ou(),d.enqueueAndForget(()=>s0(h,I));const j=O.docs.has(g);!j&&O.fromCache?v.reject(new at(K.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&O.fromCache&&_&&_.source==="server"?v.reject(new at(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),I=new l0(Cd(g.path),A,{includeMetadataChanges:!0,ka:!0});return a0(h,I)}(await _0(a),a.asyncQueue,e,i,s)),s.promise}function gR(a,e,i={}){const s=new Ni;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new p0({next:O=>{A.Ou(),d.enqueueAndForget(()=>s0(h,I)),O.fromCache&&_.source==="server"?v.reject(new at(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(O)},error:O=>v.reject(O)}),I=new l0(g,A,{includeMetadataChanges:!0,ka:!0});return a0(h,I)}(await _0(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firestore.googleapis.com",w_=!0;class D_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E0,this.ssl=w_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:w_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YS)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AA;switch(s.type){case"firstParty":return new wA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=R_.get(i);s&&(nt("ComponentProvider","Removing Datastore"),R_.delete(i),s.terminate())}(this),Promise.resolve()}}function pR(a,e,i,s={}){var o;a=ya(a,Sc);const h=yd(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),_=`${e}:${i}`;h&&(ZT(`https://${_}`),t1("Firestore",!0)),d.host!==E0&&d.host!==_&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:s});if(!Jl(v,g)&&(a._setSettings(v),s.mockUserToken)){let A,I;if(typeof s.mockUserToken=="string")A=s.mockUserToken,I=Fe.MOCK_USER;else{A=$T(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Fe(O)}a._authCredentials=new SA(new rv(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class Se{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Se(this.firestore,e,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(lo(i,Se._jsonSchema))return new Se(e,s||null,new ut($t.fromString(i.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:pe("string",Se._jsonSchemaVersion),referencePath:pe("string")};class _r extends bc{constructor(e,i,s){super(e,i,Cd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Se(this.firestore,null,new ut(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function T0(a,e,...i){if(a=ga(a),sv("collection","path",e),a instanceof Sc){const s=$t.fromString(e,...i);return qy(s),new _r(a,null,s)}{if(!(a instanceof Se||a instanceof _r))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child($t.fromString(e,...i));return qy(s),new _r(a.firestore,null,s)}}function Qd(a,e,...i){if(a=ga(a),arguments.length===1&&(e=Td.newId()),sv("doc","path",e),a instanceof Sc){const s=$t.fromString(e,...i);return By(s),new Se(a,null,new ut(s))}{if(!(a instanceof Se||a instanceof _r))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child($t.fromString(e,...i));return By(s),new Se(a.firestore,a instanceof _r?a.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new $v(this,"async_queue_retry"),this.oc=()=>{const s=jf();s&&nt(C_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Ni;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Vs(e))throw e;nt(C_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Li("INTERNAL UNHANDLED ERROR: ",V_(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=qd.createAndSchedule(this,e,i,s,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&dt(47125,{hc:V_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function V_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Rc extends Sc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new I_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function yR(a,e){const i=typeof a=="object"?a:K_(),s=typeof a=="string"?a:$u,o=so(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=KT("firestore");h&&pR(o,...h)}return o}function Yd(a){if(a._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||_R(a),a._firestoreClient}function _R(a){var e,i,s;const o=a._freezeSettings(),h=function(g,_,v,A){return new jA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,v0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new hR(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Be.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lo(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:pe("string",Dn._jsonSchemaVersion),bytes:pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(lo(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:pe("string",ni._jsonSchemaVersion),latitude:pe("number"),longitude:pe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lo(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ii(e.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:pe("string",ii._jsonSchemaVersion),vectorValues:pe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=/^__.*__$/;class ER{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Sa(e,this.data,this.fieldMask,i,this.fieldTransforms):new oo(e,this.data,i,this.fieldTransforms)}}function S0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ec:a})}}class Xd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return lc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(S0(this.Ec)&&vR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class TR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ec(e)}Dc(e,i,s,o=!1){return new Xd({Ec:e,methodName:i,bc:s,path:ke.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AR(a){const e=a._freezeSettings(),i=Ec(a._databaseId);return new TR(a._databaseId,!!e.ignoreUndefinedProperties,i)}function SR(a,e,i,s,o,h={}){const d=a.Dc(h.merge||h.mergeFields?2:0,e,i,o);D0("Data must be an object, but it was:",d,s);const g=R0(s,d);let _,v;if(h.merge)_=new xn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const O=bR(e,I,i);if(!d.contains(O))throw new at(K.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);wR(A,O)||A.push(O)}_=new xn(A),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new ER(new wn(g),_,v)}function b0(a,e){if(w0(a=ga(a)))return D0("Unsupported field value:",e,a),R0(a,e);if(a instanceof A0)return function(s,o){if(!S0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=b0(g,o.yc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=ga(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Jt.fromDate(s);return{timestampValue:ic(o.serializer,h)}}if(s instanceof Jt){const h=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ic(o.serializer,h)}}if(s instanceof ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:Bv(o.serializer,s._byteString)};if(s instanceof Se){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ii)return function(d,g){return{mapValue:{fields:{[gv]:{stringValue:pv},[Ju]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return Id(g.serializer,v)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Ad(s)}`)}(a,e)}function R0(a,e){const i={};return uv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(a,(s,o)=>{const h=b0(o,e.Vc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function w0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Jt||a instanceof ni||a instanceof Dn||a instanceof Se||a instanceof A0||a instanceof ii)}function D0(a,e,i){if(!w0(i)||!lv(i)){const s=Ad(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function bR(a,e,i){if((e=ga(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return C0(a,e);throw lc("Field path arguments must be of type string or ",a,!1,void 0,i)}const RR=new RegExp("[~\\*/\\[\\]]");function C0(a,e,i){if(e.search(RR)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Kd(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function lc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new at(K.INVALID_ARGUMENT,g+a+_)}function wR(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(V0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DR extends I0{data(){return super.data()}}function V0(a,e){return typeof e=="string"?C0(a,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IR{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ta(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Ju].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new ii(h)}convertGeoPoint(e){return new ni(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=dc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const i=Ar(e);return new Jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=$t.fromString(e);Bt(Qv(s),9688,{name:e});const o=new no(s.get(1),s.get(3)),h=new ut(s.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Fl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends I0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(V0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ma._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:pe("string",ma._jsonSchemaVersion),bundleSource:pe("string","DocumentSnapshot"),bundleName:pe("string"),bundle:pe("string")};class Yu extends ma{data(e={}){return super.data(e)}}class As{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Yu(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Yu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Fl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Yu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Fl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:OR(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=As._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(a){a=ya(a,Se);const e=ya(a.firestore,Rc);return mR(Yd(e),a._key).then(i=>UR(e,a,i))}As._jsonSchemaVersion="firestore/querySnapshot/1.0",As._jsonSchema={type:pe("string",As._jsonSchemaVersion),bundleSource:pe("string","QuerySnapshot"),bundleName:pe("string"),bundle:pe("string")};class O0 extends IR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Se(this.firestore,null,i)}}function MR(a){a=ya(a,bc);const e=ya(a.firestore,Rc),i=Yd(e),s=new O0(e);return CR(a._query),gR(i,a._query).then(o=>new As(e,s,a,o))}function N0(a,e,i){a=ya(a,Se);const s=ya(a.firestore,Rc),o=VR(a.converter,e);return xR(s,[SR(AR(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Mi.none())])}function xR(a,e){return function(s,o){const h=new Ni;return s.asyncQueue.enqueueAndForget(async()=>nR(await dR(s),o,h)),h.promise}(Yd(a),e)}function UR(a,e,i){const s=i.docs.get(e._key),o=new O0(a);return new ma(a,o,e._key,s,new Fl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Cs=o})(hA),vr(new xi("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Rc(new bA(s.getProvider("auth-internal")),new DA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new no(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Wn(Uy,Ly,e),Wn(Uy,Ly,"esm2017")})();var LR="firebase",PR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(LR,PR,"app");const M0="@firebase/installations",Zd="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=1e4,U0=`w:${Zd}`,L0="FIS_v2",zR="https://firebaseinstallations.googleapis.com/v1",kR=60*60*1e3,BR="installations",qR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new cc(BR,qR,jR);function P0(a){return a instanceof Dr&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0({projectId:a}){return`${zR}/projects/${a}/installations`}function k0(a){return{token:a.token,requestStatus:2,expiresIn:GR(a.expiresIn),creationTime:Date.now()}}async function B0(a,e){const s=(await e.json()).error;return va.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function q0({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function HR(a,{refreshToken:e}){const i=q0(a);return i.append("Authorization",FR(e)),i}async function j0(a){const e=await a();return e.status>=500&&e.status<600?a():e}function GR(a){return Number(a.replace("s","000"))}function FR(a){return`${L0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=z0(a),o=q0(a),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:L0,appId:a.appId,sdkVersion:U0},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await j0(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:k0(v.authToken)}}else throw await B0("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=/^[cdef][\w-]{21}$/,md="";function XR(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=ZR(a);return KR.test(i)?i:md}catch{return md}}function ZR(a){return YR(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;function F0(a,e){const i=wc(a);Q0(i,e),$R(i,e)}function Q0(a,e){const i=G0.get(a);if(i)for(const s of i)s(e)}function $R(a,e){const i=JR();i&&i.postMessage({key:a,fid:e}),WR()}let da=null;function JR(){return!da&&"BroadcastChannel"in self&&(da=new BroadcastChannel("[Firebase] FID Change"),da.onmessage=a=>{Q0(a.data.key,a.data.fid)}),da}function WR(){G0.size===0&&da&&(da.close(),da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-installations-database",e2=1,Ea="firebase-installations-store";let Gf=null;function $d(){return Gf||(Gf=Q_(t2,e2,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Ea)}}})),Gf}async function oc(a,e){const i=wc(a),o=(await $d()).transaction(Ea,"readwrite"),h=o.objectStore(Ea),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&F0(a,e.fid),e}async function Y0(a){const e=wc(a),s=(await $d()).transaction(Ea,"readwrite");await s.objectStore(Ea).delete(e),await s.done}async function Dc(a,e){const i=wc(a),o=(await $d()).transaction(Ea,"readwrite"),h=o.objectStore(Ea),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&F0(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(a){let e;const i=await Dc(a.appConfig,s=>{const o=n2(s),h=i2(a,o);return e=h.registrationPromise,h.installationEntry});return i.fid===md?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function n2(a){const e=a||{fid:XR(),registrationStatus:0};return K0(e)}function i2(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=r2(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:a2(a)}:{installationEntry:e}}async function r2(a,e){try{const i=await QR(a,e);return oc(a.appConfig,i)}catch(i){throw P0(i)&&i.customData.serverCode===409?await Y0(a.appConfig):await oc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function a2(a){let e=await O_(a.appConfig);for(;e.registrationStatus===1;)await H0(100),e=await O_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Jd(a);return s||i}return e}function O_(a){return Dc(a,e=>{if(!e)throw va.create("installation-not-found");return K0(e)})}function K0(a){return s2(a)?{fid:a.fid,registrationStatus:0}:a}function s2(a){return a.registrationStatus===1&&a.registrationTime+x0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2({appConfig:a,heartbeatServiceProvider:e},i){const s=o2(a,i),o=HR(a,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:U0,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await j0(()=>fetch(s,g));if(_.ok){const v=await _.json();return k0(v)}else throw await B0("Generate Auth Token",_)}function o2(a,{fid:e}){return`${z0(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(a,e=!1){let i;const s=await Dc(a.appConfig,h=>{if(!X0(h))throw va.create("not-registered");const d=h.authToken;if(!e&&h2(d))return h;if(d.requestStatus===1)return i=u2(a,e),h;{if(!navigator.onLine)throw va.create("app-offline");const g=d2(h);return i=c2(a,g),g}});return i?await i:s.authToken}async function u2(a,e){let i=await N_(a.appConfig);for(;i.authToken.requestStatus===1;)await H0(100),i=await N_(a.appConfig);const s=i.authToken;return s.requestStatus===0?Wd(a,e):s}function N_(a){return Dc(a,e=>{if(!X0(e))throw va.create("not-registered");const i=e.authToken;return m2(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function c2(a,e){try{const i=await l2(a,e),s=Object.assign(Object.assign({},e),{authToken:i});return await oc(a.appConfig,s),i}catch(i){if(P0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Y0(a.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await oc(a.appConfig,s)}throw i}}function X0(a){return a!==void 0&&a.registrationStatus===2}function h2(a){return a.requestStatus===2&&!f2(a)}function f2(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+kR}function d2(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function m2(a){return a.requestStatus===1&&a.requestTime+x0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(a){const e=a,{installationEntry:i,registrationPromise:s}=await Jd(e);return s?s.catch(console.error):Wd(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(a,e=!1){const i=a;return await y2(i),(await Wd(i,e)).token}async function y2(a){const{registrationPromise:e}=await Jd(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(a){if(!a||!a.options)throw Ff("App Configuration");if(!a.name)throw Ff("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw Ff(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Ff(a){return va.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="installations",v2="installations-internal",E2=a=>{const e=a.getProvider("app").getImmediate(),i=_2(e),s=so(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},T2=a=>{const e=a.getProvider("app").getImmediate(),i=so(e,Z0).getImmediate();return{getId:()=>g2(i),getToken:o=>p2(i,o)}};function A2(){vr(new xi(Z0,E2,"PUBLIC")),vr(new xi(v2,T2,"PRIVATE"))}A2();Wn(M0,Zd);Wn(M0,Zd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="analytics",S2="firebase_id",b2="origin",R2=60*1e3,w2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new _d("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new cc("analytics","Analytics",D2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(a){if(!a.startsWith(tm)){const e=fn.create("invalid-gtag-resource",{gtagURL:a});return en.warn(e.message),""}return a}function $0(a){return Promise.all(a.map(e=>e.catch(i=>i)))}function I2(a,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,e)),i}function V2(a,e){const i=I2("firebase-js-sdk-policy",{createScriptURL:C2}),s=document.createElement("script"),o=`${tm}?l=${a}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function O2(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function N2(a,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const _=(await $0(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(g){en.error(g)}a("config",o,h)}async function M2(a,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await $0(i);for(const _ of d){const v=g.find(I=>I.measurementId===_),A=v&&e[v.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),a("event",s,o||{})}catch(h){en.error(h)}}function x2(a,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,_]=d;await M2(a,e,i,g,_)}else if(h==="config"){const[g,_]=d;await N2(a,e,i,s,g,_)}else if(h==="consent"){const[g,_]=d;a("consent",g,_)}else if(h==="get"){const[g,_,v]=d;a("get",g,_,v)}else if(h==="set"){const[g]=d;a("set",g)}else a(h,...d)}catch(g){en.error(g)}}return o}function U2(a,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=x2(h,a,e,i),{gtagCore:h,wrappedGtag:window[o]}}function L2(a){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(tm)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=30,z2=1e3;class k2{constructor(e={},i=z2){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const J0=new k2;function B2(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function q2(a){var e;const{appId:i,apiKey:s}=a,o={method:"GET",headers:B2(s)},h=w2.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function j2(a,e=J0,i){const{appId:s,apiKey:o,measurementId:h}=a.options;if(!s)throw fn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw fn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new F2;return setTimeout(async()=>{g.abort()},R2),W0({appId:s,apiKey:o,measurementId:h},d,g,e)}async function W0(a,{throttleEndTimeMillis:e,backoffCount:i},s,o=J0){var h;const{appId:d,measurementId:g}=a;try{await H2(s,e)}catch(_){if(g)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await q2(a);return o.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!G2(v)){if(o.deleteThrottleMetadata(d),g)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const A=Number((h=v==null?void 0:v.customData)===null||h===void 0?void 0:h.httpStatus)===503?Ry(i,o.intervalMillis,P2):Ry(i,o.intervalMillis),I={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,I),en.debug(`Calling attemptFetch again in ${A} millis`),W0(a,I,s,o)}}function H2(a,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(h),s(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function G2(a){if(!(a instanceof Dr)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class F2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Q2(a,e,i,s,o){if(o&&o.global){a("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});a("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(){if(j_())try{await H_()}catch(a){return en.warn(fn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return en.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function K2(a,e,i,s,o,h,d){var g;const _=j2(a);_.then(j=>{i[j.measurementId]=j.appId,a.options.measurementId&&j.measurementId!==a.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>en.error(j)),e.push(_);const v=Y2().then(j=>{if(j)return s.getId()}),[A,I]=await Promise.all([_,v]);L2(h)||V2(h,A.measurementId),o("js",new Date);const O=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return O[b2]="firebase",O.update=!0,I!=null&&(O[S2]=I),o("config",A.measurementId,O),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.app=e}_delete(){return delete $l[this.app.options.appId],Promise.resolve()}}let $l={},M_=[];const x_={};let Qf="dataLayer",Z2="gtag",U_,tE,L_=!1;function $2(){const a=[];if(i1()&&a.push("This is a browser extension environment."),a1()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=fn.create("invalid-analytics-context",{errorInfo:e});en.warn(i.message)}}function J2(a,e,i){$2();const s=a.options.appId;if(!s)throw fn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fn.create("no-api-key");if($l[s]!=null)throw fn.create("already-exists",{id:s});if(!L_){O2(Qf);const{wrappedGtag:h,gtagCore:d}=U2($l,M_,x_,Qf,Z2);tE=h,U_=d,L_=!0}return $l[s]=K2(a,M_,x_,e,U_,Qf,i),new X2(a)}function W2(a=K_()){a=ga(a);const e=so(a,uc);return e.isInitialized()?e.getImmediate():tw(a)}function tw(a,e={}){const i=so(a,uc);if(i.isInitialized()){const o=i.getImmediate();if(Jl(e,i.getOptions()))return o;throw fn.create("already-initialized")}return i.initialize({options:e})}function ew(a,e,i,s){a=ga(a),Q2(tE,$l[a.app.options.appId],e,i,s).catch(o=>en.error(o))}const P_="@firebase/analytics",z_="0.10.17";function nw(){vr(new xi(uc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return J2(s,o,i)},"PUBLIC")),vr(new xi("analytics-internal",a,"PRIVATE")),Wn(P_,z_),Wn(P_,z_,"esm2017");function a(e){try{const i=e.getProvider(uc).getImmediate();return{logEvent:(s,o,h)=>ew(i,s,o,h)}}catch(i){throw fn.create("interop-component-reg-failed",{reason:i})}}}nw();const iw={apiKey:"AIzaSyAbfNNxbNCQzp_ec_n4xvf5fD1zVb5S_zo",authDomain:"temprecording.firebaseapp.com",projectId:"temprecording",storageBucket:"temprecording.firebasestorage.app",messagingSenderId:"433465160677",appId:"1:433465160677:web:075bbef2733a3af388f50c",measurementId:"G-GBRJYH26QY"},eE=Y_(iw);W2(eE);const Cc=yR(eE);async function rw(){T0(Cc,"Users")}async function aw(a){const e=Qd(Cc,"Users",a);await N0(e,{})}async function nE(a){const e=Qd(Cc,"Users",a);return(await NR(e)).exists()?a:null}async function iE(a,e){const i=await nE(a);if(i)return T0(Cc,"Users",i,e)}async function sw(a,e){const i=await iE(a,e);return i?(await MR(i)).size:0}async function lw(a,e){const i=await iE(a,e);if(i){const s=await sw(a,e);if(s||s===0){const o="workout"+(s+1),h=Qd(i,o);await N0(h,{})}}}function ow(){const[a,e]=gy.useState(()=>prompt("Enter your username"));gy.useEffect(()=>{async function s(){await rw(),await nE(a)||await aw(a)}alert(`This username is to be kept private. If you reveal this to others,
      they can access and alter your data. 
      If you need to see ur username again for remembering type 
      Yes in the following prompt`),prompt("Yes or No?")=="Yes"&&alert(a),s()},[a]);async function i(){const s=new Date().toISOString().split("T")[0];await lw(a,s)}return dr.jsxs(dr.Fragment,{children:[dr.jsx("button",{type:"button",onClick:i,children:"Click to add a new workout"}),dr.jsxs("form",{children:[dr.jsx("label",{htmlFor:"workoutPick",children:"Pick workout date: "}),dr.jsx("input",{type:"date",id:"workoutPick",name:"workoutPick"}),dr.jsx("button",{type:"submit"})]})]})}PT.createRoot(document.getElementById("root")).render(dr.jsx(ow,{}));
