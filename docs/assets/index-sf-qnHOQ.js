(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function UT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var xf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function LT(){if(Ey)return ql;Ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var Ty;function PT(){return Ty||(Ty=1,xf.exports=LT()),xf.exports}var nt=PT(),Uf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function zT(){if(Ay)return At;Ay=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function W(D,X,et){this.props=D,this.context=X,this.refs=it,this.updater=et||H}W.prototype.isReactComponent={},W.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=W.prototype;function ht(D,X,et){this.props=D,this.context=X,this.refs=it,this.updater=et||H}var ft=ht.prototype=new Tt;ft.constructor=ht,$(ft,W.prototype),ft.isPureReactComponent=!0;var Vt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function x(D,X,et,J,ut,Rt){return et=Rt.ref,{$$typeof:a,type:D,key:X,ref:et!==void 0?et:null,props:Rt}}function S(D,X){return x(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function C(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return X[et]})}var I=/\/+/g;function N(D,X){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):X.toString(36)}function b(){}function $t(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(b,b):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function zt(D,X,et,J,ut){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case a:case e:yt=!0;break;case A:return yt=D._init,zt(yt(D._payload),X,et,J,ut)}}if(yt)return ut=ut(D),yt=J===""?"."+N(D,0):J,Vt(ut)?(et="",yt!=null&&(et=yt.replace(I,"$&/")+"/"),zt(ut,X,et,"",function(Pn){return Pn})):ut!=null&&(w(ut)&&(ut=S(ut,et+(ut.key==null||D&&D.key===ut.key?"":(""+ut.key).replace(I,"$&/")+"/")+yt)),X.push(ut)),1;yt=0;var Ce=J===""?".":J+":";if(Vt(D))for(var Jt=0;Jt<D.length;Jt++)J=D[Jt],Rt=Ce+N(J,Jt),yt+=zt(J,X,et,Rt,ut);else if(Jt=M(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(J=D.next()).done;)J=J.value,Rt=Ce+N(J,Jt++),yt+=zt(J,X,et,Rt,ut);else if(Rt==="object"){if(typeof D.then=="function")return zt($t(D),X,et,J,ut);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function q(D,X,et){if(D==null)return D;var J=[],ut=0;return zt(D,J,"","",function(Rt){return X.call(et,Rt,ut++)}),J}function Z(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ot(){}return At.Children={map:q,forEach:function(D,X,et){q(D,function(){X.apply(this,arguments)},et)},count:function(D){var X=0;return q(D,function(){X++}),X},toArray:function(D){return q(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=W,At.Fragment=i,At.Profiler=o,At.PureComponent=ht,At.StrictMode=s,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return vt.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,X,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=$({},D.props),ut=D.key,Rt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ut=""+X.key),X)!Pt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(J[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)J.children=et;else if(1<yt){for(var Ce=Array(yt),Jt=0;Jt<yt;Jt++)Ce[Jt]=arguments[Jt+2];J.children=Ce}return x(D.type,ut,void 0,void 0,Rt,J)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},At.createElement=function(D,X,et){var J,ut={},Rt=null;if(X!=null)for(J in X.key!==void 0&&(Rt=""+X.key),X)Pt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ut[J]=X[J]);var yt=arguments.length-2;if(yt===1)ut.children=et;else if(1<yt){for(var Ce=Array(yt),Jt=0;Jt<yt;Jt++)Ce[Jt]=arguments[Jt+2];ut.children=Ce}if(D&&D.defaultProps)for(J in yt=D.defaultProps,yt)ut[J]===void 0&&(ut[J]=yt[J]);return x(D,Rt,void 0,void 0,null,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=w,At.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:Z}},At.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},At.startTransition=function(D){var X=vt.T,et={};vt.T=et;try{var J=D(),ut=vt.S;ut!==null&&ut(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ot,lt)}catch(Rt){lt(Rt)}finally{vt.T=X}},At.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},At.use=function(D){return vt.H.use(D)},At.useActionState=function(D,X,et){return vt.H.useActionState(D,X,et)},At.useCallback=function(D,X){return vt.H.useCallback(D,X)},At.useContext=function(D){return vt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,X){return vt.H.useDeferredValue(D,X)},At.useEffect=function(D,X,et){var J=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,X)},At.useId=function(){return vt.H.useId()},At.useImperativeHandle=function(D,X,et){return vt.H.useImperativeHandle(D,X,et)},At.useInsertionEffect=function(D,X){return vt.H.useInsertionEffect(D,X)},At.useLayoutEffect=function(D,X){return vt.H.useLayoutEffect(D,X)},At.useMemo=function(D,X){return vt.H.useMemo(D,X)},At.useOptimistic=function(D,X){return vt.H.useOptimistic(D,X)},At.useReducer=function(D,X,et){return vt.H.useReducer(D,X,et)},At.useRef=function(D){return vt.H.useRef(D)},At.useState=function(D){return vt.H.useState(D)},At.useSyncExternalStore=function(D,X,et){return vt.H.useSyncExternalStore(D,X,et)},At.useTransition=function(){return vt.H.useTransition()},At.version="19.1.0",At}var Sy;function Ed(){return Sy||(Sy=1,Uf.exports=zT()),Uf.exports}var Je=Ed();const by=UT(Je);var Lf={exports:{}},Hl={},Pf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function kT(){return Ry||(Ry=1,function(a){function e(q,Z){var lt=q.length;q.push(Z);t:for(;0<lt;){var Ot=lt-1>>>1,D=q[Ot];if(0<o(D,Z))q[Ot]=Z,q[lt]=D,lt=Ot;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var Z=q[0],lt=q.pop();if(lt!==Z){q[0]=lt;t:for(var Ot=0,D=q.length,X=D>>>1;Ot<X;){var et=2*(Ot+1)-1,J=q[et],ut=et+1,Rt=q[ut];if(0>o(J,lt))ut<D&&0>o(Rt,J)?(q[Ot]=Rt,q[ut]=lt,Ot=ut):(q[Ot]=J,q[et]=lt,Ot=et);else if(ut<D&&0>o(Rt,lt))q[Ot]=Rt,q[ut]=lt,Ot=ut;else break t}}return Z}function o(q,Z){var lt=q.sortIndex-Z.sortIndex;return lt!==0?lt:q.id-Z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,V=null,M=3,H=!1,$=!1,it=!1,W=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Vt(q){for(var Z=i(v);Z!==null;){if(Z.callback===null)s(v);else if(Z.startTime<=q)s(v),Z.sortIndex=Z.expirationTime,e(_,Z);else break;Z=i(v)}}function vt(q){if(it=!1,Vt(q),!$)if(i(_)!==null)$=!0,Pt||(Pt=!0,N());else{var Z=i(v);Z!==null&&zt(vt,Z.startTime-q)}}var Pt=!1,x=-1,S=5,w=-1;function C(){return W?!0:!(a.unstable_now()-w<S)}function I(){if(W=!1,Pt){var q=a.unstable_now();w=q;var Z=!0;try{t:{$=!1,it&&(it=!1,ht(x),x=-1),H=!0;var lt=M;try{e:{for(Vt(q),V=i(_);V!==null&&!(V.expirationTime>q&&C());){var Ot=V.callback;if(typeof Ot=="function"){V.callback=null,M=V.priorityLevel;var D=Ot(V.expirationTime<=q);if(q=a.unstable_now(),typeof D=="function"){V.callback=D,Vt(q),Z=!0;break e}V===i(_)&&s(_),Vt(q)}else s(_);V=i(_)}if(V!==null)Z=!0;else{var X=i(v);X!==null&&zt(vt,X.startTime-q),Z=!1}}break t}finally{V=null,M=lt,H=!1}Z=void 0}}finally{Z?N():Pt=!1}}}var N;if(typeof ft=="function")N=function(){ft(I)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,$t=b.port2;b.port1.onmessage=I,N=function(){$t.postMessage(null)}}else N=function(){Tt(I,0)};function zt(q,Z){x=Tt(function(){q(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(q){switch(M){case 1:case 2:case 3:var Z=3;break;default:Z=M}var lt=M;M=Z;try{return q()}finally{M=lt}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=M;M=q;try{return Z()}finally{M=lt}},a.unstable_scheduleCallback=function(q,Z,lt){var Ot=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ot+lt:Ot):lt=Ot,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,q={id:A++,callback:Z,priorityLevel:q,startTime:lt,expirationTime:D,sortIndex:-1},lt>Ot?(q.sortIndex=lt,e(v,q),i(_)===null&&q===i(v)&&(it?(ht(x),x=-1):it=!0,zt(vt,lt-Ot))):(q.sortIndex=D,e(_,q),$||H||($=!0,Pt||(Pt=!0,N()))),q},a.unstable_shouldYield=C,a.unstable_wrapCallback=function(q){var Z=M;return function(){var lt=M;M=Z;try{return q.apply(this,arguments)}finally{M=lt}}}}(zf)),zf}var wy;function BT(){return wy||(wy=1,Pf.exports=kT()),Pf.exports}var kf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function jT(){if(Cy)return Ge;Cy=1;var a=Ed();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Ge.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},Ge.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Ge.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ge.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:M,fetchPriority:H}):A==="script"&&s.d.X(_,{crossOrigin:V,integrity:M,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Ge.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Ge.requestFormReset=function(_){s.d.r(_)},Ge.unstable_batchedUpdates=function(_,v){return _(v)},Ge.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Dy;function qT(){if(Dy)return kf.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),kf.exports=jT(),kf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function HT(){if(Iy)return Hl;Iy=1;var a=BT(),e=Ed(),i=qT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function $t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case W:return"Profiler";case it:return"StrictMode";case vt:return"Suspense";case Pt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case ht:return(t._context.displayName||"Context")+".Consumer";case Vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:$t(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return $t(t(n))}catch{}}return null}var zt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ot=[],D=-1;function X(t){return{current:t}}function et(t){0>D||(t.current=Ot[D],Ot[D]=null,D--)}function J(t,n){D++,Ot[D]=t.current,t.current=n}var ut=X(null),Rt=X(null),yt=X(null),Ce=X(null);function Jt(t,n){switch(J(yt,n),J(Rt,t),J(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Kp(n),t=Xp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ut),J(ut,t)}function Pn(){et(ut),et(Rt),et(yt)}function Bi(t){t.memoizedState!==null&&J(Ce,t);var n=ut.current,r=Xp(n,t.type);n!==r&&(J(Rt,t),J(ut,r))}function oi(t){Rt.current===t&&(et(ut),et(Rt)),Ce.current===t&&(et(Ce),Pl._currentValue=lt)}var Ir=Object.prototype.hasOwnProperty,Vr=a.unstable_scheduleCallback,Or=a.unstable_cancelCallback,xs=a.unstable_shouldYield,po=a.unstable_requestPaint,gn=a.unstable_now,Mc=a.unstable_getCurrentPriorityLevel,Us=a.unstable_ImmediatePriority,wa=a.unstable_UserBlockingPriority,Nr=a.unstable_NormalPriority,xc=a.unstable_LowPriority,Ca=a.unstable_IdlePriority,Ls=a.log,yo=a.unstable_setDisableYieldValue,se=null,Ht=null;function an(t){if(typeof Ls=="function"&&yo(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,t)}catch{}}var qe=Math.clz32?Math.clz32:Mr,_o=Math.log,Uc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(_o(t)/Uc|0)|0}var xr=256,Ur=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Da(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(y&=E,y!==0?c=Vn(y):r||(r=E&~t,r!==0&&(c=Vn(r))))):(E=l&~f,E!==0?c=Vn(E):y!==0?c=Vn(y):r||(r=l&~t,r!==0&&(c=Vn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Lr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ps(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function ks(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ci(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-qe(r),Q=1<<G;E[G]=0,R[G]=-1;var k=z[G];if(k!==null)for(z[G]=null,G=0;G<k.length;G++){var B=k[G];B!==null&&(B.lane&=-536870913)}r&=~Q}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function js(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qi(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:my(t.type))}function vo(t,n){var r=Z.p;try{return Z.p=t,n()}finally{Z.p=r}}var ne=Math.random().toString(36).slice(2),ve="__reactFiber$"+ne,de="__reactProps$"+ne,pn="__reactContainer$"+ne,qs="__reactEvents$"+ne,Lc="__reactListeners$"+ne,Hi="__reactHandles$"+ne,Eo="__reactResources$"+ne,Pr="__reactMarker$"+ne;function Gi(t){delete t[ve],delete t[de],delete t[qs],delete t[Lc],delete t[Hi]}function hi(t){var n=t[ve];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Wp(t);t!==null;){if(r=t[ve])return r;t=Wp(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[ve]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[Eo];return n||(n=t[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Pr]=!0}var Hs=new Set,Va={};function On(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(Va[t]=n,t=0;t<n.length;t++)Hs.add(n[t])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},zr={};function So(t){return Ir.call(zr,t)?!0:Ir.call(Ao,t)?!1:To.test(t)?zr[t]=!0:(Ao[t]=!0,!1)}function Fi(t,n,r){if(So(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var kr,bo;function di(t){if(kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",bo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+t+bo}var Oa=!1;function Na(t,n){if(!t||Oa)return"";Oa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var k=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){k=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){k=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Oa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?di(r):""}function Gs(t){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Na(t.type,!1);case 11:return Na(t.type.render,!1);case 1:return Na(t.type,!0);case 31:return di("Activity");default:return""}}function Ma(t){try{var n="";do n+=Gs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pc(t){var n=Fs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xa(t){t._valueTracker||(t._valueTracker=Pc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Fs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zc=/[\n"\\]/g;function me(t){return t.replace(zc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Qi(t,y,Xe(n)):r!=null?Qi(t,y,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function jr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Qi(t,n,r){n==="number"&&Br(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function mi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function qr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(zt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Hr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ys(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ro(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ro(t,f,n[f])}function Ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(t){return Bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function Xs(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[de]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Qs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mi(t,!!r.multiple,n,!1)}}}var qn=!1;function wo(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(pi!==null||yi!==null)&&(vu(),pi&&(n=pi,t=yi,yi=pi=null,Xs(n),t)))for(n=0;n<t.length;n++)Xs(t[n])}}function Gr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[de]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{vn=!1}var Hn=null,Yi=null,_i=null;function Zs(){if(_i)return _i;var t,n=Yi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return _i=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function $s(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:$s,this.isPropagationStopped=$s,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=De(jt),Qr=A({},jt,{view:0,detail:0}),Co=De(Qr),Pa,za,Qn,Yr=A({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Pa=t.screenX-Qn.screenX,za=t.screenY-Qn.screenY):za=Pa=0,Qn=t),Pa)},movementY:function(t){return"movementY"in t?t.movementY:za}}),En=De(Yr),Do=A({},Yr,{dataTransfer:0}),jc=De(Do),Kr=A({},Qr,{relatedTarget:0}),ka=De(Kr),Js=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=De(Js),Io=A({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ja=De(Io),qc=A({},jt,{data:0}),Ws=De(qc),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Oo[t])?!!n[t]:!1}function Zr(){return tl}var No=A({},Qr,{key:function(t){if(t.key){var n=Xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qa=De(No),Mo=A({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=De(Mo),vi=A({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),xo=De(vi),Uo=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lo=De(Uo),Po=A({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=De(Po),Ze=A({},jt,{newState:0,oldState:0}),zo=De(Ze),ko=[9,13,27,32],Yn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,p=Nn&&(!Yn||u&&8<u&&11>=u),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return ko.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function Ee(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Mt(t,n){if(Nt)return t==="compositionend"||!Yn&&j(t,n)?(t=Zs(),_i=Yi=Hn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function Ei(t,n,r,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=Ru(n,"onChange"),0<n.length&&(r=new La("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Kn=null;function nl(t){Hp(t,0)}function Bo(t){var n=Bn(t);if(Qs(n))return t}function cm(t,n){if(t==="change")return n}var hm=!1;if(Nn){var Hc;if(Nn){var Gc="oninput"in document;if(!Gc){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),Gc=typeof fm.oninput=="function"}Hc=Gc}else Hc=!1;hm=Hc&&(!document.documentMode||9<document.documentMode)}function dm(){Ue&&(Ue.detachEvent("onpropertychange",mm),Kn=Ue=null)}function mm(t){if(t.propertyName==="value"&&Bo(Kn)){var n=[];Ei(n,Kn,t,_n(t)),wo(nl,n)}}function hE(t,n,r){t==="focusin"?(dm(),Ue=n,Kn=r,Ue.attachEvent("onpropertychange",mm)):t==="focusout"&&dm()}function fE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(Kn)}function dE(t,n){if(t==="click")return Bo(n)}function mE(t,n){if(t==="input"||t==="change")return Bo(n)}function gE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:gE;function il(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ir.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pm(t,n){var r=gm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=gm(r)}}function ym(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ym(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Br(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Br(t.document)}return n}function Fc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var pE=Nn&&"documentMode"in document&&11>=document.documentMode,Ga=null,Qc=null,rl=null,Yc=!1;function vm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yc||Ga==null||Ga!==Br(l)||(l=Ga,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Ru(Qc,"onSelect"),0<l.length&&(n=new La("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ga)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Fa={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Kc={},Em={};Nn&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Jr(t){if(Kc[t])return Kc[t];if(!Fa[t])return t;var n=Fa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Em)return Kc[t]=n[r];return t}var Tm=Jr("animationend"),Am=Jr("animationiteration"),Sm=Jr("animationstart"),yE=Jr("transitionrun"),_E=Jr("transitionstart"),vE=Jr("transitioncancel"),bm=Jr("transitionend"),Rm=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Mn(t,n){Rm.set(t,n),On(n,[t])}var wm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=wm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ma(n)},wm.set(t,n),n)}return{value:t,source:n,stack:Ma(n)}}var An=[],Qa=0,Zc=0;function jo(){for(var t=Qa,n=Zc=Qa=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Cm(r,c,f)}}function qo(t,n,r,l){An[Qa++]=t,An[Qa++]=n,An[Qa++]=r,An[Qa++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,r,l){return qo(t,n,r,l),Ho(t)}function Ya(t,n){return qo(t,null,null,n),Ho(t)}function Cm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ho(t){if(50<Il)throw Il=0,rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ka={};function EE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,r,l){return new EE(t,n,r,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,n){var r=t.alternate;return r===null?(r=on(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Dm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Go(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Jc(t)&&(y=1);else if(typeof t=="string")y=AT(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,r,n,c),t.elementType=w,t.lanes=f,t;case $:return Wr(r.children,c,f,n);case it:y=8,c|=24;break;case W:return t=on(12,r,n,c|2),t.elementType=W,t.lanes=f,t;case vt:return t=on(13,r,n,c),t.elementType=vt,t.lanes=f,t;case Pt:return t=on(19,r,n,c),t.elementType=Pt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case ft:y=10;break t;case ht:y=9;break t;case Vt:y=11;break t;case x:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Wr(t,n,r,l){return t=on(7,t,l,n),t.lanes=r,t}function Wc(t,n,r){return t=on(6,t,null,n),t.lanes=r,t}function th(t,n,r){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xa=[],Za=0,Fo=null,Qo=0,Sn=[],bn=0,ta=null,Ai=1,Si="";function ea(t,n){Xa[Za++]=Qo,Xa[Za++]=Fo,Fo=t,Qo=n}function Im(t,n,r){Sn[bn++]=Ai,Sn[bn++]=Si,Sn[bn++]=ta,ta=t;var l=Ai;t=Si;var c=32-qe(l)-1;l&=~(1<<c),r+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ai=1<<32-qe(n)+c|r<<c|l,Si=f+t}else Ai=1<<f|r<<c|l,Si=t}function eh(t){t.return!==null&&(ea(t,1),Im(t,1,0))}function nh(t){for(;t===Fo;)Fo=Xa[--Za],Xa[Za]=null,Qo=Xa[--Za],Xa[Za]=null;for(;t===ta;)ta=Sn[--bn],Sn[bn]=null,Si=Sn[--bn],Sn[bn]=null,Ai=Sn[--bn],Sn[bn]=null}var $e=null,le=null,Bt=!1,na=null,Xn=!1,ih=Error(s(519));function ia(t){var n=Error(s(418,""));throw ll(Tn(n,t)),ih}function Vm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ve]=t,n[de]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Ol.length;r++)Dt(Ol[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),jr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),qr(n,l.value,l.defaultValue,l.children),xa(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Yp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=wu),n=!0):n=!1,n||ia(t)}function Om(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:$e=$e.return}}function al(t){if(t!==$e)return!1;if(!Bt)return Om(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ef(t.type,t.memoizedProps)),r=!r),r&&le&&ia(t),Om(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ur(t.type)?(t=bf,bf=null,le=t):le=n):le=$e?Un(t.stateNode.nextSibling):null;return!0}function sl(){le=$e=null,Bt=!1}function Nm(){var t=na;return t!==null&&(en===null?en=t:en.push.apply(en,t),na=null),t}function ll(t){na===null?na=[t]:na.push(t)}var rh=X(null),ra=null,bi=null;function Ki(t,n,r){J(rh,n._currentValue),n._currentValue=r}function Ri(t){t._currentValue=rh.current,et(rh)}function ah(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function sh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ah(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),ah(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&sh(n,t,r,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){ra=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Mm(ra,t)}function Ko(t,n){return ra===null&&aa(t),Mm(t,n)}function Mm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(s(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var TE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},AE=a.unstable_scheduleCallback,SE=a.unstable_NormalPriority,Ae={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new TE,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&AE(SE,function(){t.controller.abort()})}var cl=null,oh=0,$a=0,Ja=null;function bE(t,n){if(cl===null){var r=cl=[];oh=0,$a=hf(),Ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return oh++,n.then(xm,xm),n}function xm(){if(--oh===0&&cl!==null){Ja!==null&&(Ja.status="fulfilled");var t=cl;cl=null,$a=0,Ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function RE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Um=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&bE(t,n),Um!==null&&Um(t,n)};var sa=X(null);function uh(){var t=sa.current;return t!==null?t:Wt.pooledCache}function Xo(t,n){n===null?J(sa,sa.current):J(sa,n.pool)}function Lm(){var t=uh();return t===null?null:{parent:Ae._currentValue,pool:t}}var hl=Error(s(460)),Pm=Error(s(474)),Zo=Error(s(542)),ch={then:function(){}};function zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $o(){}function km(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then($o,$o),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t;default:if(typeof n.status=="string")n.then($o,$o);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,jm(t),t}throw fl=n,hl}}var fl=null;function Bm(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}function jm(t){if(t===hl||t===Zo)throw Error(s(483))}var Xi=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ho(t),Cm(t,null,r),n}return qo(t,l,n,r),Ho(t)}function dl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,js(t,r)}}function dh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var mh=!1;function ml(){if(mh){var t=Ja;if(t!==null)throw t}}function gl(t,n,r,l){mh=!1;var c=t.updateQueue;Xi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Q=c.baseState;y=0,G=z=R=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(xt&k)===k:(l&k)===k){k!==0&&k===$a&&(mh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,dt=E;k=n;var Xt=r;switch(dt.tag){case 1:if(pt=dt.payload,typeof pt=="function"){Q=pt.call(Xt,Q,k);break t}Q=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=dt.payload,k=typeof pt=="function"?pt.call(Xt,Q,k):pt,k==null)break t;Q=A({},Q,k);break t;case 2:Xi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=B,R=Q):G=G.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(R=Q),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ar|=y,t.lanes=y,t.memoizedState=Q}}function qm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Hm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)qm(r[t],n)}var Wa=X(null),Jo=X(0);function Gm(t,n){t=Ni,J(Jo,t),J(Wa,n),Ni=t|n.baseLanes}function gh(){J(Jo,Ni),J(Wa,Wa.current)}function ph(){Ni=Jo.current,et(Wa),et(Jo)}var Ji=0,St=null,Yt=null,ge=null,Wo=!1,ts=!1,la=!1,tu=0,pl=0,es=null,wE=0;function ce(){throw Error(s(321))}function yh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function _h(t,n,r,l,c,f){return Ji=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Cg:Dg,la=!1,f=r(l,c),la=!1,ts&&(f=Qm(n,r,l,c)),Fm(t),f}function Fm(t){q.H=su;var n=Yt!==null&&Yt.next!==null;if(Ji=0,ge=Yt=St=null,Wo=!1,pl=0,es=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&Yo(t)&&(Ve=!0))}function Qm(t,n,r,l){St=t;var c=0;do{if(ts&&(es=null),pl=0,ts=!1,25<=c)throw Error(s(301));if(c+=1,ge=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=ME,f=n(r,l)}while(ts);return f}function CE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function vh(){var t=tu!==0;return tu=0,t}function Eh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Th(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}Ji=0,ge=Yt=St=null,ts=!1,pl=tu=0,es=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=ge===null?St.memoizedState:ge.next;if(n!==null)ge=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?St.memoizedState=ge=t:ge=ge.next=t}return ge}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,es===null&&(es=[]),t=km(es,t,n),n=St,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Cg:Dg),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===ft)return He(t)}throw Error(s(438,String(t)))}function Sh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ah(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=C;return n.index++,r}function wi(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=pe();return bh(n,Yt,t)}function bh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,z=n,G=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(xt&Q)===Q:(Ji&Q)===Q){var k=z.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===$a&&(G=!0);else if((Ji&k)===k){z=z.next,k===$a&&(G=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Q,y=f):R=R.next=Q,St.lanes|=k,ar|=k;Q=z.action,la&&r(f,Q),f=z.hasEagerState?z.eagerState:r(f,Q)}else k={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=k,y=f):R=R.next=k,St.lanes|=Q,ar|=Q;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!ln(f,t.memoizedState)&&(Ve=!0,G&&(r=Ja,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Ym(t,n,r){var l=St,c=pe(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!ln((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=Zm.bind(null,l,c,t);if(_l(2048,8,E,[t]),c.getSnapshot!==n||y||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,ns(9,iu(),Xm.bind(null,l,c,r,n),null),Wt===null)throw Error(s(349));f||(Ji&124)!==0||Km(l,n,r)}return r}function Km(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Ah(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Xm(t,n,r,l){n.value=r,n.getSnapshot=l,$m(n)&&Jm(t)}function Zm(t,n,r){return r(function(){$m(n)&&Jm(t)})}function $m(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function Jm(t){var n=Ya(t,2);n!==null&&dn(n,t,2)}function wh(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),la){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function Wm(t,n,r,l){return t.baseState=r,bh(t,Yt,typeof l=="function"?l:wi)}function DE(t,n,r,l,c){if(au(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,tg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function tg(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=r(c,l),R=q.S;R!==null&&R(y,E),eg(t,n,E)}catch(z){Ch(t,n,z)}finally{q.T=f}}else try{f=r(c,l),eg(t,n,f)}catch(z){Ch(t,n,z)}}function eg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ng(t,n,l)},function(l){return Ch(t,n,l)}):ng(t,n,r)}function ng(t,n,r){n.status="fulfilled",n.value=r,ig(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,tg(t,r)))}function Ch(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ig(n),n=n.next;while(n!==l)}t.action=null}function ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function rg(t,n){return n}function ag(t,n){if(Bt){var r=Wt.formState;if(r!==null){t:{var l=St;if(Bt){if(le){e:{for(var c=le,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Un(c.nextSibling),l=c.data==="F!";break t}}ia(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:n},r.queue=l,r=bg.bind(null,St,l),l.dispatch=r,l=wh(!1),f=Nh.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=DE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function sg(t){var n=pe();return lg(n,Yt,t)}function lg(t,n,r){if(n=bh(t,n,rg)[0],t=nu(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(y){throw y===hl?Zo:y}else l=n;n=pe();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,ns(9,iu(),IE.bind(null,c,r),null)),[l,f,t]}function IE(t,n){t.action=n}function og(t){var n=pe(),r=Yt;if(r!==null)return lg(n,r,t);pe(),n=n.memoizedState,r=pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ns(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Ah(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function iu(){return{destroy:void 0,resource:void 0}}function ug(){return pe().memoizedState}function ru(t,n,r,l){var c=We();l=l===void 0?null:l,St.flags|=t,c.memoizedState=ns(1|n,iu(),r,l)}function _l(t,n,r,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&yh(l,Yt.memoizedState.deps)?c.memoizedState=ns(n,f,r,l):(St.flags|=t,c.memoizedState=ns(1|n,f,r,l))}function cg(t,n){ru(8390656,8,t,n)}function hg(t,n){_l(2048,8,t,n)}function fg(t,n){return _l(4,2,t,n)}function dg(t,n){return _l(4,4,t,n)}function mg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function gg(t,n,r){r=r!=null?r.concat([t]):null,_l(4,4,mg.bind(null,n,t),r)}function Dh(){}function pg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&yh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function yg(t,n){var r=pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&yh(n,l[1]))return l[0];if(l=t(),la){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function Ih(t,n,r){return r===void 0||(Ji&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Ep(),St.lanes|=t,ar|=t,r)}function _g(t,n,r,l){return ln(r,n)?r:Wa.current!==null?(t=Ih(t,r,l),ln(t,n)||(Ve=!0),t):(Ji&42)===0?(Ve=!0,t.memoizedState=r):(t=Ep(),St.lanes|=t,ar|=t,n)}function vg(t,n,r,l,c){var f=Z.p;Z.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,Nh(t,!1,n,r);try{var R=c(),z=q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=RE(R,l);vl(t,n,G,fn(t))}else vl(t,n,l,fn(t))}catch(Q){vl(t,n,{then:function(){},status:"rejected",reason:Q},fn())}finally{Z.p=f,q.T=y}}function VE(){}function Vh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Eg(t).queue;vg(t,c,n,lt,r===null?VE:function(){return Tg(t),r(l)})}function Eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Tg(t){var n=Eg(t).next.queue;vl(t,n,{},fn())}function Oh(){return He(Pl)}function Ag(){return pe().memoizedState}function Sg(){return pe().memoizedState}function OE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Zi(r);var l=$i(n,t,r);l!==null&&(dn(l,n,r),dl(l,n,r)),n={cache:lh()},t.payload=n;return}n=n.return}}function NE(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},au(t)?Rg(n,r):(r=$c(t,n,r,l),r!==null&&(dn(r,t,l),wg(r,n,l)))}function bg(t,n,r){var l=fn();vl(t,n,r,l)}function vl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(au(t))Rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return qo(t,n,c,0),Wt===null&&jo(),!1}catch{}finally{}if(r=$c(t,n,c,l),r!==null)return dn(r,t,l),wg(r,n,l),!0}return!1}function Nh(t,n,r,l){if(l={lane:2,revertLane:hf(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(s(479))}else n=$c(t,r,l,2),n!==null&&dn(n,t,2)}function au(t){var n=t.alternate;return t===St||n!==null&&n===St}function Rg(t,n){ts=Wo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function wg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,js(t,r)}}var su={readContext:He,use:eu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Cg={readContext:He,use:eu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:cg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ru(4194308,4,mg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ru(4194308,4,t,n)},useInsertionEffect:function(t,n){ru(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(la){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(la){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=NE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=wh(t);var n=t.queue,r=bg.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Dh,useDeferredValue:function(t,n){var r=We();return Ih(r,t,n)},useTransition:function(){var t=wh(!1);return t=vg.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=We();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Wt===null)throw Error(s(349));(xt&124)!==0||Km(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,cg(Zm.bind(null,l,f,t),[t]),l.flags|=2048,ns(9,iu(),Xm.bind(null,l,f,r,n),null),r},useId:function(){var t=We(),n=Wt.identifierPrefix;if(Bt){var r=Si,l=Ai;r=(l&~(1<<32-qe(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=tu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=wE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Oh,useFormState:ag,useActionState:ag,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:Sh,useCacheRefresh:function(){return We().memoizedState=OE.bind(null,St)}},Dg={readContext:He,use:eu,useCallback:pg,useContext:He,useEffect:hg,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:nu,useRef:ug,useState:function(){return nu(wi)},useDebugValue:Dh,useDeferredValue:function(t,n){var r=pe();return _g(r,Yt.memoizedState,t,n)},useTransition:function(){var t=nu(wi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:Oh,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var r=pe();return Wm(r,Yt,t,n)},useMemoCache:Sh,useCacheRefresh:Sg},ME={readContext:He,use:eu,useCallback:pg,useContext:He,useEffect:hg,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:Rh,useRef:ug,useState:function(){return Rh(wi)},useDebugValue:Dh,useDeferredValue:function(t,n){var r=pe();return Yt===null?Ih(r,t,n):_g(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Rh(wi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Ym,useId:Ag,useHostTransitionStatus:Oh,useFormState:og,useActionState:og,useOptimistic:function(t,n){var r=pe();return Yt!==null?Wm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:Sg},is=null,El=0;function lu(t){var n=El;return El+=1,is===null&&(is=[]),km(is,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ou(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ig(t){var n=t._init;return n(t._payload)}function Vg(t){function n(U,O){if(t){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function r(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=Ti(U,O),U.index=0,U.sibling=null,U}function f(U,O,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,P,F){return O===null||O.tag!==6?(O=Wc(P,U.mode,F),O.return=U,O):(O=c(O,P),O.return=U,O)}function R(U,O,P,F){var at=P.type;return at===$?G(U,O,P.props.children,F,P.key):O!==null&&(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Ig(at)===O.type)?(O=c(O,P.props),Tl(O,P),O.return=U,O):(O=Go(P.type,P.key,P.props,null,U.mode,F),Tl(O,P),O.return=U,O)}function z(U,O,P,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=th(P,U.mode,F),O.return=U,O):(O=c(O,P.children||[]),O.return=U,O)}function G(U,O,P,F,at){return O===null||O.tag!==7?(O=Wr(P,U.mode,F,at),O.return=U,O):(O=c(O,P),O.return=U,O)}function Q(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Wc(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return P=Go(O.type,O.key,O.props,null,U.mode,P),Tl(P,O),P.return=U,P;case H:return O=th(O,U.mode,P),O.return=U,O;case S:var F=O._init;return O=F(O._payload),Q(U,O,P)}if(zt(O)||N(O))return O=Wr(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return Q(U,lu(O),P);if(O.$$typeof===ft)return Q(U,Ko(U,O),P);ou(U,O)}return null}function k(U,O,P,F){var at=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return at!==null?null:E(U,O,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case M:return P.key===at?R(U,O,P,F):null;case H:return P.key===at?z(U,O,P,F):null;case S:return at=P._init,P=at(P._payload),k(U,O,P,F)}if(zt(P)||N(P))return at!==null?null:G(U,O,P,F,null);if(typeof P.then=="function")return k(U,O,lu(P),F);if(P.$$typeof===ft)return k(U,O,Ko(U,P),F);ou(U,P)}return null}function B(U,O,P,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(O,U,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return U=U.get(F.key===null?P:F.key)||null,R(O,U,F,at);case H:return U=U.get(F.key===null?P:F.key)||null,z(O,U,F,at);case S:var wt=F._init;return F=wt(F._payload),B(U,O,P,F,at)}if(zt(F)||N(F))return U=U.get(P)||null,G(O,U,F,at,null);if(typeof F.then=="function")return B(U,O,P,lu(F),at);if(F.$$typeof===ft)return B(U,O,P,Ko(O,F),at);ou(O,F)}return null}function pt(U,O,P,F){for(var at=null,wt=null,ot=O,mt=O=0,Ne=null;ot!==null&&mt<P.length;mt++){ot.index>mt?(Ne=ot,ot=null):Ne=ot.sibling;var kt=k(U,ot,P[mt],F);if(kt===null){ot===null&&(ot=Ne);break}t&&ot&&kt.alternate===null&&n(U,ot),O=f(kt,O,mt),wt===null?at=kt:wt.sibling=kt,wt=kt,ot=Ne}if(mt===P.length)return r(U,ot),Bt&&ea(U,mt),at;if(ot===null){for(;mt<P.length;mt++)ot=Q(U,P[mt],F),ot!==null&&(O=f(ot,O,mt),wt===null?at=ot:wt.sibling=ot,wt=ot);return Bt&&ea(U,mt),at}for(ot=l(ot);mt<P.length;mt++)Ne=B(ot,U,mt,P[mt],F),Ne!==null&&(t&&Ne.alternate!==null&&ot.delete(Ne.key===null?mt:Ne.key),O=f(Ne,O,mt),wt===null?at=Ne:wt.sibling=Ne,wt=Ne);return t&&ot.forEach(function(mr){return n(U,mr)}),Bt&&ea(U,mt),at}function dt(U,O,P,F){if(P==null)throw Error(s(151));for(var at=null,wt=null,ot=O,mt=O=0,Ne=null,kt=P.next();ot!==null&&!kt.done;mt++,kt=P.next()){ot.index>mt?(Ne=ot,ot=null):Ne=ot.sibling;var mr=k(U,ot,kt.value,F);if(mr===null){ot===null&&(ot=Ne);break}t&&ot&&mr.alternate===null&&n(U,ot),O=f(mr,O,mt),wt===null?at=mr:wt.sibling=mr,wt=mr,ot=Ne}if(kt.done)return r(U,ot),Bt&&ea(U,mt),at;if(ot===null){for(;!kt.done;mt++,kt=P.next())kt=Q(U,kt.value,F),kt!==null&&(O=f(kt,O,mt),wt===null?at=kt:wt.sibling=kt,wt=kt);return Bt&&ea(U,mt),at}for(ot=l(ot);!kt.done;mt++,kt=P.next())kt=B(ot,U,mt,kt.value,F),kt!==null&&(t&&kt.alternate!==null&&ot.delete(kt.key===null?mt:kt.key),O=f(kt,O,mt),wt===null?at=kt:wt.sibling=kt,wt=kt);return t&&ot.forEach(function(xT){return n(U,xT)}),Bt&&ea(U,mt),at}function Xt(U,O,P,F){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case M:t:{for(var at=P.key;O!==null;){if(O.key===at){if(at=P.type,at===$){if(O.tag===7){r(U,O.sibling),F=c(O,P.props.children),F.return=U,U=F;break t}}else if(O.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Ig(at)===O.type){r(U,O.sibling),F=c(O,P.props),Tl(F,P),F.return=U,U=F;break t}r(U,O);break}else n(U,O);O=O.sibling}P.type===$?(F=Wr(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=Go(P.type,P.key,P.props,null,U.mode,F),Tl(F,P),F.return=U,U=F)}return y(U);case H:t:{for(at=P.key;O!==null;){if(O.key===at)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(U,O.sibling),F=c(O,P.children||[]),F.return=U,U=F;break t}else{r(U,O);break}else n(U,O);O=O.sibling}F=th(P,U.mode,F),F.return=U,U=F}return y(U);case S:return at=P._init,P=at(P._payload),Xt(U,O,P,F)}if(zt(P))return pt(U,O,P,F);if(N(P)){if(at=N(P),typeof at!="function")throw Error(s(150));return P=at.call(P),dt(U,O,P,F)}if(typeof P.then=="function")return Xt(U,O,lu(P),F);if(P.$$typeof===ft)return Xt(U,O,Ko(U,P),F);ou(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(U,O.sibling),F=c(O,P),F.return=U,U=F):(r(U,O),F=Wc(P,U.mode,F),F.return=U,U=F),y(U)):r(U,O)}return function(U,O,P,F){try{El=0;var at=Xt(U,O,P,F);return is=null,at}catch(ot){if(ot===hl||ot===Zo)throw ot;var wt=on(29,ot,null,U.mode);return wt.lanes=F,wt.return=U,wt}finally{}}}var rs=Vg(!0),Og=Vg(!1),Rn=X(null),Zn=null;function Wi(t){var n=t.alternate;J(Se,Se.current&1),J(Rn,t),Zn===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(Zn=t)}function Ng(t){if(t.tag===22){if(J(Se,Se.current),J(Rn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else tr()}function tr(){J(Se,Se.current),J(Rn,Rn.current)}function Ci(t){et(Rn),Zn===t&&(Zn=null),et(Se)}var Se=X(0);function uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Sf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Mh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Zi(l);c.payload=n,r!=null&&(c.callback=r),n=$i(t,c,l),n!==null&&(dn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Zi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=$i(t,c,l),n!==null&&(dn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Zi(r);l.tag=2,n!=null&&(l.callback=n),n=$i(t,l,r),n!==null&&(dn(n,t,r),dl(n,t,r))}};function Mg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function xg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&xh.enqueueReplaceState(n,n.state,null)}function oa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ug(t){cu(t)}function Lg(t){console.error(t)}function Pg(t){cu(t)}function hu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uh(t,n,r){return r=Zi(r),r.tag=3,r.payload={element:null},r.callback=function(){hu(t,n)},r}function kg(t){return t=Zi(t),t.tag=3,t}function Bg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){zg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){zg(n,r,l),typeof c!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function xE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Zn===null?sf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===ch?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),of(t,l,c)),!1;case 22:return r.flags|=65536,l===ch?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),of(t,l,c)),!1}throw Error(s(435,r.tag))}return of(t,l,c),sf(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(t=Error(s(422),{cause:l}),ll(Tn(t,r)))):(l!==ih&&(n=Error(s(423),{cause:l}),ll(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=Uh(t.stateNode,l,c),dh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),Dl===null?Dl=[f]:Dl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Uh(r.stateNode,l,t),dh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sr===null||!sr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=kg(c),Bg(c,t,r,l),dh(r,c),!1}r=r.return}while(r!==null);return!1}var jg=Error(s(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?Og(n,null,r,l):rs(n,t.child,r,l)}function qg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return aa(n),l=_h(t,n,r,y,f,c),E=vh(),t!==null&&!Ve?(Eh(t,n,c),Di(t,n,c)):(Bt&&E&&eh(n),n.flags|=1,Le(t,n,l,c),n.child)}function Hg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Gg(t,n,f,l,c)):(t=Go(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(y,l)&&t.ref===n.ref)return Di(t,n,c)}return n.flags|=1,t=Ti(f,l),t.ref=n.ref,t.return=n,n.child=t}function Gg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Hh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Di(t,n,c)}return Lh(t,n,r,l,c)}function Fg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Qg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,f!==null?f.cachePool:null),f!==null?Gm(n,f):gh(),Ng(n);else return n.lanes=n.childLanes=536870912,Qg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Xo(n,f.cachePool),Gm(n,f),tr(),n.memoizedState=null):(t!==null&&Xo(n,null),gh(),tr());return Le(t,n,c,r),n.child}function Qg(t,n,r,l){var c=uh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Xo(n,null),gh(),Ng(n),t!==null&&ol(t,n,l,!0),null}function fu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lh(t,n,r,l,c){return aa(n),r=_h(t,n,r,l,void 0,c),l=vh(),t!==null&&!Ve?(Eh(t,n,c),Di(t,n,c)):(Bt&&l&&eh(n),n.flags|=1,Le(t,n,r,c),n.child)}function Yg(t,n,r,l,c,f){return aa(n),n.updateQueue=null,r=Qm(n,l,r,c),Fm(t),l=vh(),t!==null&&!Ve?(Eh(t,n,f),Di(t,n,f)):(Bt&&l&&eh(n),n.flags|=1,Le(t,n,r,f),n.child)}function Kg(t,n,r,l,c){if(aa(n),n.stateNode===null){var f=Ka,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):Ka,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Mh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&xh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=oa(r,E);f.props=R;var z=f.context,G=r.contextType;y=Ka,typeof G=="object"&&G!==null&&(y=He(G));var Q=r.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&xg(n,f,l,y),Xi=!1;var k=n.memoizedState;f.state=k,gl(n,l,f,c),ml(),z=n.memoizedState,E||k!==z||Xi?(typeof Q=="function"&&(Mh(n,r,Q,l),z=n.memoizedState),(R=Xi||Mg(n,r,R,l,k,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(t,n),y=n.memoizedProps,G=oa(r,y),f.props=G,Q=n.pendingProps,k=f.context,z=r.contextType,R=Ka,typeof z=="object"&&z!==null&&(R=He(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||k!==R)&&xg(n,f,l,R),Xi=!1,k=n.memoizedState,f.state=k,gl(n,l,f,c),ml();var B=n.memoizedState;y!==Q||k!==B||Xi||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof E=="function"&&(Mh(n,r,E,l),B=n.memoizedState),(G=Xi||Mg(n,r,G,l,k,B,R)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=rs(n,t.child,null,c),n.child=rs(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Di(t,n,c),t}function Xg(t,n,r,l){return sl(),n.flags|=256,Le(t,n,r,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zh(t){return{baseLanes:t,cachePool:Lm()}}function kh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function Zg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Wi(n):tr(),Bt){var E=le,R;if(R=E){t:{for(R=E,E=Xn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ta!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},R=on(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,$e=n,le=null,R=!0):R=!1}R||ia(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Sf(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=du({mode:"hidden",children:E},c),l=Wr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=zh(r),c.childLanes=kh(t,y,r),n.memoizedState=Ph,l):(Wi(n),Bh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=jh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=du({mode:"visible",children:l.children},E),c=Wr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,rs(n,t.child,null,r),l=n.child,l.memoizedState=zh(r),l.childLanes=kh(t,y,r),n.memoizedState=Ph,n=c);else if(Wi(n),Sf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,ll({value:l,source:null,stack:null}),n=jh(t,n,r)}else if(Ve||ol(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Wt,y!==null&&(l=r&-r,l=(l&42)!==0?1:ji(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ya(t,l),dn(y,t,l),jg;E.data==="$?"||sf(),n=jh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=Un(E.nextSibling),$e=n,Bt=!0,na=null,Xn=!1,t!==null&&(Sn[bn++]=Ai,Sn[bn++]=Si,Sn[bn++]=ta,Ai=t.id,Si=t.overflow,ta=n),n=Bh(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=Ti(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=Ti(z,c):(c=Wr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=zh(r):(R=E.cachePool,R!==null?(z=Ae._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Lm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=kh(t,y,r),n.memoizedState=Ph,l):(Wi(n),r=t.child,t=r.sibling,r=Ti(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Bh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function jh(t,n,r){return rs(n,t.child,null,r),t=Bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $g(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ah(t.return,n,r)}function qh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Jg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,r,n);else if(t.tag===19)$g(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Se,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&uu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),qh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}qh(n,!0,r,null,f);break;case"together":qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ti(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ti(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Hh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function UE(t,n,r){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),Ki(n,Ae,t.memoizedState.cache),sl();break;case 27:case 5:Bi(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:Ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Zg(t,n,r):(Wi(n),t=Di(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Jg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Fg(t,n,r);case 24:Ki(n,Ae,t.memoizedState.cache)}return Di(t,n,r)}function Wg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Hh(t,r)&&(n.flags&128)===0)return Ve=!1,UE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Im(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Jc(l)?(t=oa(l,t),n.tag=1,n=Kg(null,n,l,t,r)):(n.tag=0,n=Lh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Vt){n.tag=11,n=qg(null,n,l,t,r);break t}else if(c===x){n.tag=14,n=Hg(null,n,l,t,r);break t}}throw n=$t(l)||l,Error(s(306,n,""))}}return n;case 0:return Lh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=oa(l,n.pendingProps),Kg(t,n,l,c,r);case 3:t:{if(Jt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(t,n),gl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Ki(n,Ae,l),l!==f.cache&&sh(n,[Ae],r,!0),ml(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(t,n,l,r);break t}else if(l!==c){c=Tn(Error(s(424)),n),ll(c),n=Xg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Un(t.firstChild),$e=n,Bt=!0,na=null,Xn=!0,r=Og(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sl(),l===c){n=Di(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return fu(t,n),t===null?(r=iy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Cu(yt.current).createElement(r),l[ve]=n,l[de]=t,ze(l,r,t),ue(l),n.stateNode=l):n.memoizedState=iy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bi(n),t===null&&Bt&&(l=n.stateNode=ty(n.type,n.pendingProps,yt.current),$e=n,Xn=!0,c=le,ur(n.type)?(bf=c,le=Un(l.firstChild)):le=c),Le(t,n,n.pendingProps.children,r),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=le)&&(l=uT(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,$e=n,le=Un(l.firstChild),Xn=!1,c=!0):c=!1),c||ia(n)),Bi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Ef(c,f)?l=null:y!==null&&Ef(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=_h(t,n,CE,null,null,r),Pl._currentValue=c),fu(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=le)&&(r=cT(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,$e=n,le=null,t=!0):t=!1),t||ia(n)),null;case 13:return Zg(t,n,r);case 4:return Jt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=rs(n,null,l,r):Le(t,n,l,r),n.child;case 11:return qg(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ki(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,aa(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Hg(t,n,n.type,n.pendingProps,r);case 15:return Gg(t,n,n.type,n.pendingProps,r);case 19:return Jg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=du(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Fg(t,n,r);case 24:return aa(n),l=He(Ae),t===null?(c=uh(),c===null&&(c=Wt,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},hh(n),Ki(n,Ae,c)):((t.lanes&r)!==0&&(fh(t,n),gl(n,null,null,r),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ki(n,Ae,l)):(l=f.cache,Ki(n,Ae,l),l!==c.cache&&sh(n,[Ae],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ii(t){t.flags|=4}function tp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!oy(n)){if(n=Rn.current,n!==null&&((xt&4194048)===xt?Zn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Zn))throw fl=ch,Pm;t.flags|=8192}}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ks():536870912,t.lanes|=n,os|=n)}function Al(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function LE(t,n,r){var l=n.pendingProps;switch(nh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ri(Ae),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(n)?Ii(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nm())),re(n),null;case 26:return r=n.memoizedState,t===null?(Ii(n),r!==null?(re(n),tp(n,r)):(re(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ii(n),re(n),tp(n,r)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ii(n),re(n),n.flags&=-16777217),null;case 27:oi(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=ut.current,al(n)?Vm(n):(t=ty(c,l,r),n.stateNode=t,Ii(n))}return re(n),null;case 5:if(oi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=ut.current,al(n))Vm(n);else{switch(c=Cu(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ve]=n,t[de]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ii(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,al(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Yp(t.nodeValue,r)),t||ia(n)}else t=Cu(t).createTextNode(l),t[ve]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=Nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),mu(n,n.updateQueue),re(n),null;case 4:return Pn(),t===null&&gf(n.stateNode.containerInfo),re(n),null;case 10:return Ri(n.type),re(n),null;case 19:if(et(Se),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Al(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=uu(t),f!==null){for(n.flags|=128,Al(c,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Dm(r,t),r=r.sibling;return J(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>yu&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304)}else{if(!l)if(t=uu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Al(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return re(n),null}else 2*gn()-c.renderingStartTime>yu&&r!==536870912&&(n.flags|=128,l=!0,Al(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Se.current,J(Se,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Ci(n),ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&mu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(sa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(Ae),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function PE(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(Ae),Pn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 13:if(Ci(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Se),null;case 4:return Pn(),null;case 10:return Ri(n.type),null;case 22:case 23:return Ci(n),ph(),t!==null&&et(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(Ae),null;case 25:return null;default:return null}}function ep(t,n){switch(nh(n),n.tag){case 3:Ri(Ae),Pn();break;case 26:case 27:case 5:oi(n);break;case 4:Pn();break;case 13:Ci(n);break;case 19:et(Se);break;case 10:Ri(n.type);break;case 22:case 23:Ci(n),ph(),t!==null&&et(sa);break;case 24:Ri(Ae)}}function Sl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function er(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,z=E;try{z()}catch(G){Zt(c,R,G)}}}l=l.next}while(l!==f)}}catch(G){Zt(n,n.return,G)}}function np(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Hm(n,r)}catch(l){Zt(t,t.return,l)}}}function ip(t,n,r){r.props=oa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function bl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function rp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Gh(t,n,r){try{var l=t.stateNode;rT(l,t.type,r,n),l[de]=n}catch(c){Zt(t,t.return,c)}}function ap(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=wu));else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Qh(t,n,r),t=t.sibling;t!==null;)Qh(t,n,r),t=t.sibling}function gu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(gu(t,n,r),t=t.sibling;t!==null;)gu(t,n,r),t=t.sibling}function sp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[ve]=t,n[de]=r}catch(f){Zt(t,t.return,f)}}var Vi=!1,he=!1,Yh=!1,lp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function zE(t,n){if(t=t.containerInfo,_f=Mu,t=_m(t),Fc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,z=0,G=0,Q=t,k=null;e:for(;;){for(var B;Q!==r||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(R=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(B=Q.firstChild)!==null;)k=Q,Q=B;for(;;){if(Q===t)break e;if(k===r&&++z===c&&(E=y),k===f&&++G===l&&(R=y),(B=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(vf={focusedElem:t,selectionRange:r},Mu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var pt=oa(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Zt(r,r.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function op(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:nr(t,r),l&4&&Sl(5,r);break;case 1:if(nr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(r,r.return,y)}else{var c=oa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(r,r.return,y)}}l&64&&np(r),l&512&&bl(r,r.return);break;case 3:if(nr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Hm(t,n)}catch(y){Zt(r,r.return,y)}}break;case 27:n===null&&l&4&&sp(r);case 26:case 5:nr(t,r),n===null&&l&4&&rp(r),l&512&&bl(r,r.return);break;case 12:nr(t,r);break;case 13:nr(t,r),l&4&&hp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=YE.bind(null,r),hT(t,r))));break;case 22:if(l=r.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||he,c=Vi;var f=he;Vi=l,(he=n)&&!f?ir(t,r,(r.subtreeFlags&8772)!==0):nr(t,r),Vi=c,he=f}break;case 30:break;default:nr(t,r)}}function up(t){var n=t.alternate;n!==null&&(t.alternate=null,up(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Gi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,tn=!1;function Oi(t,n,r){for(r=r.child;r!==null;)cp(t,n,r),r=r.sibling}function cp(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||$n(r,n),Oi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||$n(r,n);var l=ie,c=tn;ur(r.type)&&(ie=r.stateNode,tn=!1),Oi(t,n,r),Ml(r.stateNode),ie=l,tn=c;break;case 5:he||$n(r,n);case 6:if(l=ie,c=tn,ie=null,Oi(t,n,r),ie=l,tn=c,ie!==null)if(tn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{ie.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:ie!==null&&(tn?(t=ie,Jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jl(t)):Jp(ie,r.stateNode));break;case 4:l=ie,c=tn,ie=r.stateNode.containerInfo,tn=!0,Oi(t,n,r),ie=l,tn=c;break;case 0:case 11:case 14:case 15:he||er(2,r,n),he||er(4,r,n),Oi(t,n,r);break;case 1:he||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ip(r,n,l)),Oi(t,n,r);break;case 21:Oi(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Oi(t,n,r),he=l;break;default:Oi(t,n,r)}}function hp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(r){Zt(n,n.return,r)}}function kE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new lp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new lp),n;default:throw Error(s(435,t.tag))}}function Kh(t,n){var r=kE(t);n.forEach(function(l){var c=KE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ur(E.type)){ie=E.stateNode,tn=!1;break t}break;case 5:ie=E.stateNode,tn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ie===null)throw Error(s(160));cp(f,y,c),ie=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)fp(n,t),n=n.sibling}var xn=null;function fp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(er(3,t,t.return),Sl(3,t),er(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(he||r===null||$n(r,r.return)),l&64&&Vi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(un(n,t),cn(t),l&512&&(he||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Pr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[ve]=t,ue(f),l=f;break t;case"link":var y=sy("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=sy("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,ue(f),l=f}t.stateNode=l}else ly(c,t.type,t.stateNode);else t.stateNode=ay(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ly(c,t.type,t.stateNode):ay(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(he||r===null||$n(r,r.return)),r!==null&&l&4&&Gh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(he||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(B){Zt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Zt(t,t.return,B)}}break;case 3:if(Vu=null,c=xn,xn=Du(n.containerInfo),un(n,t),xn=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){Zt(t,t.return,B)}Yh&&(Yh=!1,dp(t));break;case 4:l=xn,xn=Du(t.stateNode.containerInfo),un(n,t),cn(t),xn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tf=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Vi,G=he;if(Vi=z||c,he=G||R,un(n,t),he=G,Vi=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Vi||he||ua(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Zt(R,R.return,B)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(B){Zt(R,R.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Kh(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(ap(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Fh(t);gu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(yn(y,""),r.flags&=-33);var E=Fh(t);gu(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Fh(t);Qh(t,z,R);break;default:throw Error(s(161))}}catch(G){Zt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function nr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)op(t,n.alternate,n),n=n.sibling}function ua(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:er(4,n,n.return),ua(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ip(n,n.return,r),ua(n);break;case 27:Ml(n.stateNode);case 26:case 5:$n(n,n.return),ua(n);break;case 22:n.memoizedState===null&&ua(n);break;case 30:ua(n);break;default:ua(n)}t=t.sibling}}function ir(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ir(c,f,r),Sl(4,f);break;case 1:if(ir(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)qm(R[c],E)}catch(z){Zt(l,l.return,z)}}r&&y&64&&np(f),bl(f,f.return);break;case 27:sp(f);case 26:case 5:ir(c,f,r),r&&l===null&&y&4&&rp(f),bl(f,f.return);break;case 12:ir(c,f,r);break;case 13:ir(c,f,r),r&&y&4&&hp(c,f);break;case 22:f.memoizedState===null&&ir(c,f,r),bl(f,f.return);break;case 30:break;default:ir(c,f,r)}n=n.sibling}}function Xh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ul(r))}function Zh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mp(t,n,r,l),n=n.sibling}function mp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&Sl(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):Rl(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,as(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Xh(y,n);break;case 24:Jn(t,n,r,l),c&2048&&Zh(n.alternate,n);break;default:Jn(t,n,r,l)}}function as(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:as(f,y,E,R,c),Sl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?as(f,y,E,R,c):Rl(f,y):(G._visibility|=2,as(f,y,E,R,c)),c&&z&2048&&Xh(y.alternate,y);break;case 24:as(f,y,E,R,c),c&&z&2048&&Zh(y.alternate,y);break;default:as(f,y,E,R,c)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Rl(r,l),c&2048&&Xh(l.alternate,l);break;case 24:Rl(r,l),c&2048&&Zh(l.alternate,l);break;default:Rl(r,l)}n=n.sibling}}var wl=8192;function ss(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)gp(t),t=t.sibling}function gp(t){switch(t.tag){case 26:ss(t),t.flags&wl&&t.memoizedState!==null&&bT(xn,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var n=xn;xn=Du(t.stateNode.containerInfo),ss(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=wl,wl=16777216,ss(t),wl=n):ss(t));break;default:ss(t)}}function pp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,_p(l,t)}pp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&er(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pu(t)):Cl(t);break;default:Cl(t)}}function pu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,_p(l,t)}pp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:er(8,n,n.return),pu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,pu(n));break;default:pu(n)}t=t.sibling}}function _p(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:er(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(up(l),l===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var BE={getCacheForType:function(t){var n=He(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},jE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ct=null,xt=0,Ft=0,hn=null,rr=!1,ls=!1,$h=!1,Ni=0,oe=0,ar=0,ca=0,Jh=0,wn=0,os=0,Dl=null,en=null,Wh=!1,tf=0,yu=1/0,_u=null,sr=null,Pe=0,lr=null,us=null,cs=0,ef=0,nf=null,vp=null,Il=0,rf=null;function fn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(q.T!==null){var t=$a;return t!==0?t:hf()}return qi()}function Ep(){wn===0&&(wn=(xt&536870912)===0||Bt?zs():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,r){(t===Wt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(hs(t,0),or(t,xt,wn,!1)),ci(t,r),((Gt&2)===0||t!==Wt)&&(t===Wt&&((Gt&2)===0&&(ca|=r),oe===4&&or(t,xt,wn,!1)),Wn(t))}function Tp(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Lr(t,n),c=l?GE(t,n):lf(t,n,!0),f=l;do{if(c===0){ls&&!l&&or(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!qE(r)){c=lf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Dl;var R=E.current.memoizedState.isDehydrated;if(R&&(hs(E,y).flags|=256),y=lf(E,y,!1),y!==2){if($h&&!R){E.errorRecoveryDisabledLanes|=f,ca|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){hs(t,0),or(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:or(l,n,wn,!rr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=tf+300-gn(),10<c)){if(or(l,n,wn,!rr),Da(l,0,!0)!==0)break t;l.timeoutHandle=Zp(Ap.bind(null,l,r,en,_u,Wh,n,wn,ca,os,rr,f,2,-0,0),c);break t}Ap(l,r,en,_u,Wh,n,wn,ca,os,rr,f,0,-0,0)}}break}while(!0);Wn(t)}function Ap(t,n,r,l,c,f,y,E,R,z,G,Q,k,B){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:ST},gp(n),Q=RT(),Q!==null)){t.cancelPendingCommit=Q(Ip.bind(null,t,n,f,r,l,c,y,E,R,G,1,k,B)),or(t,f,y,!z);return}Ip(t,n,f,r,l,c,y,E,R)}function qE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(t,n,r,l){n&=~Jh,n&=~ca,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&zn(t,r,n)}function vu(){return(Gt&6)===0?(Vl(0),!1):!0}function af(){if(Ct!==null){if(Ft===0)var t=Ct.return;else t=Ct,bi=ra=null,Th(t),is=null,El=0,t=Ct;for(;t!==null;)ep(t.alternate,t),t=t.return;Ct=null}}function hs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),af(),Wt=t,Ct=r=Ti(t.current,null),xt=n,Ft=0,hn=null,rr=!1,ls=Lr(t,n),$h=!1,os=wn=Jh=ca=ar=oe=0,en=Dl=null,Wh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return Ni=n,jo(),r}function Sp(t,n){St=null,q.H=su,n===hl||n===Zo?(n=Bm(),Ft=3):n===Pm?(n=Bm(),Ft=4):Ft=n===jg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Ct===null&&(oe=1,hu(t,Tn(n,t.current)))}function bp(){var t=q.H;return q.H=su,t===null?su:t}function Rp(){var t=q.A;return q.A=BE,t}function sf(){oe=4,rr||(xt&4194048)!==xt&&Rn.current!==null||(ls=!0),(ar&134217727)===0&&(ca&134217727)===0||Wt===null||or(Wt,xt,wn,!1)}function lf(t,n,r){var l=Gt;Gt|=2;var c=bp(),f=Rp();(Wt!==t||xt!==n)&&(_u=null,hs(t,n)),n=!1;var y=oe;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,R=hn;switch(Ft){case 8:af(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=Ft;if(Ft=0,hn=null,fs(t,E,R,z),r&&ls){y=0;break t}break;default:z=Ft,Ft=0,hn=null,fs(t,E,R,z)}}HE(),y=oe;break}catch(G){Sp(t,G)}while(!0);return n&&t.shellSuspendCounter++,bi=ra=null,Gt=l,q.H=c,q.A=f,Ct===null&&(Wt=null,xt=0,jo()),y}function HE(){for(;Ct!==null;)wp(Ct)}function GE(t,n){var r=Gt;Gt|=2;var l=bp(),c=Rp();Wt!==t||xt!==n?(_u=null,yu=gn()+500,hs(t,n)):ls=Lr(t,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=hn;e:switch(Ft){case 1:Ft=0,hn=null,fs(t,n,f,1);break;case 2:case 9:if(zm(f)){Ft=0,hn=null,Cp(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==t||(Ft=7),Wn(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:zm(f)?(Ft=0,hn=null,Cp(n)):(Ft=0,hn=null,fs(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||oy(y)){Ft=0,hn=null;var R=E.sibling;if(R!==null)Ct=R;else{var z=E.return;z!==null?(Ct=z,Eu(z)):Ct=null}break e}}Ft=0,hn=null,fs(t,n,f,5);break;case 6:Ft=0,hn=null,fs(t,n,f,6);break;case 8:af(),oe=6;break t;default:throw Error(s(462))}}FE();break}catch(G){Sp(t,G)}while(!0);return bi=ra=null,q.H=l,q.A=c,Gt=r,Ct!==null?0:(Wt=null,xt=0,jo(),oe)}function FE(){for(;Ct!==null&&!xs();)wp(Ct)}function wp(t){var n=Wg(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,n===null?Eu(t):Ct=n}function Cp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Yg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Yg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Th(n);default:ep(r,n),n=Ct=Dm(n,Ni),n=Wg(r,n,Ni)}t.memoizedProps=t.pendingProps,n===null?Eu(t):Ct=n}function fs(t,n,r,l){bi=ra=null,Th(n),is=null,El=0;var c=n.return;try{if(xE(t,c,n,r,xt)){oe=1,hu(t,Tn(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;oe=1,hu(t,Tn(r,t.current)),Ct=null;return}n.flags&32768?(Bt||l===1?t=!0:ls||(xt&536870912)!==0?t=!1:(rr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dp(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){Dp(n,rr);return}t=n.return;var r=LE(n.alternate,n,Ni);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);oe===0&&(oe=5)}function Dp(t,n){do{var r=PE(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);oe=6,Ct=null}function Ip(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do Tu();while(Pe!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Zc,Bs(t,r,f,y,E,R),t===Wt&&(Ct=Wt=null,xt=0),us=n,lr=t,cs=r,ef=f,nf=c,vp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XE(Nr,function(){return xp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=Z.p,Z.p=2,y=Gt,Gt|=4;try{zE(t,n,r)}finally{Gt=y,Z.p=c,q.T=l}}Pe=1,Vp(),Op(),Np()}}function Vp(){if(Pe===1){Pe=0;var t=lr,n=us,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=Z.p;Z.p=2;var c=Gt;Gt|=4;try{fp(n,t);var f=vf,y=_m(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&ym(E.ownerDocument.documentElement,E)){if(R!==null&&Fc(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var B=k.getSelection(),pt=E.textContent.length,dt=Math.min(R.start,pt),Xt=R.end===void 0?dt:Math.min(R.end,pt);!B.extend&&dt>Xt&&(y=Xt,Xt=dt,dt=y);var U=pm(E,dt),O=pm(E,Xt);if(U&&O&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var P=Q.createRange();P.setStart(U.node,U.offset),B.removeAllRanges(),dt>Xt?(B.addRange(P),B.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),B.addRange(P))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Mu=!!_f,vf=_f=null}finally{Gt=c,Z.p=l,q.T=r}}t.current=n,Pe=2}}function Op(){if(Pe===2){Pe=0;var t=lr,n=us,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=Z.p;Z.p=2;var c=Gt;Gt|=4;try{op(t,n.alternate,n)}finally{Gt=c,Z.p=l,q.T=r}}Pe=3}}function Np(){if(Pe===4||Pe===3){Pe=0,po();var t=lr,n=us,r=cs,l=vp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,us=lr=null,Mp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(sr=null),Ia(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=Z.p,Z.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,Z.p=c}}(cs&3)!==0&&Tu(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===rf?Il++:(Il=0,rf=t):Il=0,Vl(0)}}function Mp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Tu(t){return Vp(),Op(),Np(),xp()}function xp(){if(Pe!==5)return!1;var t=lr,n=ef;ef=0;var r=Ia(cs),l=q.T,c=Z.p;try{Z.p=32>r?32:r,q.T=null,r=nf,nf=null;var f=lr,y=cs;if(Pe=0,us=lr=null,cs=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,yp(f.current),mp(f,f.current,y,r),Gt=E,Vl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{Z.p=c,q.T=l,Mp(t,n)}}function Up(t,n,r){n=Tn(r,n),n=Uh(t.stateNode,n,2),t=$i(t,n,2),t!==null&&(ci(t,2),Wn(t))}function Zt(t,n,r){if(t.tag===3)Up(t,t,r);else for(;n!==null;){if(n.tag===3){Up(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sr===null||!sr.has(l))){t=Tn(r,t),r=kg(2),l=$i(n,r,2),l!==null&&(Bg(r,l,n,t),ci(l,2),Wn(l));break}}n=n.return}}function of(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new jE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||($h=!0,c.add(r),t=QE.bind(null,t,n,r),n.then(t,t))}function QE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Wt===t&&(xt&r)===r&&(oe===4||oe===3&&(xt&62914560)===xt&&300>gn()-tf?(Gt&2)===0&&hs(t,0):Jh|=r,os===xt&&(os=0)),Wn(t)}function Lp(t,n){n===0&&(n=ks()),t=Ya(t,n),t!==null&&(ci(t,n),Wn(t))}function YE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Lp(t,r)}function KE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Lp(t,r)}function XE(t,n){return Vr(t,n)}var Au=null,ds=null,uf=!1,Su=!1,cf=!1,ha=0;function Wn(t){t!==ds&&t.next===null&&(ds===null?Au=ds=t:ds=ds.next=t),Su=!0,uf||(uf=!0,$E())}function Vl(t,n){if(!cf&&Su){cf=!0;do for(var r=!1,l=Au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Bp(l,f))}else f=xt,f=Da(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Lr(l,f)||(r=!0,Bp(l,f));l=l.next}while(r);cf=!1}}function ZE(){Pp()}function Pp(){Su=uf=!1;var t=0;ha!==0&&(aT()&&(t=ha),ha=0);for(var n=gn(),r=null,l=Au;l!==null;){var c=l.next,f=zp(l,n);f===0?(l.next=null,r===null?Au=c:r.next=c,c===null&&(ds=r)):(r=l,(t!==0||(f&3)!==0)&&(Su=!0)),l=c}Vl(t)}function zp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ps(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,r=xt,r=Da(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Or(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Lr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Or(l),Ia(r)){case 2:case 8:r=wa;break;case 32:r=Nr;break;case 268435456:r=Ca;break;default:r=Nr}return l=kp.bind(null,t),r=Vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Or(l),t.callbackPriority=2,t.callbackNode=null,2}function kp(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Tu()&&t.callbackNode!==r)return null;var l=xt;return l=Da(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Tp(t,l,n),zp(t,gn()),t.callbackNode!=null&&t.callbackNode===r?kp.bind(null,t):null)}function Bp(t,n){if(Tu())return null;Tp(t,n,!0)}function $E(){lT(function(){(Gt&6)!==0?Vr(Us,ZE):Pp()})}function hf(){return ha===0&&(ha=zs()),ha}function jp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ua(""+t)}function qp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function JE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=jp((c[de]||null).action),y=l.submitter;y&&(n=(n=y[de]||null)?jp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new La("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var R=y?qp(c,y):new FormData(c);Vh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?qp(c,y):new FormData(c),Vh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var ff=0;ff<Xc.length;ff++){var df=Xc[ff],WE=df.toLowerCase(),tT=df[0].toUpperCase()+df.slice(1);Mn(WE,"on"+tT)}Mn(Tm,"onAnimationEnd"),Mn(Am,"onAnimationIteration"),Mn(Sm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(yE,"onTransitionRun"),Mn(_E,"onTransitionStart"),Mn(vE,"onTransitionCancel"),Mn(bm,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Hp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){cu(G)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(G){cu(G)}c.currentTarget=null,f=R}}}}function Dt(t,n){var r=n[qs];r===void 0&&(r=n[qs]=new Set);var l=t+"__bubble";r.has(l)||(Gp(n,t,2,!1),r.add(l))}function mf(t,n,r){var l=0;n&&(l|=4),Gp(r,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[bu]){t[bu]=!0,Hs.forEach(function(r){r!=="selectionchange"&&(eT.has(r)||mf(r,!1,t),mf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,mf("selectionchange",!1,n))}}function Gp(t,n,r,l){switch(my(n)){case 2:var c=DT;break;case 8:c=IT;break;default:c=If}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function pf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=hi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}wo(function(){var z=f,G=_n(r),Q=[];t:{var k=Rm.get(t);if(k!==void 0){var B=La,pt=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":B=qa;break;case"focusin":pt="focus",B=ka;break;case"focusout":pt="blur",B=ka;break;case"beforeblur":case"afterblur":B=ka;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=xo;break;case Tm:case Am:case Sm:B=Ba;break;case bm:B=Lo;break;case"scroll":case"scrollend":B=Co;break;case"wheel":B=Ha;break;case"copy":case"cut":case"paste":B=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=el;break;case"toggle":case"beforetoggle":B=zo}var dt=(n&4)!==0,Xt=!dt&&(t==="scroll"||t==="scrollend"),U=dt?k!==null?k+"Capture":null:k;dt=[];for(var O=z,P;O!==null;){var F=O;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=Gr(O,U),F!=null&&dt.push(Nl(O,F,P))),Xt)break;O=O.return}0<dt.length&&(k=new B(k,pt,null,r,G),Q.push({event:k,listeners:dt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==gi&&(pt=r.relatedTarget||r.fromElement)&&(hi(pt)||pt[pn]))break t;if((B||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,B?(pt=r.relatedTarget||r.toElement,B=z,pt=pt?hi(pt):null,pt!==null&&(Xt=h(pt),dt=pt.tag,pt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(pt=null)):(B=null,pt=z),B!==pt)){if(dt=En,F="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(dt=el,F="onPointerLeave",U="onPointerEnter",O="pointer"),Xt=B==null?k:Bn(B),P=pt==null?k:Bn(pt),k=new dt(F,O+"leave",B,r,G),k.target=Xt,k.relatedTarget=P,F=null,hi(G)===z&&(dt=new dt(U,O+"enter",pt,r,G),dt.target=P,dt.relatedTarget=Xt,F=dt),Xt=F,B&&pt)e:{for(dt=B,U=pt,O=0,P=dt;P;P=ms(P))O++;for(P=0,F=U;F;F=ms(F))P++;for(;0<O-P;)dt=ms(dt),O--;for(;0<P-O;)U=ms(U),P--;for(;O--;){if(dt===U||U!==null&&dt===U.alternate)break e;dt=ms(dt),U=ms(U)}dt=null}else dt=null;B!==null&&Fp(Q,k,B,dt,!1),pt!==null&&Xt!==null&&Fp(Q,Xt,pt,dt,!0)}}t:{if(k=z?Bn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var at=cm;else if(Te(k))if(hm)at=mE;else{at=fE;var wt=hE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Ks(z.elementType)&&(at=cm):at=dE;if(at&&(at=at(t,z))){Ei(Q,at,r,G);break t}wt&&wt(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Qi(k,"number",k.value)}switch(wt=z?Bn(z):window,t){case"focusin":(Te(wt)||wt.contentEditable==="true")&&(Ga=wt,Qc=z,rl=null);break;case"focusout":rl=Qc=Ga=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,vm(Q,r,G);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":vm(Q,r,G)}var ot;if(Yn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Nt?j(t,r)&&(mt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Nt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Nt&&(ot=Zs()):(Hn=G,Yi="value"in Hn?Hn.value:Hn.textContent,Nt=!0)),wt=Ru(z,mt),0<wt.length&&(mt=new Ws(mt,t,null,r,G),Q.push({event:mt,listeners:wt}),ot?mt.data=ot:(ot=tt(r),ot!==null&&(mt.data=ot)))),(ot=m?Ee(t,r):Mt(t,r))&&(mt=Ru(z,"onBeforeInput"),0<mt.length&&(wt=new Ws("onBeforeInput","beforeinput",null,r,G),Q.push({event:wt,listeners:mt}),wt.data=ot)),JE(Q,t,z,r,G)}Hp(Q,n)})}function Nl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ru(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gr(t,r),c!=null&&l.unshift(Nl(t,c,f)),c=Gr(t,n),c!=null&&l.push(Nl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Gr(r,f),z!=null&&y.unshift(Nl(r,z,R))):c||(z=Gr(r,f),z!=null&&y.push(Nl(r,z,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Qp(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Yp(t,n){return n=Qp(n),Qp(t)===n}function wu(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,r,l);break;case"style":Ys(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ua(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ua(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=wu);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ua(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=kc.get(r)||r,Fi(t,r,l))}}function yf(t,n,r,l,c,f){switch(r){case"style":Ys(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Va.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[de]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Fi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,y,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(t,n,l,G,r,null)}}jr(t,f,E,R,z,y,c,!1),xa(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?mi(t,!!l,n,!1):r!=null&&mi(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,y,E,r,null)}qr(t,l,c,f),xa(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Dt(Ol[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,z,l,r,null)}return;default:if(Ks(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&yf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function rT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,z=null,G=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(B)||Kt(t,n,B,null,l,Q)}}for(var k in l){var B=l[k];if(Q=r[k],l.hasOwnProperty(k)&&(B!=null||Q!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Kt(t,n,k,B,l,Q)}}sn(t,y,E,R,z,G,f,c);return;case"select":B=y=E=k=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=y,l=B,k!=null?mi(t,!!r,k,!1):!!l!=!!r&&(n!=null?mi(t,!!r,n,!0):mi(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Qt(t,k,B);return;case"option":for(var pt in r)if(k=r[pt],r.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Kt(t,n,pt,null,l,k)}for(R in l)if(k=l[R],B=r[R],l.hasOwnProperty(R)&&k!==B&&(k!=null||B!=null))switch(R){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Kt(t,n,R,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)k=r[dt],r.hasOwnProperty(dt)&&k!=null&&!l.hasOwnProperty(dt)&&Kt(t,n,dt,null,l,k);for(z in l)if(k=l[z],B=r[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Kt(t,n,z,k,l,B)}return;default:if(Ks(n)){for(var Xt in r)k=r[Xt],r.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&yf(t,n,Xt,void 0,l,k);for(G in l)k=l[G],B=r[G],!l.hasOwnProperty(G)||k===B||k===void 0&&B===void 0||yf(t,n,G,k,l,B);return}}for(var U in r)k=r[U],r.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Kt(t,n,U,null,l,k);for(Q in l)k=l[Q],B=r[Q],!l.hasOwnProperty(Q)||k===B||k==null&&B==null||Kt(t,n,Q,k,l,B)}var _f=null,vf=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function aT(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(t){return $p.resolve(null).then(t).catch(oT)}:Zp;function oT(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function Jp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Ml(y.documentElement),r&2&&Ml(y.body),r&4)for(r=y.head,Ml(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Pr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);jl(n)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Af(r),Gi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Pr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function cT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var bf=null;function Wp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ty(t,n,r){switch(n=Cu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Gi(t)}var Cn=new Map,ey=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=Z.d;Z.d={f:fT,r:dT,D:mT,C:gT,L:pT,m:yT,X:vT,S:_T,M:ET};function fT(){var t=Mi.f(),n=vu();return t||n}function dT(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Mi.r(t)}var gs=typeof document>"u"?null:document;function ny(t,n,r){var l=gs;if(l&&typeof n=="string"&&n){var c=me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ey.has(c)||(ey.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),ue(n),l.head.appendChild(n)))}}function mT(t){Mi.D(t),ny("dns-prefetch",t,null)}function gT(t,n){Mi.C(t,n),ny("preconnect",t,n)}function pT(t,n,r){Mi.L(t,n,r);var l=gs;if(l&&t&&n){var c='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+me(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+me(r.imageSizes)+'"]')):c+='[href="'+me(t)+'"]';var f=c;switch(n){case"style":f=ps(t);break;case"script":f=ys(t)}Cn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),ze(n,"link",t),ue(n),l.head.appendChild(n)))}}function yT(t,n){Mi.m(t,n);var r=gs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ys(t)}if(!Cn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ul(f)))return}l=r.createElement("link"),ze(l,"link",t),ue(l),r.head.appendChild(l)}}}function _T(t,n,r){Mi.S(t,n,r);var l=gs;if(l&&t){var c=Ke(l).hoistableStyles,f=ps(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(xl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&Rf(t,r);var R=y=l.createElement("link");ue(R),ze(R,"link",t),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function vT(t,n){Mi.X(t,n);var r=gs;if(r&&t){var l=Ke(r).hoistableScripts,c=ys(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=A({src:t,async:!0},n),(n=Cn.get(c))&&wf(t,n),f=r.createElement("script"),ue(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ET(t,n){Mi.M(t,n);var r=gs;if(r&&t){var l=Ke(r).hoistableScripts,c=ys(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&wf(t,n),f=r.createElement("script"),ue(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function iy(t,n,r,l){var c=(c=yt.current)?Du(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ps(r.href),r=Ke(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ps(r.href);var f=Ke(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(xl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||TT(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ys(r),r=Ke(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ps(t){return'href="'+me(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function ry(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),ue(n),t.head.appendChild(n))}function ys(t){return'[src="'+me(t)+'"]'}function Ul(t){return"script[async]"+t}function ay(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),ze(l,"style",c),Iu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ps(r.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=ry(r),(c=Cn.get(c))&&Rf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",l),n.state.loading|=4,Iu(f,r.precedence,t),n.instance=f;case"script":return f=ys(r.src),(c=t.querySelector(Ul(f)))?(n.instance=c,ue(c),c):(l=r,(c=Cn.get(f))&&(l=A({},r),wf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,r.precedence,t));return n.instance}function Iu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function sy(t,n,r){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(r,l)}else c=Vu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Pr]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ly(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function AT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function oy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function ST(){}function bT(t,n,r){if(Ll===null)throw Error(s(475));var l=Ll;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ps(r.href),f=t.querySelector(xl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ou.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=ry(r),(c=Cn.get(c))&&Rf(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ou.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function RT(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&Cf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Cf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Ou(){if(this.count--,this.count===0){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nu=null;function Cf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nu=new Map,n.forEach(wT,t),Nu=null,Ou.call(t))}function wT(t,n){if(!(n.state.loading&4)){var r=Nu.get(t);if(r)var l=r.get(null);else{r=new Map,Nu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Ou.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function CT(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function uy(t,n,r,l,c,f,y,E,R,z,G,Q){return t=new CT(t,n,r,y,E,R,z,Q),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},hh(f),t}function cy(t){return t?(t=Ka,t):Ka}function hy(t,n,r,l,c,f){c=cy(c),l.context===null?l.context=c:l.pendingContext=c,l=Zi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=$i(t,l,n),r!==null&&(dn(r,t,n),dl(r,t,n))}function fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Df(t,n){fy(t,n),(t=t.alternate)&&fy(t,n)}function dy(t){if(t.tag===13){var n=Ya(t,67108864);n!==null&&dn(n,t,67108864),Df(t,67108864)}}var Mu=!0;function DT(t,n,r,l){var c=q.T;q.T=null;var f=Z.p;try{Z.p=2,If(t,n,r,l)}finally{Z.p=f,q.T=c}}function IT(t,n,r,l){var c=q.T;q.T=null;var f=Z.p;try{Z.p=8,If(t,n,r,l)}finally{Z.p=f,q.T=c}}function If(t,n,r,l){if(Mu){var c=Vf(l);if(c===null)pf(t,n,l,xu,r),gy(t,l);else if(OT(c,t,n,r,l))l.stopPropagation();else if(gy(t,l),n&4&&-1<VT.indexOf(t)){for(;c!==null;){var f=kn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-qe(y);E.entanglements[1]|=R,y&=~R}Wn(f),(Gt&6)===0&&(yu=gn()+500,Vl(0))}}break;case 13:E=Ya(f,2),E!==null&&dn(E,f,2),vu(),Df(f,2)}if(f=Vf(l),f===null&&pf(t,n,l,xu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else pf(t,n,l,null,r)}}function Vf(t){return t=_n(t),Of(t)}var xu=null;function Of(t){if(xu=null,t=hi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function my(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mc()){case Us:return 2;case wa:return 8;case Nr:case xc:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var Nf=!1,cr=null,hr=null,fr=null,zl=new Map,kl=new Map,dr=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Bl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=kn(n),n!==null&&dy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function OT(t,n,r,l,c){switch(n){case"focusin":return cr=Bl(cr,t,n,r,l,c),!0;case"dragenter":return hr=Bl(hr,t,n,r,l,c),!0;case"mouseover":return fr=Bl(fr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return zl.set(f,Bl(zl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,kl.set(f,Bl(kl.get(f)||null,t,n,r,l,c)),!0}return!1}function py(t){var n=hi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,vo(t.priority,function(){if(r.tag===13){var l=fn();l=ji(l);var c=Ya(r,l);c!==null&&dn(c,r,l),Df(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gi=l,r.target.dispatchEvent(l),gi=null}else return n=kn(r),n!==null&&dy(n),t.blockedOn=r,!1;n.shift()}return!0}function yy(t,n,r){Uu(t)&&r.delete(n)}function NT(){Nf=!1,cr!==null&&Uu(cr)&&(cr=null),hr!==null&&Uu(hr)&&(hr=null),fr!==null&&Uu(fr)&&(fr=null),zl.forEach(yy),kl.forEach(yy)}function Lu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,NT)))}var Pu=null;function _y(t){Pu!==t&&(Pu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Pu===t&&(Pu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,Vh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function jl(t){function n(R){return Lu(R,t)}cr!==null&&Lu(cr,t),hr!==null&&Lu(hr,t),fr!==null&&Lu(fr,t),zl.forEach(n),kl.forEach(n);for(var r=0;r<dr.length;r++){var l=dr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<dr.length&&(r=dr[0],r.blockedOn===null);)py(r),r.blockedOn===null&&dr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[de]||null;if(typeof f=="function")y||_y(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[de]||null)E=y.formAction;else if(Of(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),_y(r)}}}function Mf(t){this._internalRoot=t}zu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();hy(r,l,t,n,null,null)},zu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;hy(t.current,2,null,t,null,null),vu(),n[pn]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=qi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<dr.length&&n!==0&&n<dr[r].priority;r++);dr.splice(r,0,t),r===0&&py(t)}};var vy=e.version;if(vy!=="19.1.0")throw Error(s(527,vy,"19.1.0"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var MT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{se=ku.inject(MT),Ht=ku}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Ug,f=Lg,y=Pg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=uy(t,1,!1,null,null,r,l,c,f,y,E,null),t[pn]=n.current,gf(t),new Mf(n)},Hl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Ug,y=Lg,E=Pg,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=uy(t,1,!0,n,r??null,l,c,f,y,E,R,z),n.context=cy(null),r=n.current,l=fn(),l=ji(l),c=Zi(l),c.callback=null,$i(r,c,l),r=l,n.current.lanes=r,ci(n,r),Wn(n),t[pn]=n.current,gf(t),new zu(n)},Hl.version="19.1.0",Hl}var Vy;function GT(){if(Vy)return Lf.exports;Vy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=HT(),Lf.exports}var FT=GT();const QT=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},YT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=h>>2,V=(h&3)<<4|g>>4;let M=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(M=64)),s.push(i[A],i[V],i[M],i[H])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(X_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):YT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const V=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||v==null||V==null)throw new KT;const M=h<<2|g>>4;if(s.push(M),v!==64){const H=g<<4&240|v>>2;if(s.push(H),V!==64){const $=v<<6&192|V;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class KT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XT=function(a){const e=X_(a);return Z_.encodeByteArray(e,!0)},$u=function(a){return XT(a).replace(/\./g,"")},ZT=function(a){try{return Z_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=()=>$T().__FIREBASE_DEFAULTS__,WT=()=>{if(typeof process>"u"||typeof Oy>"u")return;const a=Oy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},t1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&ZT(a[1]);return e&&JSON.parse(e)},Td=()=>{try{return QT()||JT()||WT()||t1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},e1=a=>{var e,i;return(i=(e=Td())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},n1=a=>{const e=e1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},$_=()=>{var a;return(a=Td())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[$u(JSON.stringify(i)),$u(JSON.stringify(d)),""].join(".")}const Kl={};function s1(){const a={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?a.emulator.push(e):a.prod.push(e);return a}function l1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Ny=!1;function o1(a,e){if(typeof window>"u"||typeof document>"u"||!Ad(window.location.host)||Kl[a]===e||Kl[a]||Ny)return;Kl[a]=e;function i(M){return`__firebase__banner__${M}`}const s="__firebase__banner",h=s1().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Ny=!0,d()},M}function A(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function V(){const M=l1(s),H=i("text"),$=document.getElementById(H)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),Tt=i("preprendIcon"),ht=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ft=M.element;g(ft),A(W,it);const Vt=v();_(ht,Tt),ft.append(ht,$,W,Vt),document.body.appendChild(ft)}h?($.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",V):V()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c1(){var a;const e=(a=Td())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function f1(){return!c1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J_(){try{return typeof indexedDB=="object"}catch{return!1}}function W_(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function d1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="FirebaseError";class Dr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=m1,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?g1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Dr(o,g,s)}}function g1(a,e){return a.replace(p1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const p1=/\{\$([^}]+)}/g;function to(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(My(h)&&My(d)){if(!to(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function My(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1e3,_1=2,v1=4*60*60*1e3,E1=.5;function xy(a,e=y1,i=_1){const s=e*Math.pow(i,a),o=Math.round(E1*s*(Math.random()-.5)*2);return Math.min(v1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(a){return a&&a._delegate?a._delegate:a}class Li{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new i1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S1(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:A1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A1(a){return a===fa?void 0:a}function S1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new T1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const R1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},w1=Lt.INFO,C1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},D1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=C1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sd{constructor(e){this.name=e,this._logLevel=w1,this._logHandler=D1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const I1=(a,e)=>e.some(i=>a instanceof i);let Uy,Ly;function V1(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O1(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,$f=new WeakMap,ev=new WeakMap,Bf=new WeakMap,bd=new WeakMap;function N1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(pr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&tv.set(i,a)}).catch(()=>{}),bd.set(e,a),e}function M1(a){if($f.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});$f.set(a,e)}let Jf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return $f.get(a);if(e==="objectStoreNames")return a.objectStoreNames||ev.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function x1(a){Jf=a(Jf)}function U1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(jf(this),e,...i);return ev.set(s,e.sort?e.sort():[e]),pr(s)}:O1().includes(a)?function(...e){return a.apply(jf(this),e),pr(tv.get(this))}:function(...e){return pr(a.apply(jf(this),e))}}function L1(a){return typeof a=="function"?U1(a):(a instanceof IDBTransaction&&M1(a),I1(a,V1())?new Proxy(a,Jf):a)}function pr(a){if(a instanceof IDBRequest)return N1(a);if(Bf.has(a))return Bf.get(a);const e=L1(a);return e!==a&&(Bf.set(a,e),bd.set(e,a)),e}const jf=a=>bd.get(a);function nv(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=pr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(pr(d.result),_.oldVersion,_.newVersion,pr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const P1=["get","getKey","getAll","getAllKeys","count"],z1=["put","add","delete","clear"],qf=new Map;function Py(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=z1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||P1.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return qf.set(e,h),h}x1(a=>({...a,get:(e,i,s)=>Py(e,i)||a.get(e,i,s),has:(e,i)=>!!Py(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(B1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function B1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",zy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Sd("@firebase/app"),j1="@firebase/app-compat",q1="@firebase/analytics-compat",H1="@firebase/analytics",G1="@firebase/app-check-compat",F1="@firebase/app-check",Q1="@firebase/auth",Y1="@firebase/auth-compat",K1="@firebase/database",X1="@firebase/data-connect",Z1="@firebase/database-compat",$1="@firebase/functions",J1="@firebase/functions-compat",W1="@firebase/installations",tA="@firebase/installations-compat",eA="@firebase/messaging",nA="@firebase/messaging-compat",iA="@firebase/performance",rA="@firebase/performance-compat",aA="@firebase/remote-config",sA="@firebase/remote-config-compat",lA="@firebase/storage",oA="@firebase/storage-compat",uA="@firebase/firestore",cA="@firebase/ai",hA="@firebase/firestore-compat",fA="firebase",dA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",mA={[Wf]:"fire-core",[j1]:"fire-core-compat",[H1]:"fire-analytics",[q1]:"fire-analytics-compat",[F1]:"fire-app-check",[G1]:"fire-app-check-compat",[Q1]:"fire-auth",[Y1]:"fire-auth-compat",[K1]:"fire-rtdb",[X1]:"fire-data-connect",[Z1]:"fire-rtdb-compat",[$1]:"fire-fn",[J1]:"fire-fn-compat",[W1]:"fire-iid",[tA]:"fire-iid-compat",[eA]:"fire-fcm",[nA]:"fire-fcm-compat",[iA]:"fire-perf",[rA]:"fire-perf-compat",[aA]:"fire-rc",[sA]:"fire-rc-compat",[lA]:"fire-gcs",[oA]:"fire-gcs-compat",[uA]:"fire-fst",[hA]:"fire-fst-compat",[cA]:"fire-vertex","fire-js":"fire-js",[fA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,gA=new Map,ed=new Map;function ky(a,e){try{a.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Er(a){const e=a.name;if(ed.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,a);for(const i of Ju.values())ky(i,a);for(const i of gA.values())ky(i,a);return!0}function oo(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function pA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new mc("app","Firebase",yA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=dA;function iv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:td,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw yr.create("bad-app-name",{appName:String(o)});if(i||(i=$_()),!i)throw yr.create("no-options");const h=Ju.get(o);if(h){if(to(i,h.options)&&to(s,h.config))return h;throw yr.create("duplicate-app",{appName:o})}const d=new b1(o);for(const _ of ed.values())d.addComponent(_);const g=new _A(i,s,d);return Ju.set(o,g),g}function rv(a=td){const e=Ju.get(a);if(!e&&a===td&&$_())return iv();if(!e)throw yr.create("no-app",{appName:a});return e}function ei(a,e,i){var s;let o=(s=mA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(g.join(" "));return}Er(new Li(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firebase-heartbeat-database",TA=1,eo="firebase-heartbeat-store";let Hf=null;function av(){return Hf||(Hf=nv(EA,TA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(a=>{throw yr.create("idb-open",{originalErrorMessage:a.message})})),Hf}async function AA(a){try{const i=(await av()).transaction(eo),s=await i.objectStore(eo).get(sv(a));return await i.done,s}catch(e){if(e instanceof Dr)Pi.warn(e.message);else{const i=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(i.message)}}}async function By(a,e){try{const s=(await av()).transaction(eo,"readwrite");await s.objectStore(eo).put(e,sv(a)),await s.done}catch(i){if(i instanceof Dr)Pi.warn(i.message);else{const s=yr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pi.warn(s.message)}}}function sv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=1024,bA=30;class RA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=jy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>bA){const d=DA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=jy(),{heartbeatsToSend:s,unsentEntries:o}=wA(this._heartbeatsCache.heartbeats),h=$u(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Pi.warn(i),""}}}function jy(){return new Date().toISOString().substring(0,10)}function wA(a,e=SA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),qy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),qy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class CA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J_()?W_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await AA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return By(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return By(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function qy(a){return $u(JSON.stringify({version:2,heartbeats:a})).length}function DA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(a){Er(new Li("platform-logger",e=>new k1(e),"PRIVATE")),Er(new Li("heartbeat",e=>new RA(e),"PRIVATE")),ei(Wf,zy,a),ei(Wf,zy,"esm2017"),ei("fire-js","")}IA("");var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _r,lv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function w(){}w.prototype=S.prototype,x.D=S.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(C,I,N){for(var b=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)b[$t-2]=arguments[$t];return S.prototype[I].apply(C,b)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,w){w||(w=0);var C=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)C[I]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(I=0;16>I;++I)C[I]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=x.g[0],w=x.g[1],I=x.g[2];var N=x.g[3],b=S+(N^w&(I^N))+C[0]+3614090360&4294967295;S=w+(b<<7&4294967295|b>>>25),b=N+(I^S&(w^I))+C[1]+3905402710&4294967295,N=S+(b<<12&4294967295|b>>>20),b=I+(w^N&(S^w))+C[2]+606105819&4294967295,I=N+(b<<17&4294967295|b>>>15),b=w+(S^I&(N^S))+C[3]+3250441966&4294967295,w=I+(b<<22&4294967295|b>>>10),b=S+(N^w&(I^N))+C[4]+4118548399&4294967295,S=w+(b<<7&4294967295|b>>>25),b=N+(I^S&(w^I))+C[5]+1200080426&4294967295,N=S+(b<<12&4294967295|b>>>20),b=I+(w^N&(S^w))+C[6]+2821735955&4294967295,I=N+(b<<17&4294967295|b>>>15),b=w+(S^I&(N^S))+C[7]+4249261313&4294967295,w=I+(b<<22&4294967295|b>>>10),b=S+(N^w&(I^N))+C[8]+1770035416&4294967295,S=w+(b<<7&4294967295|b>>>25),b=N+(I^S&(w^I))+C[9]+2336552879&4294967295,N=S+(b<<12&4294967295|b>>>20),b=I+(w^N&(S^w))+C[10]+4294925233&4294967295,I=N+(b<<17&4294967295|b>>>15),b=w+(S^I&(N^S))+C[11]+2304563134&4294967295,w=I+(b<<22&4294967295|b>>>10),b=S+(N^w&(I^N))+C[12]+1804603682&4294967295,S=w+(b<<7&4294967295|b>>>25),b=N+(I^S&(w^I))+C[13]+4254626195&4294967295,N=S+(b<<12&4294967295|b>>>20),b=I+(w^N&(S^w))+C[14]+2792965006&4294967295,I=N+(b<<17&4294967295|b>>>15),b=w+(S^I&(N^S))+C[15]+1236535329&4294967295,w=I+(b<<22&4294967295|b>>>10),b=S+(I^N&(w^I))+C[1]+4129170786&4294967295,S=w+(b<<5&4294967295|b>>>27),b=N+(w^I&(S^w))+C[6]+3225465664&4294967295,N=S+(b<<9&4294967295|b>>>23),b=I+(S^w&(N^S))+C[11]+643717713&4294967295,I=N+(b<<14&4294967295|b>>>18),b=w+(N^S&(I^N))+C[0]+3921069994&4294967295,w=I+(b<<20&4294967295|b>>>12),b=S+(I^N&(w^I))+C[5]+3593408605&4294967295,S=w+(b<<5&4294967295|b>>>27),b=N+(w^I&(S^w))+C[10]+38016083&4294967295,N=S+(b<<9&4294967295|b>>>23),b=I+(S^w&(N^S))+C[15]+3634488961&4294967295,I=N+(b<<14&4294967295|b>>>18),b=w+(N^S&(I^N))+C[4]+3889429448&4294967295,w=I+(b<<20&4294967295|b>>>12),b=S+(I^N&(w^I))+C[9]+568446438&4294967295,S=w+(b<<5&4294967295|b>>>27),b=N+(w^I&(S^w))+C[14]+3275163606&4294967295,N=S+(b<<9&4294967295|b>>>23),b=I+(S^w&(N^S))+C[3]+4107603335&4294967295,I=N+(b<<14&4294967295|b>>>18),b=w+(N^S&(I^N))+C[8]+1163531501&4294967295,w=I+(b<<20&4294967295|b>>>12),b=S+(I^N&(w^I))+C[13]+2850285829&4294967295,S=w+(b<<5&4294967295|b>>>27),b=N+(w^I&(S^w))+C[2]+4243563512&4294967295,N=S+(b<<9&4294967295|b>>>23),b=I+(S^w&(N^S))+C[7]+1735328473&4294967295,I=N+(b<<14&4294967295|b>>>18),b=w+(N^S&(I^N))+C[12]+2368359562&4294967295,w=I+(b<<20&4294967295|b>>>12),b=S+(w^I^N)+C[5]+4294588738&4294967295,S=w+(b<<4&4294967295|b>>>28),b=N+(S^w^I)+C[8]+2272392833&4294967295,N=S+(b<<11&4294967295|b>>>21),b=I+(N^S^w)+C[11]+1839030562&4294967295,I=N+(b<<16&4294967295|b>>>16),b=w+(I^N^S)+C[14]+4259657740&4294967295,w=I+(b<<23&4294967295|b>>>9),b=S+(w^I^N)+C[1]+2763975236&4294967295,S=w+(b<<4&4294967295|b>>>28),b=N+(S^w^I)+C[4]+1272893353&4294967295,N=S+(b<<11&4294967295|b>>>21),b=I+(N^S^w)+C[7]+4139469664&4294967295,I=N+(b<<16&4294967295|b>>>16),b=w+(I^N^S)+C[10]+3200236656&4294967295,w=I+(b<<23&4294967295|b>>>9),b=S+(w^I^N)+C[13]+681279174&4294967295,S=w+(b<<4&4294967295|b>>>28),b=N+(S^w^I)+C[0]+3936430074&4294967295,N=S+(b<<11&4294967295|b>>>21),b=I+(N^S^w)+C[3]+3572445317&4294967295,I=N+(b<<16&4294967295|b>>>16),b=w+(I^N^S)+C[6]+76029189&4294967295,w=I+(b<<23&4294967295|b>>>9),b=S+(w^I^N)+C[9]+3654602809&4294967295,S=w+(b<<4&4294967295|b>>>28),b=N+(S^w^I)+C[12]+3873151461&4294967295,N=S+(b<<11&4294967295|b>>>21),b=I+(N^S^w)+C[15]+530742520&4294967295,I=N+(b<<16&4294967295|b>>>16),b=w+(I^N^S)+C[2]+3299628645&4294967295,w=I+(b<<23&4294967295|b>>>9),b=S+(I^(w|~N))+C[0]+4096336452&4294967295,S=w+(b<<6&4294967295|b>>>26),b=N+(w^(S|~I))+C[7]+1126891415&4294967295,N=S+(b<<10&4294967295|b>>>22),b=I+(S^(N|~w))+C[14]+2878612391&4294967295,I=N+(b<<15&4294967295|b>>>17),b=w+(N^(I|~S))+C[5]+4237533241&4294967295,w=I+(b<<21&4294967295|b>>>11),b=S+(I^(w|~N))+C[12]+1700485571&4294967295,S=w+(b<<6&4294967295|b>>>26),b=N+(w^(S|~I))+C[3]+2399980690&4294967295,N=S+(b<<10&4294967295|b>>>22),b=I+(S^(N|~w))+C[10]+4293915773&4294967295,I=N+(b<<15&4294967295|b>>>17),b=w+(N^(I|~S))+C[1]+2240044497&4294967295,w=I+(b<<21&4294967295|b>>>11),b=S+(I^(w|~N))+C[8]+1873313359&4294967295,S=w+(b<<6&4294967295|b>>>26),b=N+(w^(S|~I))+C[15]+4264355552&4294967295,N=S+(b<<10&4294967295|b>>>22),b=I+(S^(N|~w))+C[6]+2734768916&4294967295,I=N+(b<<15&4294967295|b>>>17),b=w+(N^(I|~S))+C[13]+1309151649&4294967295,w=I+(b<<21&4294967295|b>>>11),b=S+(I^(w|~N))+C[4]+4149444226&4294967295,S=w+(b<<6&4294967295|b>>>26),b=N+(w^(S|~I))+C[11]+3174756917&4294967295,N=S+(b<<10&4294967295|b>>>22),b=I+(S^(N|~w))+C[2]+718787259&4294967295,I=N+(b<<15&4294967295|b>>>17),b=w+(N^(I|~S))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+N&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var w=S-this.blockSize,C=this.B,I=this.h,N=0;N<S;){if(I==0)for(;N<=w;)o(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<S;)if(C[I++]=x.charCodeAt(N++),I==this.blockSize){o(this,C),I=0;break}}else for(;N<S;)if(C[I++]=x[N++],I==this.blockSize){o(this,C),I=0;break}}this.h=I,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var w=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=w&255,w/=256;for(this.u(x),x=Array(16),S=w=0;4>S;++S)for(var C=0;32>C;C+=8)x[w++]=this.g[S]>>>C&255;return x};function h(x,S){var w=g;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=S(x)}function d(x,S){this.h=S;for(var w=[],C=!0,I=x.length-1;0<=I;I--){var N=x[I]|0;C&&N==S||(w[I]=N,C=!1)}this.g=w}var g={};function _(x){return-128<=x&&128>x?h(x,function(S){return new d([S|0],0>S?-1:0)}):new d([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return V;if(0>x)return W(v(-x));for(var S=[],w=1,C=0;x>=w;C++)S[C]=x/w|0,w*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return W(A(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),C=V,I=0;I<x.length;I+=8){var N=Math.min(8,x.length-I),b=parseInt(x.substring(I,I+N),S);8>N?(N=v(Math.pow(S,N)),C=C.j(N).add(v(b))):(C=C.j(w),C=C.add(v(b)))}return C}var V=_(0),M=_(1),H=_(16777216);a=d.prototype,a.m=function(){if(it(this))return-W(this).m();for(var x=0,S=1,w=0;w<this.g.length;w++){var C=this.i(w);x+=(0<=C?C:4294967296+C)*S,S*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if($(this))return"0";if(it(this))return"-"+W(this).toString(x);for(var S=v(Math.pow(x,6)),w=this,C="";;){var I=Vt(w,S).g;w=Tt(w,I.j(S));var N=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=I,$(w))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function $(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function it(x){return x.h==-1}a.l=function(x){return x=Tt(this,x),it(x)?-1:$(x)?0:1};function W(x){for(var S=x.g.length,w=[],C=0;C<S;C++)w[C]=~x.g[C];return new d(w,~x.h).add(M)}a.abs=function(){return it(this)?W(this):this},a.add=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],C=0,I=0;I<=S;I++){var N=C+(this.i(I)&65535)+(x.i(I)&65535),b=(N>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);C=b>>>16,N&=65535,b&=65535,w[I]=b<<16|N}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Tt(x,S){return x.add(W(S))}a.j=function(x){if($(this)||$(x))return V;if(it(this))return it(x)?W(this).j(W(x)):W(W(this).j(x));if(it(x))return W(this.j(W(x)));if(0>this.l(H)&&0>x.l(H))return v(this.m()*x.m());for(var S=this.g.length+x.g.length,w=[],C=0;C<2*S;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var I=0;I<x.g.length;I++){var N=this.i(C)>>>16,b=this.i(C)&65535,$t=x.i(I)>>>16,zt=x.i(I)&65535;w[2*C+2*I]+=b*zt,ht(w,2*C+2*I),w[2*C+2*I+1]+=N*zt,ht(w,2*C+2*I+1),w[2*C+2*I+1]+=b*$t,ht(w,2*C+2*I+1),w[2*C+2*I+2]+=N*$t,ht(w,2*C+2*I+2)}for(C=0;C<S;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=S;C<2*S;C++)w[C]=0;return new d(w,0)};function ht(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ft(x,S){this.g=x,this.h=S}function Vt(x,S){if($(S))throw Error("division by zero");if($(x))return new ft(V,V);if(it(x))return S=Vt(W(x),S),new ft(W(S.g),W(S.h));if(it(S))return S=Vt(x,W(S)),new ft(W(S.g),S.h);if(30<x.g.length){if(it(x)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=M,C=S;0>=C.l(x);)w=vt(w),C=vt(C);var I=Pt(w,1),N=Pt(C,1);for(C=Pt(C,2),w=Pt(w,2);!$(C);){var b=N.add(C);0>=b.l(x)&&(I=I.add(w),N=b),C=Pt(C,1),w=Pt(w,1)}return S=Tt(x,I.j(S)),new ft(I,S)}for(I=V;0<=x.l(S);){for(w=Math.max(1,Math.floor(x.m()/S.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=v(w),b=N.j(S);it(b)||0<b.l(x);)w-=C,N=v(w),b=N.j(S);$(N)&&(N=M),I=I.add(N),x=Tt(x,b)}return new ft(I,x)}a.A=function(x){return Vt(this,x).h},a.and=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)&x.i(C);return new d(w,this.h&x.h)},a.or=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)|x.i(C);return new d(w,this.h|x.h)},a.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],C=0;C<S;C++)w[C]=this.i(C)^x.i(C);return new d(w,this.h^x.h)};function vt(x){for(var S=x.g.length+1,w=[],C=0;C<S;C++)w[C]=x.i(C)<<1|x.i(C-1)>>>31;return new d(w,x.h)}function Pt(x,S){var w=S>>5;S%=32;for(var C=x.g.length-w,I=[],N=0;N<C;N++)I[N]=0<S?x.i(N+w)>>>S|x.i(N+w+1)<<32-S:x.i(N+w);return new d(I,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,_r=d}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ov,Gl,uv,Fu,nd,cv,hv,fv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function V(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function M(u,m,p){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,M.apply(null,arguments)}function H(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,j){for(var tt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)tt[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,tt)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function W(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,j=T.length||0;u.length=L+j;for(let tt=0;tt<j;tt++)u[L+tt]=T[tt]}else u.push(T)}}class Tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ht(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var vt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Pt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function x(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let j=0;j<w.length;j++)p=w[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function I(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function N(u){g.setTimeout(()=>{throw u},0)}function b(){var u=Ot;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class $t{constructor(){this.h=this.g=null}add(m,p){const T=zt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var zt=new Tt(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,lt=!1,Ot=new $t,D=()=>{const u=g.Promise.resolve(void 0);Z=()=>{u.then(X)}};var X=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(p){N(p)}var m=zt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Rt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(vt){t:{try{Vt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,J);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Pn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Jt,this.da=this.fa=!1}function Bi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oi(u){this.src=u,this.g={},this.h=0}oi.prototype.add=function(u,m,p,T,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var tt=Vr(u,m,T,L);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new Pn(m,this.src,j,!!T,L),m.fa=p,u.push(m)),m};function Ir(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Bi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Vr(u,m,p,T){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return L}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),xs={};function po(u,m,p,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)po(u,m[j],p,T,L);return null}return p=yo(p),u&&u[Ce]?u.K(m,p,v(T)?!!T.capture:!1,L):gn(u,m,p,!1,T,L)}function gn(u,m,p,T,L,j){if(!m)throw Error("Invalid event type");var tt=v(L)?!!L.capture:!!L,Nt=Ca(u);if(Nt||(u[Or]=Nt=new oi(u)),p=Nt.add(m,p,T,tt,j),p.proxy)return p;if(T=Mc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ut||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Mc(){function u(p){return m.call(u.src,u.listener,p)}const m=xc;return u}function Us(u,m,p,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Us(u,m[j],p,T,L);else T=v(T)?!!T.capture:!!T,p=yo(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=Vr(j,p,T,L),-1<p&&(Bi(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ca(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Vr(m,p,T,L)),(p=-1<u?m[u]:null)&&wa(p))}function wa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Ir(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Nr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ca(m))?(Ir(p,u),p.h==0&&(p.src=null,m[Or]=null)):Bi(u)}}}function Nr(u){return u in xs?xs[u]:xs[u]="on"+u}function xc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&wa(u),u=p.call(T,m)}return u}function Ca(u){return u=u[Or],u instanceof oi?u:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function yo(u){return typeof u=="function"?u:(u[Ls]||(u[Ls]=function(m){return u.handleEvent(m)}),u[Ls])}function se(){et.call(this),this.i=new oi(this),this.M=this,this.F=null}$(se,et),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(u,m,p,T){Us(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var L=m;m=new J(T,u),C(m,L)}if(L=!0,p)for(var j=p.length-1;0<=j;j--){var tt=m.g=p[j];L=an(tt,T,!0,m)&&L}if(tt=m.g=u,L=an(tt,T,!0,m)&&L,L=an(tt,T,!1,m)&&L,p)for(j=0;j<p.length;j++)tt=m.g=p[j],L=an(tt,T,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Bi(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==p){var Nt=tt.listener,Ee=tt.ha||tt.src;tt.fa&&Ir(u.i,tt),L=Nt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function qe(u,m,p){if(typeof u=="function")p&&(u=M(u,p));else if(u&&typeof u.handleEvent=="function")u=M(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function _o(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,_o(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Uc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){et.call(this),this.h=u,this.g={}}$(Mr,et);var xr=[];function Ur(u){Pt(u.g,function(m,p){this.g.hasOwnProperty(p)&&wa(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,Da=g.JSON.parse,Lr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ps(){}Ps.prototype.h=null;function zs(u){return u.h||(u.h=u.i())}function ks(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){J.call(this,"d")}$(ci,J);function Bs(){J.call(this,"c")}$(Bs,J);var zn={},js=null;function ji(){return js=js||new se}zn.La="serverreachability";function Ia(u){J.call(this,zn.La,u)}$(Ia,J);function qi(u){const m=ji();Ht(m,new Ia(m))}zn.STAT_EVENT="statevent";function vo(u,m){J.call(this,zn.STAT_EVENT,u),this.stat=m}$(vo,J);function ne(u){const m=ji();Ht(m,new vo(m,u))}zn.Ma="timingevent";function ve(u,m){J.call(this,zn.Ma,u),this.size=m}$(ve,J);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function qs(u,m,p,T,L,j){u.info(function(){if(u.g)if(j)for(var tt="",Nt=j.split("&"),Ee=0;Ee<Nt.length;Ee++){var Mt=Nt[Ee].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Te=Ie.split("_");tt=2<=Te.length&&Te[1]=="type"?tt+(Ie+"="+Mt+"&"):tt+(Ie+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Lc(u,m,p,T,L,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+j+" "+tt})}function Hi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pr(u,p)+(T?" "+T:"")})}function Eo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Pr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Vn(p)}catch{return m}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Bn(){}$(Bn,Ps),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},kn=new Bn;function Ke(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Hs={},Va={};function On(u,m,p){u.L=1,u.v=qr(sn(m)),u.m=p,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),zr(u),u.A=sn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Xs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ue,u.g=Lo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Uc(M(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(xr[0]=L.toString()),L=xr);for(var j=0;j<L.length;j++){var tt=po(p,L[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),qi(),qs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Te=En(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ei?qi(3):qi(2)),Fi(this);var p=this.g.Z();this.X=p;e:if(To(this)){var T=Do(this.g);u="";var L=T.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),jn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Lc(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,Ee=this.g;if((Nt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Nt)){var Mt=Nt;break e}}Mt=null}if(p=Mt)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,p);else{this.o=!1,this.s=3,ne(12),xe(this),jn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=Ao(this,tt),Ue==Va){Te==4&&(this.s=4,ne(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Hs){this.s=4,ne(15),Hi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,Ue,null),kr(this,Ue);if(To(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||tt.length!=0||this.h.h||(this.s=1,ne(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,tt,"[Invalid Chunked Response]"),xe(this),jn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Zr(Ie),Ie.M=!0,ne(11))}}else Hi(this.i,this.l,tt,null),kr(this,tt);Te==4&&xe(this),this.o&&!this.J&&(Te==4?Mo(this.j,this):(this.o=!1,zr(this)))}else jc(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),xe(this),jn(this)}}}catch{}finally{}};function To(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ao(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Va:(p=Number(m.substring(p,T)),isNaN(p)?Hs:(T+=1,T+p>m.length?Va:(m=m.slice(T,T+p),u.C=T+p,m)))}Ke.prototype.cancel=function(){this.J=!0,xe(this)};function zr(u){u.S=Date.now()+u.I,So(u,u.I)}function So(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(M(u.ba,u),m)}function Fi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Eo(this.i,this.A),this.L!=2&&(qi(),ne(17)),xe(this),this.s=2,jn(this)):So(this,this.S-u)};function jn(u){u.j.G==0||u.J||Mo(u.j,u)}function xe(u){Fi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ur(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function kr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Gs(p.h,u))){if(!u.K&&Gs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)qa(p),Ba(p);else break t;tl(p),ne(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(M(p.Za,p),6e3));if(1>=Na(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else vi(p,11)}else if((u.K||p.g==u)&&qa(p),!ht(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(p.la=Ie,p.j.info("VER="+p.la));const Te=Mt[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const Ei=Mt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(T=1.5*Ei,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=u.g;if(Ue){const Kn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var j=T.h;j.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ma(j,j.h),j.h=null))}if(T.D){const nl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(T.ya=nl,Qt(T.I,T.D,nl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=Uo(T,T.J?T.ia:null,T.W),tt.K){Xe(T.h,tt);var Nt=tt,Ee=T.L;Ee&&(Nt.I=Ee),Nt.B&&(Fi(Nt),zr(Nt)),T.g=tt}else Oo(T);0<p.i.length&&ja(p)}else Mt[0]!="stop"&&Mt[0]!="close"||vi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?vi(p,7):Js(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}qi(4)}catch{}}var bo=class{constructor(u,m){this.g=u,this.map=m}};function di(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Na(u){return u.h?1:u.g?u.g.size:0}function Gs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ma(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}di.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function Pc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function xa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=xa(u),T=Pc(u),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],p&&p[j],u)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var j=u[p].substring(0,T);L=u[p].substring(T+1)}else j=u[p];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,jr(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.s),this.l=u.l;var m=u.i,p=new gi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),mi(this,p),this.m=u.m}else u&&(m=String(u).match(Br))?(this.h=!1,jr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Qi(this,m[4]),this.l=yn(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Hr(m,Ys,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hr(m,Ys,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Hr(p,p.charAt(0)=="/"?kc:Ks,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Hr(p,Ua)),u.join("")};function sn(u){return new me(u)}function jr(u,m,p){u.j=p?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,p){m instanceof gi?(u.i=m,wo(u.i,u.h)):(p||(m=Hr(m,Bc)),u.i=new gi(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function qr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Ro),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ro(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,Ks=/[#\?:]/g,kc=/[#\?]/g,Bc=/[#\?@]/g,Ua=/#/g;function gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&zc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=gi.prototype,a.add=function(u,m){_n(this),this.i=null,u=qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function pi(u,m){_n(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return _n(u),m=qn(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let j=0;j<L.length;j++)p.push(m[T])}return p},a.V=function(u){_n(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return _n(this),this.i=null,u=qn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Xs(u,m,p){pi(u,m),0<p.length&&(u.i=null,u.g.set(qn(u,m),it(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=j;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(pi(this,T),Xs(this,L,p))},u)),u.j=m}function Gr(u,m){const p=new pn;if(g.Image){const T=new Image;T.onload=H(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=H(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const p=new pn,T=new AbortController,L=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Fr(){this.g=new Lr}function Hn(u,m,p){const T=p||"";try{Qs(u,function(L,j){let tt=L;v(L)&&(tt=Vn(L)),m.push(T+j+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Yi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Yi,Ps),Yi.prototype.g=function(){return new _i(this.l,this.j)},Yi.prototype.i=function(u){return function(){return u}}({});function _i(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(_i,se),a=_i.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&Zs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $s(u){let m="";return Pt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=$s(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function jt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,se);var La=/^https?$/i,Qr=["POST","PUT"];a=jt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?zs(this.o):zs(kn),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Co(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Qr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of p)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Co(this,j)}};function Co(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Pa(u),Qn(u)}function Pa(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),jt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},a.bb=function(){za(this)};function za(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)qe(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(u.D).match(Br)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!La.test(L?L.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var j=2<En(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Pa(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Yr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function Yr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Da(m)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ht(u[T]))continue;var p=I(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[L]||[];m[L]=j,j.push(p)}x(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ka(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new di(u&&u.concurrentRequestLimit),this.Da=new Fr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=ka.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){ne(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Uo(this,null,this.W),ja(this)};function Js(u){if(Io(u),u.G==3){var m=u.U++,p=sn(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Xr(u,p),m=new Ke(u,u.j,m),m.L=2,m.v=qr(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Lo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zr(m)}xo(u)}function Ba(u){u.g&&(Zr(u),u.g.cancel(),u.g=null)}function Io(u){Ba(u),u.u&&(g.clearTimeout(u.u),u.u=null),qa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ja(u){if(!Oa(u.h)&&!u.s){u.s=!0;var m=u.Ga;Z||D(),lt||(Z(),lt=!0),Ot.add(m,u),u.B=0}}function qc(u,m){return Na(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(M(u.Ga,u,m),el(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ke(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Vo(this,L,m),p=sn(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Xr(this,p),j&&(this.O?m="headers="+encodeURIComponent(String($s(j)))+"&"+m:this.m&&De(p,this.m,j)),Ma(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,On(L,p,null)):On(L,p,m),this.G=2}}else this.G==3&&(u?Ws(this,u):this.i.length==0||Oa(this.h)||Ws(this))};function Ws(u,m){var p;m?p=m.l:p=u.U++;const T=sn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),Xr(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Ke(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Vo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ma(u.h,p),On(p,T,m)}function Xr(u,m){u.H&&Pt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Qs({},function(p,T){Qt(m,T,p)})}function Vo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?M(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const tt=["count="+p];j==-1?0<p?(j=L[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let Nt=!0;for(let Ee=0;Ee<p;Ee++){let Mt=L[Ee].g;const Ie=L[Ee].map;if(Mt-=j,0>Mt)j=Math.max(0,L[Ee].g-100),Nt=!1;else try{Hn(Ie,tt,"req"+Mt+"_")}catch{T&&T(Ie)}}if(Nt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Oo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Z||D(),lt||(Z(),lt=!0),Ot.add(m,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(M(u.Fa,u),el(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,No(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(M(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Ba(this),No(this))};function Zr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function No(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Xr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=qr(sn(m)),p.m=null,p.P=!0,fi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Ba(this),tl(this),ne(19))};function qa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Mo(u,m){var p=null;if(u.g==m){qa(u),Zr(u),u.g=null;var T=2}else if(Gs(u.h,m))p=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=ji(),Ht(T,new ve(T,p)),ja(u)}else Oo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&qc(u,m)||T==2&&tl(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function el(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var p=M(u.fb,u),T=u.Xa;const L=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||jr(T,"https"),qr(T),L?Gr(T.toString(),p):Nn(T.toString(),p)}else ne(2);u.G=0,u.l&&u.l.sa(m),xo(u),Io(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=Fs(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function Uo(u,m,p){var T=p instanceof me?sn(p):new me(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new me(null);T&&jr(j,T),m&&(j.g=m),L&&Qi(j,L),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),Xr(u,T),T}function Lo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Yi({eb:p})):new jt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}a=Po.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ha(){}Ha.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){se.call(this),this.g=new ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ht(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ht(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}$(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Js(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Vn(u),u=p);m.i.push(new bo(m.Ya++,u)),m.G==3&&ja(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,Ze.aa.N.call(this)};function zo(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(zo,ci);function ko(){Bs.call(this),this.status=1}$(ko,Bs);function Yn(u){this.g=u}$(Yn,Po),Yn.prototype.ua=function(){Ht(this.g,"a")},Yn.prototype.ta=function(u){Ht(this.g,new zo(u))},Yn.prototype.sa=function(u){Ht(this.g,new ko)},Yn.prototype.ra=function(){Ht(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,fv=function(){return new Ha},hv=function(){return ji()},cv=zn,nd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Fu=Gi,hi.COMPLETE="complete",uv=hi,ks.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",se.prototype.listen=se.prototype.K,Gl=ks,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,ov=jt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",Fy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Sd("@firebase/firestore");function _s(){return ya.logLevel}function rt(a,...e){if(ya.logLevel<=Lt.DEBUG){const i=e.map(Rd);ya.debug(`Firestore (${Is}): ${a}`,...i)}}function zi(a,...e){if(ya.logLevel<=Lt.ERROR){const i=e.map(Rd);ya.error(`Firestore (${Is}): ${a}`,...i)}}function Tr(a,...e){if(ya.logLevel<=Lt.WARN){const i=e.map(Rd);ya.warn(`Firestore (${Is}): ${a}`,...i)}}function Rd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,dv(a,s,i)}function dv(a,e,i){let s=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw zi(s),new Error(s)}function qt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||dv(e,o,s)}function Et(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Dr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class OA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class NA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new xi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new xi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new mv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class MA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new MA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Qy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function bt(a,e){return a<e?-1:a>e?1:0}function id(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return bt(s,o);{const h=gv(),d=PA(h.encode(Yy(a,i)),h.encode(Yy(e,i)));return d!==0?d:bt(s,o)}}i+=s>65535?2:1}return bt(a.length,e.length)}function Yy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function PA(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return bt(a[i],e[i]);return bt(a.length,e.length)}function bs(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&gt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):id(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class te extends ti{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const zA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return zA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new Be([Ky])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(te.fromString(e))}static fromName(e){return new ct(te.fromString(e).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(a,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function kA(a,e,i,s){if(e===!0&&s===!0)throw new st(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Xy(a){if(!ct.isDocumentKey(a))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Zy(a){if(ct.isDocumentKey(a))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function yv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Cd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":gt(12329,{type:typeof a})}function _a(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cd(a);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(a,e){const i={typeString:a};return e&&(i.value=e),i}function uo(a,e){if(!yv(a))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-62135596800,Jy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Jy);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<$y)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uo(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:_e("string",ee._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new ee(0,0))}static max(){return new _t(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function BA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Ar(o,ct.empty(),e)}function jA(a){return new Ar(a.readTime,a.key,no)}class Ar{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ar(_t.min(),ct.empty(),no)}static max(){return new Ar(_t.max(),ct.empty(),no)}}function qA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,e.documentKey),i!==0?i:bt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==HA)throw a;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(o=>o?Y.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new Y((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function FA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=-1;function pc(a){return a==null}function Wu(a){return a===0&&1/a==-1/0}function QA(a){return typeof a=="number"&&Number.isInteger(a)&&!Wu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="";function YA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Wy(e)),e=KA(a.get(i),e);return Wy(e)}function KA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case _v:i+="";break;default:i+=h}}return i}function Wy(a){return a+_v+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Aa(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function vv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Ev("Invalid base64 string: "+h):h}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const XA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=XA.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function br(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="server_timestamp",Av="__type__",Sv="__previous_value__",bv="__local_write_time__";function Id(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Av])===null||i===void 0?void 0:i.stringValue)===Tv}function yc(a){const e=a.mapValue.fields[Sv];return Id(e)?yc(e):e}function io(a){const e=Sr(a.mapValue.fields[bv].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i,s,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const tc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="__type__",$A="__max__",qu={mapValue:{}},wv="__vector__",ec="value";function Rr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Id(a)?4:WA(a)?9007199254740991:JA(a)?10:11:gt(28295,{value:a})}function si(a,e){if(a===e)return!0;const i=Rr(a);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return io(a).isEqual(io(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Sr(o.timestampValue),g=Sr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return br(o.bytesValue).isEqual(br(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?Wu(d)===Wu(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return bs(a.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(t_(d)!==t_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!si(d[_],g[_])))return!1;return!0}(a,e);default:return gt(52216,{left:a})}}function ao(a,e){return(a.values||[]).find(i=>si(i,e))!==void 0}function Rs(a,e){if(a===e)return 0;const i=Rr(a),s=Rr(e);if(i!==s)return bt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),_=fe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return n_(a.timestampValue,e.timestampValue);case 4:return n_(io(a),io(e));case 5:return id(a.stringValue,e.stringValue);case 6:return function(h,d){const g=br(h),_=br(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=bt(g[v],_[v]);if(A!==0)return A}return bt(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=bt(fe(h.latitude),fe(d.latitude));return g!==0?g:bt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return i_(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const V=h.fields||{},M=d.fields||{},H=(g=V[ec])===null||g===void 0?void 0:g.arrayValue,$=(_=M[ec])===null||_===void 0?void 0:_.arrayValue,it=bt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:i_(H,$)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const M=id(_[V],A[V]);if(M!==0)return M;const H=Rs(g[_[V]],v[A[V]]);if(H!==0)return H}return bt(_.length,A.length)}(a.mapValue,e.mapValue);default:throw gt(23264,{le:i})}}function n_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return bt(a,e);const i=Sr(a),s=Sr(e),o=bt(i.seconds,s.seconds);return o!==0?o:bt(i.nanos,s.nanos)}function i_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Rs(i[o],s[o]);if(h)return h}return bt(i.length,s.length)}function ws(a){return rd(a)}function rd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Sr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return br(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ct.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=rd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${rd(i.fields[d])}`;return o+"}"}(a.mapValue):gt(61005,{value:a})}function Qu(a){switch(Rr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(a);return e?16+Qu(e):16;case 5:return 2*a.stringValue.length;case 6:return br(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Qu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Aa(s.fields,(h,d)=>{o+=h.length+Qu(d)}),o}(a.mapValue);default:throw gt(13486,{value:a})}}function ad(a){return!!a&&"integerValue"in a}function Vd(a){return!!a&&"arrayValue"in a}function r_(a){return!!a&&"nullValue"in a}function a_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Yu(a){return!!a&&"mapValue"in a}function JA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rv])===null||i===void 0?void 0:i.stringValue)===wv}function Xl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Aa(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Xl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function WA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===$A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Xl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Aa(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new Dn(Xl(this.value))}}function Cv(a){const e=[];return Aa(a.fields,(i,s)=>{const o=new Be([i]);if(Yu(s)){const h=Cv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,_t.min(),_t.min(),_t.min(),Dn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,_t.min(),_t.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,_t.min(),_t.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function s_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=Rs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function l_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function tS(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{}class be extends Dv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new nS(e,i,s):i==="array-contains"?new aS(e,s):i==="in"?new sS(e,s):i==="not-in"?new lS(e,s):i==="array-contains-any"?new oS(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new iS(e,s):new rS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Rs(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(Rs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Dv{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new li(e,i)}matches(e){return Iv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Iv(a){return a.op==="and"}function Vv(a){return eS(a)&&Iv(a)}function eS(a){for(const e of a.filters)if(e instanceof li)return!1;return!0}function sd(a){if(a instanceof be)return a.field.canonicalString()+a.op.toString()+ws(a.value);if(Vv(a))return a.filters.map(e=>sd(e)).join(",");{const e=a.filters.map(i=>sd(i)).join(",");return`${a.op}(${e})`}}function Ov(a,e){return a instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&si(s.value,o.value)}(a,e):a instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Ov(d,o.filters[g]),!0):!1}(a,e):void gt(19439)}function Nv(a){return a instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${ws(i.value)}`}(a):a instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(Nv).join(" ,")+"}"}(a):"Filter"}class nS extends be{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class iS extends be{constructor(e,i){super(e,"in",i),this.keys=Mv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class rS extends be{constructor(e,i){super(e,"not-in",i),this.keys=Mv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Mv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ct.fromName(s.referenceValue))}class aS extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vd(i)&&ao(i.arrayValue,this.value)}}class sS extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ao(this.value.arrayValue,i)}}class lS extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ao(this.value.arrayValue,i)}}class oS extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ao(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function o_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new uS(a,e,i,s,o,h,d)}function Od(a){const e=Et(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>sd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>ws(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>ws(s)).join(",")),e.Pe=i}return e.Pe}function Nd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!tS(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Ov(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!l_(a.startAt,e.startAt)&&l_(a.endAt,e.endAt)}function ld(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function cS(a,e,i,s,o,h,d,g){return new _c(a,e,i,s,o,h,d,g)}function Md(a){return new _c(a)}function u_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function hS(a){return a.collectionGroup!==null}function Zl(a){const e=Et(a);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new ic(h,s))}),i.has(Be.keyField().canonicalString())||e.Te.push(new ic(Be.keyField(),s))}return e.Te}function ni(a){const e=Et(a);return e.Ie||(e.Ie=fS(e,Zl(a))),e.Ie}function fS(a,e){if(a.limitType==="F")return o_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new ic(o.field,h)});const i=a.endAt?new nc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new nc(a.startAt.position,a.startAt.inclusive):null;return o_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function od(a,e,i){return new _c(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function vc(a,e){return Nd(ni(a),ni(e))&&a.limitType===e.limitType}function xv(a){return`${Od(ni(a))}|lt:${a.limitType}`}function vs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Nv(o)).join(", ")}]`),pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>ws(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>ws(o)).join(",")),`Target(${s})`}(ni(a))}; limitType=${a.limitType})`}function Ec(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Zl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=s_(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Zl(s),o)||s.endAt&&!function(d,g,_){const v=s_(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Zl(s),o))}(a,e)}function dS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Uv(a){return(e,i)=>{let s=!1;for(const o of Zl(a)){const h=mS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function mS(a,e,i){const s=a.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Rs(_,v):gt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return vv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new ae(ct.comparator);function ki(){return gS}const Lv=new ae(ct.comparator);function Fl(...a){let e=Lv;for(const i of a)e=e.insert(i.key,i);return e}function Pv(a){let e=Lv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function da(){return $l()}function zv(){return $l()}function $l(){return new Sa(a=>a.toString(),(a,e)=>a.isEqual(e))}const pS=new ae(ct.comparator),yS=new we(ct.comparator);function It(...a){let e=yS;for(const i of a)e=e.add(i);return e}const _S=new we(bt);function vS(){return _S}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function kv(a){return{integerValue:""+a}}function ES(a,e){return QA(e)?kv(e):xd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function TS(a,e,i){return a instanceof rc?function(o,h){const d={fields:{[Av]:{stringValue:Tv},[bv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Id(h)&&(h=yc(h)),h&&(d.fields[Sv]=h),{mapValue:d}}(i,e):a instanceof so?jv(a,e):a instanceof lo?qv(a,e):function(o,h){const d=Bv(o,h),g=c_(d)+c_(o.Ee);return ad(d)&&ad(o.Ee)?kv(g):xd(o.serializer,g)}(a,e)}function AS(a,e,i){return a instanceof so?jv(a,e):a instanceof lo?qv(a,e):i}function Bv(a,e){return a instanceof ac?function(s){return ad(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class rc extends Tc{}class so extends Tc{constructor(e){super(),this.elements=e}}function jv(a,e){const i=Hv(e);for(const s of a.elements)i.some(o=>si(o,s))||i.push(s);return{arrayValue:{values:i}}}class lo extends Tc{constructor(e){super(),this.elements=e}}function qv(a,e){let i=Hv(e);for(const s of a.elements)i=i.filter(o=>!si(o,s));return{arrayValue:{values:i}}}class ac extends Tc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function c_(a){return fe(a.integerValue||a.doubleValue)}function Hv(a){return Vd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function SS(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof so&&o instanceof so||s instanceof lo&&o instanceof lo?bs(s.elements,o.elements,si):s instanceof ac&&o instanceof ac?si(s.Ee,o.Ee):s instanceof rc&&o instanceof rc}(a.transform,e.transform)}class bS{constructor(e,i){this.version=e,this.transformResults=i}}class Ui{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Ac{}function Gv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Qv(a.key,Ui.none()):new co(a.key,a.data,Ui.none());{const i=a.data,s=Dn.empty();let o=new we(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new ba(a.key,s,new Ln(o.toArray()),Ui.none())}}function RS(a,e,i){a instanceof co?function(o,h,d){const g=o.value.clone(),_=f_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof ba?function(o,h,d){if(!Ku(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=f_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Fv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Jl(a,e,i,s){return a instanceof co?function(h,d,g,_){if(!Ku(h.precondition,d))return g;const v=h.value.clone(),A=d_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof ba?function(h,d,g,_){if(!Ku(h.precondition,d))return g;const v=d_(h.fieldTransforms,_,d),A=d.data;return A.setAll(Fv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(a,e,i,s):function(h,d,g){return Ku(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function wS(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Bv(s.transform,o||null);h!=null&&(i===null&&(i=Dn.empty()),i.set(s.field,h))}return i||null}function h_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bs(s,o,(h,d)=>SS(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class co extends Ac{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends Ac{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Fv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function f_(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,AS(d,g,i[o]))}return s}function d_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,TS(h,d,e))}return s}class Qv extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CS extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&RS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=zv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Gv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(i,s)=>h_(i,s))&&bs(this.baseMutations,e.baseMutations,(i,s)=>h_(i,s))}}class Ud{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return pS}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Ud(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,Ut;function OS(a){switch(a){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:a})}}function Yv(a){if(a===void 0)return zi("GRPC error has no .code"),K.UNKNOWN;switch(a){case ye.OK:return K.OK;case ye.CANCELLED:return K.CANCELLED;case ye.UNKNOWN:return K.UNKNOWN;case ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ye.INTERNAL:return K.INTERNAL;case ye.UNAVAILABLE:return K.UNAVAILABLE;case ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ye.NOT_FOUND:return K.NOT_FOUND;case ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ye.ABORTED:return K.ABORTED;case ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ye.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:a})}}(Ut=ye||(ye={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new _r([4294967295,4294967295],0);function m_(a){const e=gv().encode(a),i=new lv;return i.update(e),new Uint8Array(i.digest())}function g_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new _r([i,s],0),new _r([o,h],0)]}class Ld{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=_r.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(_r.fromNumber(s)));return o.compare(NS)===1&&(o=new _r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=m_(e),[s,o]=g_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ld(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=m_(e),[s,o]=g_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Sc(_t.min(),o,new ae(bt),ki(),It())}}class ho{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ho(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class Kv{constructor(e,i){this.targetId=e,this.De=i}}class Xv{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class p_{constructor(){this.ve=0,this.Ce=y_(),this.Fe=je.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=It(),i=It(),s=It();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:h})}}),new ho(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=y_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class MS{constructor(e){this.We=e,this.Ge=new Map,this.ze=ki(),this.je=Hu(),this.Je=Hu(),this.He=new ae(bt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const h=o.target;if(ld(h))if(s===0){const d=new ct(h.path);this.Xe(i,d,Ye.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),_=g?this.ut(g,e,d):1;if(_!==0){this.rt(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,v)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=br(s).toUint8Array()}catch(_){if(_ instanceof Ev)return Tr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Ld(d,o,h)}catch(_){return Tr(_ instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&ld(g.target)){const _=new ct(g.target.path);this.Tt(_).has(d)||this.It(d,_)||this.Xe(d,_,Ye.newNoDocument(_,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let s=It();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.st(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const o=new Sc(e,i,this.He,this.ze,s);return this.ze=ki(),this.je=Hu(),this.Je=Hu(),this.He=new ae(bt),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new p_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new we(bt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new we(bt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new p_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new ae(ct.comparator)}function y_(){return new ae(ct.comparator)}const xS={asc:"ASCENDING",desc:"DESCENDING"},US={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LS={and:"AND",or:"OR"};class PS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ud(a,e){return a.useProto3Json||pc(e)?e:{value:e}}function sc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function zS(a,e){return sc(a,e.toTimestamp())}function ii(a){return qt(!!a,49232),_t.fromTimestamp(function(i){const s=Sr(i);return new ee(s.seconds,s.nanos)}(a))}function Pd(a,e){return cd(a,e).canonicalString()}function cd(a,e){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function $v(a){const e=te.fromString(a);return qt(n0(e),10190,{key:e.toString()}),e}function hd(a,e){return Pd(a.databaseId,e.path)}function Gf(a,e){const i=$v(e);if(i.get(1)!==a.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(Wv(i))}function Jv(a,e){return Pd(a.databaseId,e)}function kS(a){const e=$v(a);return e.length===4?te.emptyPath():Wv(e)}function fd(a){return new te(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Wv(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function __(a,e,i){return{name:hd(a,e),fields:i.value.mapValue.fields}}function BS(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),je.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),je.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?K.UNKNOWN:Yv(v.code);return new st(A,v.message||"")}(d);i=new Xv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):_t.min(),g=new Dn({mapValue:{fields:s.document.fields}}),_=Ye.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Xu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gf(a,s.document),h=s.readTime?ii(s.readTime):_t.min(),d=Ye.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gf(a,s.document),h=s.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return gt(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new VS(o,h),g=s.targetId;i=new Kv(g,d)}}return i}function jS(a,e){let i;if(e instanceof co)i={update:__(a,e.key,e.value)};else if(e instanceof Qv)i={delete:hd(a,e.key)};else if(e instanceof ba)i={update:__(a,e.key,e.data),updateMask:ZS(e.fieldMask)};else{if(!(e instanceof CS))return gt(16599,{Rt:e.type});i={verify:hd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ac)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw gt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:zS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(a,e.precondition)),i}function qS(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(_t.min())&&(d=ii(h)),new bS(d,o.transformResults||[])}(i,e))):[]}function HS(a,e){return{documents:[Jv(a,e.path)]}}function GS(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Jv(a,o);const h=function(v){if(v.length!==0)return e0(li.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(M){return{field:Es(M.field),direction:YS(M.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ud(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:i,parent:o}}function FS(a){let e=kS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const M=t0(V);return M instanceof li&&Vv(M)?M.getFilters():[M]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(M=>function($){return new ic(Ts($.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(M))}(i.orderBy));let g=null;i.limit&&(g=function(V){let M;return M=typeof V=="object"?V.value:V,pc(M)?null:M}(i.limit));let _=null;i.startAt&&(_=function(V){const M=!!V.before,H=V.values||[];return new nc(H,M)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const M=!V.before,H=V.values||[];return new nc(H,M)}(i.endAt)),cS(e,o,d,h,g,"F",_,v)}function QS(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function t0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ts(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ts(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ts(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ts(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(a):a.fieldFilter!==void 0?function(i){return be.create(Ts(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(s=>t0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(a):gt(30097,{filter:a})}function YS(a){return xS[a]}function KS(a){return US[a]}function XS(a){return LS[a]}function Es(a){return{fieldPath:a.canonicalString()}}function Ts(a){return Be.fromServerFormat(a.fieldPath)}function e0(a){return a instanceof be?function(i){if(i.op==="=="){if(a_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NAN"}};if(r_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NAN"}};if(r_(i.value))return{unaryFilter:{field:Es(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(i.field),op:KS(i.op),value:i.value}}}(a):a instanceof li?function(i){const s=i.getFilters().map(o=>e0(o));return s.length===1?s[0]:{compositeFilter:{op:XS(i.op),filters:s}}}(a):gt(54877,{filter:a})}function ZS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function n0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,i,s,o,h=_t.min(),d=_t.min(),g=je.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.gt=e}}function JS(a){const e=FS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?od(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.Dn=new tb}addToCollectionParentIndex(e,i){return this.Dn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(Ar.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class tb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(te.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(i0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Cs(0)}static ur(){return new Cs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",eb=1048576;function T_([a,e],[i,s]){const o=bt(a,i);return o===0?bt(e,s):o}class nb{constructor(e){this.Tr=e,this.buffer=new we(T_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();T_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ib{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){rt(E_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?rt(E_,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.Rr(3e5)})}}class rb{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(gc.ue);const s=new nb(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(v_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,d=Date.now(),this.nthSequenceNumber(e,o))).next(V=>(s=V,g=Date.now(),this.removeTargets(e,s,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(v=Date.now(),_s()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:V})))}}function ab(a,e){return new rb(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.changes=new Sa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Jl(s.mutation,o,Ln.empty(),ee.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,i,s=It()){const o=da();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Fl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=da();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,It()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=ki();const d=$l(),g=function(){return $l()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof ba)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Jl(A.mutation,v,A.mutation.getFieldMask(),ee.now())):d.set(v.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var V;return g.set(v,new lb(A,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new ae((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||Ln.empty();A=g.applyToLocalView(v,A),s.set(_,A);const V=(o.get(g.batchId)||It()).add(_);o=o.insert(g.batchId,V)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,V=zv();A.forEach(M=>{if(!h.has(M)){const H=Gv(i.get(M),s.get(M));H!==null&&V.set(M,H),h=h.add(M)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Y.resolve(da());let g=no,_=h;return d.next(v=>Y.forEach(v,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(M=>{_=_.insert(A,M)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,It())).next(A=>({batchId:g,changes:Pv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,_=>{const v=function(V,M){return new _c(M,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((V,M)=>{d=d.insert(V,M)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=Fl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Jl(A.mutation,v,Ln.empty(),ee.now()),Ec(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return Y.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:JS(o.bundledQuery),readTime:ii(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.overlays=new ae(ct.comparator),this.kr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=da();return Y.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.wt(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const o=da(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ae((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=da(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=da(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Y.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new IS(i,s));let h=this.kr.get(i);h===void 0&&(h=It(),this.kr.set(i,h)),this.kr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this.qr=new we(Me.Qr),this.$r=new we(Me.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Me(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new ct(new te([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new ct(new te([])),s=new Me(i,e),o=new Me(i,e+1);let h=It();return this.$r.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return ct.comparator(e.key,i.key)||bt(e.Hr,i.Hr)}static Ur(e,i){return bt(e.Hr,i.Hr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new we(Me.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DS(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Dd:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(bt);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{s=s.add(g.Hr)})}),Y.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ct(h),0);let g=new we(bt);return this.Yr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Hr)),!0)},d),Y.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Y.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Me(i,0),o=this.Yr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.ni=e,this.docs=function(){return new ae(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=ki();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=ki();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||qA(jA(A),s)<=0||(o.has(A.key)||Ec(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,o){gt(9500)}ri(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new mb(this)}getSize(e){return Y.resolve(this.size)}}class mb extends sb{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.persistence=e,this.ii=new Sa(i=>Od(i),Nd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.si=0,this.oi=new zd,this.targetCount=0,this._i=Cs.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),Y.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Cs(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.hr(i),Y.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(h).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,i){this.ai={},this.overlays={},this.ui=new gc(0),this.ci=!1,this.ci=!0,this.li=new hb,this.referenceDelegate=e(this),this.hi=new gb(this),this.indexManager=new WS,this.remoteDocumentCache=function(o){return new db(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new $S(i),this.Ti=new ub(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new fb(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const o=new pb(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return Y.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class pb extends GA{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Ai=new zd,this.Ri=null}static Vi(e){return new kd(e)}get mi(){if(this.Ri)return this.Ri;throw gt(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,s=>{const o=ct.fromPath(s);return this.fi(e,o).next(h=>{h||i.removeEntry(o,_t.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return Y.or([()=>Y.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.gi=new Sa(s=>YA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ab(this,i)}static Vi(e,i){return new lc(e,i)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return Y.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(h=>h?Y.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}Sr(e,i,s){return Y.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Bd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return f1()?8:FA(u1())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new yb;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(_s()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",vs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(_s()<=Lt.DEBUG&&rt("QueryEngine","Query:",vs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(_s()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",vs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):Y.resolve())}ps(e,i){if(u_(i))return Y.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=od(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=It(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.bs(i,g);return this.Ds(i,v,d,_.readTime)?this.ps(e,od(i,null,"F")):this.vs(e,v,i,_)}))})))}ys(e,i,s,o){return u_(i)||o.isEqual(_t.min())?Y.resolve(null):this.gs.getDocuments(e,s).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,s,o)?Y.resolve(null):(_s()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vs(i)),this.vs(e,d,i,BA(o,no)).next(g=>g))})}bs(e,i){let s=new we(Uv(e));return i.forEach((o,h)=>{Ec(e,h)&&(s=s.add(h))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,s){return _s()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",vs(i)),this.gs.getDocumentsMatchingQuery(e,i,Ar.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",vb=3e8;class Eb{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new ae(bt),this.Ms=new Sa(h=>Od(h),Nd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ob(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function Tb(a,e,i,s){return new Eb(a,e,i,s)}async function a0(a,e){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=It();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Bs:v,removedBatchIds:d,addedBatchIds:g}))})})}function Ab(a,e){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const V=v.batch,M=V.keys();let H=Y.resolve();return M.forEach($=>{H=H.next(()=>A.getEntry(_,$)).next(it=>{const W=v.docVersions.get($);qt(W!==null,48541),it.version.compareTo(W)<0&&(V.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,V))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=It();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function s0(a){const e=Et(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function Sb(a,e){const i=Et(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((A,V)=>{const M=o.get(V);if(!M)return;g.push(i.hi.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,V)));let H=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?H=H.withResumeToken(je.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),o=o.insert(V,H),function(it,W,Tt){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=vb?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(M,H,A)&&g.push(i.hi.updateTargetData(h,H))});let _=ki(),v=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(bb(h,d,e.documentUpdates).next(A=>{_=A.Ls,v=A.ks})),!s.isEqual(_t.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(V=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Fs=o,h))}function bb(a,e,i){let s=It(),o=It();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=ki();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):rt(jd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Ls:d,ks:o}})}function Rb(a,e){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Dd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wb(a,e){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(h=>h?(o=h,Y.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new gr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function dd(a,e,i){const s=Et(a),o=s.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;rt(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function A_(a,e,i){const s=Et(a);let o=_t.min(),h=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=Et(_),M=V.Ms.get(A);return M!==void 0?Y.resolve(V.Fs.get(M)):V.hi.getTargetData(v,A)}(s,d,ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:It())).next(g=>(Cb(s,dS(e),g),{documents:g,qs:h})))}function Cb(a,e,i){let s=a.xs.get(e)||_t.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.xs.set(e,s)}class S_{constructor(){this.activeTargetIds=vS()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Db{constructor(){this.Fo=new S_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class R_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){rt(b_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){rt(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function md(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",Vb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ob{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=md(),g=this.Go(e,i.toUriEncodedString());rt(Ff,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(_,o,h);const{host:v}=new URL(g),A=Ad(v);return this.jo(e,g,_,s,A).then(V=>(rt(Ff,`Received RPC '${e}' ${d}: `,V),V),V=>{throw Tr(Ff,`RPC '${e}' ${d} failed with error: `,V,"url: ",g,"request:",s),V})}Jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const s=Vb[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class Mb extends Ob{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,h){const d=md();return new Promise((g,_)=>{const v=new ov;v.setWithCredentials(!0),v.listenOnce(uv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Fu.NO_ERROR:const V=v.getResponseJson();rt(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(V)),g(V);break;case Fu.TIMEOUT:rt(Fe,`RPC '${e}' ${d} timed out`),_(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const M=v.getStatus();if(rt(Fe,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H==null?void 0:H.error;if($&&$.status&&$.message){const it=function(Tt){const ht=Tt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ht)>=0?ht:K.UNKNOWN}($.status);_(new st(it,$.message))}else _(new st(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new st(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{c_:e,streamId:d,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{rt(Fe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);rt(Fe,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}P_(e,i,s){const o=md(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fv(),g=hv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.zo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");rt(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,_);const V=d.createWebChannel(A,_);this.T_(V);let M=!1,H=!1;const $=new Nb({Ho:W=>{H?rt(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(M||(rt(Fe,`Opening RPC '${e}' stream ${o} transport.`),V.open(),M=!0),rt(Fe,`RPC '${e}' stream ${o} sending:`,W),V.send(W))},Yo:()=>V.close()}),it=(W,Tt,ht)=>{W.listen(Tt,ft=>{try{ht(ft)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return it(V,Gl.EventType.OPEN,()=>{H||(rt(Fe,`RPC '${e}' stream ${o} transport opened.`),$.s_())}),it(V,Gl.EventType.CLOSE,()=>{H||(H=!0,rt(Fe,`RPC '${e}' stream ${o} transport closed`),$.__(),this.I_(V))}),it(V,Gl.EventType.ERROR,W=>{H||(H=!0,Tr(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),$.__(new st(K.UNAVAILABLE,"The operation could not be completed")))}),it(V,Gl.EventType.MESSAGE,W=>{var Tt;if(!H){const ht=W.data[0];qt(!!ht,16349);const ft=ht,Vt=(ft==null?void 0:ft.error)||((Tt=ft[0])===null||Tt===void 0?void 0:Tt.error);if(Vt){rt(Fe,`RPC '${e}' stream ${o} received error:`,Vt);const vt=Vt.status;let Pt=function(w){const C=ye[w];if(C!==void 0)return Yv(C)}(vt),x=Vt.message;Pt===void 0&&(Pt=K.INTERNAL,x="Unknown error status: "+vt+" with message "+Vt.message),H=!0,$.__(new st(Pt,x)),V.close()}else rt(Fe,`RPC '${e}' stream ${o} received:`,ht),$.a_(ht)}}),it(g,cv.STAT_EVENT,W=>{W.stat===nd.PROXY?rt(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===nd.NOPROXY&&rt(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.o_()},0),$}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(a){return new PS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class o0{constructor(e,i,s,o,h,d,g,_){this.Fi=e,this.w_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new l0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(zi(i.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new st(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return rt(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(rt(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xb extends o0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=BS(this.serializer,e),s=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ii(d.readTime):_t.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=fd(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=ld(_)?{documents:HS(h,_)}:{query:GS(h,_).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Zv(h,d.resumeToken);const v=ud(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=sc(h,d.snapshotVersion.toTimestamp());const v=ud(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=QS(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=fd(this.serializer),i.removeTarget=e,this.k_(i)}}class Ub extends o0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=qS(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=fd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>jS(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{}class Pb extends Lb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,cd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())})}Jo(e,i,s,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,cd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class zb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(zi(i),this._a=!1):rt("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class kb{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Ra(this)&&(rt(va,"Restarting streams for network reachability change."),await async function(_){const v=Et(_);v.Ia.add(4),await fo(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Rc(v)}(this))})}),this.Aa=new zb(s,o)}}async function Rc(a){if(Ra(a))for(const e of a.da)await e(!0)}async function fo(a){for(const e of a.da)await e(!1)}function u0(a,e){const i=Et(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),Fd(i)?Gd(i):Ns(i).x_()&&Hd(i,e))}function qd(a,e){const i=Et(a),s=Ns(i);i.Ta.delete(e),s.x_()&&c0(i,e),i.Ta.size===0&&(s.x_()?s.B_():Ra(i)&&i.Aa.set("Unknown"))}function Hd(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(a).H_(e)}function c0(a,e){a.Ra.$e(e),Ns(a).Y_(e)}function Gd(a){a.Ra=new MS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Ns(a).start(),a.Aa.aa()}function Fd(a){return Ra(a)&&!Ns(a).M_()&&a.Ta.size>0}function Ra(a){return Et(a).Ia.size===0}function h0(a){a.Ra=void 0}async function Bb(a){a.Aa.set("Online")}async function jb(a){a.Ta.forEach((e,i)=>{Hd(a,e)})}async function qb(a,e){h0(a),Fd(a)?(a.Aa.la(e),Gd(a)):a.Aa.set("Unknown")}async function Hb(a,e,i){if(a.Aa.set("Online"),e instanceof Xv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(a,e)}catch(s){rt(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await oc(a,s)}else if(e instanceof Xu?a.Ra.Ye(e):e instanceof Kv?a.Ra.it(e):a.Ra.et(e),!i.isEqual(_t.min()))try{const s=await s0(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ta.get(v);A&&h.Ta.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ta.get(_);if(!A)return;h.Ta.set(_,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),c0(h,_);const V=new gr(A.target,_,v,A.sequenceNumber);Hd(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){rt(va,"Failed to raise snapshot:",s),await oc(a,s)}}async function oc(a,e,i){if(!Os(e))throw e;a.Ia.add(1),await fo(a),a.Aa.set("Offline"),i||(i=()=>s0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{rt(va,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await Rc(a)})}function f0(a,e){return e().catch(i=>oc(a,i,e))}async function wc(a){const e=Et(a),i=wr(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Dd;for(;Gb(e);)try{const o=await Rb(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,Fb(e,o)}catch(o){await oc(e,o)}d0(e)&&m0(e)}function Gb(a){return Ra(a)&&a.Pa.length<10}function Fb(a,e){a.Pa.push(e);const i=wr(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function d0(a){return Ra(a)&&!wr(a).M_()&&a.Pa.length>0}function m0(a){wr(a).start()}async function Qb(a){wr(a).na()}async function Yb(a){const e=wr(a);for(const i of a.Pa)e.X_(i.mutations)}async function Kb(a,e,i){const s=a.Pa.shift(),o=Ud.from(s,e,i);await f0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await wc(a)}async function Xb(a,e){e&&wr(a).Z_&&await async function(s,o){if(function(d){return OS(d)&&d!==K.ABORTED}(o.code)){const h=s.Pa.shift();wr(s).N_(),await f0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await wc(s)}}(a,e),d0(a)&&m0(a)}async function C_(a,e){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),rt(va,"RemoteStore received new credentials");const s=Ra(i);i.Ia.add(3),await fo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Rc(i)}async function Zb(a,e){const i=Et(a);e?(i.Ia.delete(2),await Rc(i)):e||(i.Ia.add(2),await fo(i),i.Aa.set("Unknown"))}function Ns(a){return a.Va||(a.Va=function(i,s,o){const h=Et(i);return h.ia(),new xb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:Bb.bind(null,a),e_:jb.bind(null,a),n_:qb.bind(null,a),J_:Hb.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),Fd(a)?Gd(a):a.Aa.set("Unknown")):(await a.Va.stop(),h0(a))})),a.Va}function wr(a){return a.ma||(a.ma=function(i,s,o){const h=Et(i);return h.ia(),new Ub(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:Qb.bind(null,a),n_:Xb.bind(null,a),ea:Yb.bind(null,a),ta:Kb.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await wc(a)):(await a.ma.stop(),a.Pa.length>0&&(rt(va,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Qd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(a,e){if(zi("AsyncQueue",`${e}: ${a}`),Os(a))return new st(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new As;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.fa=new ae(ct.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):gt(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ds{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ds(e,i,As.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Jb{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=Et(i),h=o.queries;o.queries=I_(),h.forEach((d,g)=>{for(const _ of g.wa)_.onError(s)})})(this,new st(K.ABORTED,"Firestore shutting down"))}}function I_(){return new Sa(a=>xv(a),vc)}async function g0(a,e){const i=Et(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(s=2):(h=new $b,s=e.ba()?0:1);try{switch(s){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Yd(d,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Kd(i)}async function p0(a,e){const i=Et(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Wb(a,e){const i=Et(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&Kd(i)}function tR(a,e,i){const s=Et(a),o=s.queries.get(e);if(o)for(const h of o.wa)h.onError(i);s.queries.delete(e)}function Kd(a){a.Da.forEach(e=>{e.next()})}var gd,V_;(V_=gd||(gd={})).Fa="default",V_.Cache="cache";class y0{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ds(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.key=e}}class v0{constructor(e){this.key=e}}class eR{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=It(),this.mutatedKeys=It(),this.Xa=Uv(e),this.eu=new As(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new D_,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,V)=>{const M=o.get(A),H=Ec(this.query,V)?V:null,$=!!M&&this.mutatedKeys.has(M.key),it=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;M&&H?M.data.isEqual(H.data)?$!==it&&(s.track({type:3,doc:H}),W=!0):this.iu(M,H)||(s.track({type:2,doc:H}),W=!0,(_&&this.Xa(H,_)>0||v&&this.Xa(H,v)<0)&&(g=!0)):!M&&H?(s.track({type:0,doc:H}),W=!0):M&&!H&&(s.track({type:1,doc:M}),W=!0,(_||v)&&(g=!0)),W&&(H?(d=d.add(H),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,V)=>function(H,$){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{At:W})}};return it(H)-it($)}(A.type,V.type)||this.Xa(A.doc,V.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],_=this.Za.size===0&&this.current&&!o?1:0,v=_!==this.Ya;return this.Ya=_,d.length!==0||v?{snapshot:new Ds(this.query,e.eu,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new D_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=It(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new v0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new _0(s))}),i}uu(e){this.Ha=e.qs,this.Za=It();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return Ds.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Xd="SyncEngine";class nR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class iR{constructor(e){this.key=e,this.lu=!1}}class rR{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Sa(g=>xv(g),vc),this.Tu=new Map,this.Iu=new Set,this.du=new ae(ct.comparator),this.Eu=new Map,this.Au=new zd,this.Ru={},this.Vu=new Map,this.mu=Cs.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function aR(a,e,i=!0){const s=R0(a);let o;const h=s.Pu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await E0(s,e,i,!0),o}async function sR(a,e){const i=R0(a);await E0(i,e,!0,!1)}async function E0(a,e,i,s){const o=await wb(a.localStore,ni(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await lR(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&u0(a.remoteStore,o),g}async function lR(a,e,i,s,o){a.gu=(V,M,H)=>async function(it,W,Tt,ht){let ft=W.view.nu(Tt);ft.Ds&&(ft=await A_(it.localStore,W.query,!1).then(({documents:x})=>W.view.nu(x,ft)));const Vt=ht&&ht.targetChanges.get(W.targetId),vt=ht&&ht.targetMismatches.get(W.targetId)!=null,Pt=W.view.applyChanges(ft,it.isPrimaryClient,Vt,vt);return N_(it,W.targetId,Pt._u),Pt.snapshot}(a,V,M,H);const h=await A_(a.localStore,e,!0),d=new eR(e,h.qs),g=d.nu(h.documents),_=ho.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,_);N_(a,i,v._u);const A=new nR(e,i,d);return a.Pu.set(e,A),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),v.snapshot}async function oR(a,e,i){const s=Et(a),o=s.Pu.get(e),h=s.Tu.get(o.targetId);if(h.length>1)return s.Tu.set(o.targetId,h.filter(d=>!vc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&qd(s.remoteStore,o.targetId),pd(s,o.targetId)}).catch(Vs)):(pd(s,o.targetId),await dd(s.localStore,o.targetId,!0))}async function uR(a,e){const i=Et(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),qd(i.remoteStore,s.targetId))}async function cR(a,e,i){const s=yR(a);try{const o=await function(d,g){const _=Et(d),v=ee.now(),A=g.reduce((H,$)=>H.add($.key),It());let V,M;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let $=ki(),it=It();return _.Os.getEntries(H,A).next(W=>{$=W,$.forEach((Tt,ht)=>{ht.isValidDocument()||(it=it.add(Tt))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,$)).next(W=>{V=W;const Tt=[];for(const ht of g){const ft=wS(ht,V.get(ht.key).overlayedDocument);ft!=null&&Tt.push(new ba(ht.key,ft,Cv(ft.value.mapValue),Ui.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,Tt,g)}).next(W=>{M=W;const Tt=W.applyToLocalDocumentSet(V,it);return _.documentOverlayCache.saveOverlays(H,W.batchId,Tt)})}).then(()=>({batchId:M.batchId,changes:Pv(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Ru[d.currentUser.toKey()];v||(v=new ae(bt)),v=v.insert(g,_),d.Ru[d.currentUser.toKey()]=v}(s,o.batchId,i),await mo(s,o.changes),await wc(s.remoteStore)}catch(o){const h=Yd(o,"Failed to persist write");i.reject(h)}}async function T0(a,e){const i=Et(a);try{const s=await Sb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?qt(d.lu,14607):o.removedDocuments.size>0&&(qt(d.lu,42227),d.lu=!1))}),await mo(i,s,e)}catch(s){await Vs(s)}}function O_(a,e,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach((A,V)=>{for(const M of V.wa)M.va(g)&&(v=!0)}),v&&Kd(_)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hR(a,e,i){const s=Et(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let d=new ae(ct.comparator);d=d.insert(h,Ye.newNoDocument(h,_t.min()));const g=It().add(h),_=new Sc(_t.min(),new Map,new ae(bt),d,g);await T0(s,_),s.du=s.du.remove(h),s.Eu.delete(e),Zd(s)}else await dd(s.localStore,e,!1).then(()=>pd(s,e,i)).catch(Vs)}async function fR(a,e){const i=Et(a),s=e.batch.batchId;try{const o=await Ab(i.localStore,e);S0(i,s,null),A0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mo(i,o)}catch(o){await Vs(o)}}async function dR(a,e,i){const s=Et(a);try{const o=await function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(V=>(qt(V!==null,37113),A=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);S0(s,e,i),A0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mo(s,o)}catch(o){await Vs(o)}}function A0(a,e){(a.Vu.get(e)||[]).forEach(i=>{i.resolve()}),a.Vu.delete(e)}function S0(a,e,i){const s=Et(a);let o=s.Ru[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function pd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||b0(a,s)})}function b0(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(qd(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),Zd(a))}function N_(a,e,i){for(const s of i)s instanceof _0?(a.Au.addReference(s.key,e),mR(a,s)):s instanceof v0?(rt(Xd,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||b0(a,s.key)):gt(19791,{yu:s})}function mR(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(rt(Xd,"New document in limbo: "+i),a.Iu.add(s),Zd(a))}function Zd(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new ct(te.fromString(e)),s=a.mu.next();a.Eu.set(s,new iR(i)),a.du=a.du.insert(i,s),u0(a.remoteStore,new gr(ni(Md(i.path)),s,"TargetPurposeLimboResolution",gc.ue))}}async function mo(a,e,i){const s=Et(a),o=[],h=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,_)=>{d.push(s.gu(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const V=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){o.push(v);const V=Bd.Es(_.targetId,v);h.push(V)}}))}),await Promise.all(d),s.hu.J_(o),await async function(_,v){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Y.forEach(v,M=>Y.forEach(M.Is,H=>A.persistence.referenceDelegate.addReference(V,M.targetId,H)).next(()=>Y.forEach(M.ds,H=>A.persistence.referenceDelegate.removeReference(V,M.targetId,H)))))}catch(V){if(!Os(V))throw V;rt(jd,"Failed to update sequence numbers: "+V)}for(const V of v){const M=V.targetId;if(!V.fromCache){const H=A.Fs.get(M),$=H.snapshotVersion,it=H.withLastLimboFreeSnapshotVersion($);A.Fs=A.Fs.insert(M,it)}}}(s.localStore,h))}async function gR(a,e){const i=Et(a);if(!i.currentUser.isEqual(e)){rt(Xd,"User change. New user:",e.toKey());const s=await a0(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(_=>{_.reject(new st(K.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mo(i,s.Bs)}}function pR(a,e){const i=Et(a),s=i.Eu.get(e);if(s&&s.lu)return It().add(s.key);{let o=It();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function R0(a){const e=Et(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hR.bind(null,e),e.hu.J_=Wb.bind(null,e.eventManager),e.hu.pu=tR.bind(null,e.eventManager),e}function yR(a){const e=Et(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dR.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return Tb(this.persistence,new _b,e.initialUser,this.serializer)}Du(e){return new r0(kd.Vi,this.serializer)}bu(e){return new Db}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class _R extends uc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){qt(this.persistence.referenceDelegate instanceof lc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ib(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new r0(s=>lc.Vi(s,i),this.serializer)}}class yd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gR.bind(null,this.syncEngine),await Zb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jb}()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),s=function(h){return new Mb(h)}(e.databaseInfo);return function(h,d,g,_){return new Pb(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new kb(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>O_(this.syncEngine,i,0),function(){return R_.C()?new R_:new Ib}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const V=new rR(o,h,d,g,_,v);return A&&(V.fu=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Et(o);rt(va,"RemoteStore shutting down."),h.Ia.add(5),await fo(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}yd.provider={build:()=>new yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class vR{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{rt(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(rt(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Yd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Yf(a,e){a.asyncQueue.verifyOperationInProgress(),rt(Cr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await a0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Tr("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{rt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Tr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function M_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await ER(a);rt(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>C_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>C_(e.remoteStore,o)),a._onlineComponents=e}async function ER(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){rt(Cr,"Using user provided OfflineComponentProvider");try{await Yf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Tr("Error using user provided cache. Falling back to memory cache: "+i),await Yf(a,new uc)}}else rt(Cr,"Using default OfflineComponentProvider"),await Yf(a,new _R(void 0));return a._offlineComponents}async function C0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(rt(Cr,"Using user provided OnlineComponentProvider"),await M_(a,a._uninitializedComponentsProvider._online)):(rt(Cr,"Using default OnlineComponentProvider"),await M_(a,new yd))),a._onlineComponents}function TR(a){return C0(a).then(e=>e.syncEngine)}async function D0(a){const e=await C0(a),i=e.eventManager;return i.onListen=aR.bind(null,e.syncEngine),i.onUnlisten=oR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=sR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=uR.bind(null,e.syncEngine),i}function AR(a,e,i={}){const s=new xi;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new w0({next:M=>{A.Ou(),d.enqueueAndForget(()=>p0(h,V));const H=M.docs.has(g);!H&&M.fromCache?v.reject(new st(K.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&_&&_.source==="server"?v.reject(new st(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),V=new y0(Md(g.path),A,{includeMetadataChanges:!0,ka:!0});return g0(h,V)}(await D0(a),a.asyncQueue,e,i,s)),s.promise}function SR(a,e,i={}){const s=new xi;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new w0({next:M=>{A.Ou(),d.enqueueAndForget(()=>p0(h,V)),M.fromCache&&_.source==="server"?v.reject(new st(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),V=new y0(g,A,{includeMetadataChanges:!0,ka:!0});return g0(h,V)}(await D0(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firestore.googleapis.com",U_=!0;class L_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V0,this.ssl=U_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eb)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VA;switch(s.type){case"firstParty":return new xA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=x_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),x_.delete(i),s.terminate())}(this),Promise.resolve()}}function bR(a,e,i,s={}){var o;a=_a(a,Cc);const h=Ad(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),_=`${e}:${i}`;h&&(r1(`https://${_}`),o1("Firestore",!0)),d.host!==V0&&d.host!==_&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:s});if(!to(v,g)&&(a._setSettings(v),s.mockUserToken)){let A,V;if(typeof s.mockUserToken=="string")A=s.mockUserToken,V=Qe.MOCK_USER;else{A=a1(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Qe(M)}a._authCredentials=new OA(new mv(A,V))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dc(this.firestore,e,this._query)}}class Re{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Re(this.firestore,e,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(uo(i,Re._jsonSchema))return new Re(e,s||null,new ct(te.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:_e("string",Re._jsonSchemaVersion),referencePath:_e("string")};class vr extends Dc{constructor(e,i,s){super(e,i,Md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Re(this.firestore,null,new ct(e))}withConverter(e){return new vr(this.firestore,e,this._path)}}function $d(a,e,...i){if(a=pa(a),pv("collection","path",e),a instanceof Cc){const s=te.fromString(e,...i);return Zy(s),new vr(a,null,s)}{if(!(a instanceof Re||a instanceof vr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return Zy(s),new vr(a.firestore,null,s)}}function Ms(a,e,...i){if(a=pa(a),arguments.length===1&&(e=wd.newId()),pv("doc","path",e),a instanceof Cc){const s=te.fromString(e,...i);return Xy(s),new Re(a,null,new ct(s))}{if(!(a instanceof Re||a instanceof vr))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return Xy(s),new Re(a.firestore,a instanceof vr?a.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new l0(this,"async_queue_retry"),this.oc=()=>{const s=Qf();s&&rt(P_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=Qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new xi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Os(e))throw e;rt(P_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,zi("INTERNAL UNHANDLED ERROR: ",k_(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=Qd.createAndSchedule(this,e,i,s,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&gt(47125,{hc:k_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function k_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Ic extends Cc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function RR(a,e){const i=typeof a=="object"?a:rv(),s=typeof a=="string"?a:tc,o=oo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=n1("firestore");h&&bR(o,...h)}return o}function Jd(a){if(a._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||wR(a),a._firestoreClient}function wR(a){var e,i,s;const o=a._freezeSettings(),h=function(g,_,v,A){return new ZA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,I0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new vR(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(je.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uo(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:_e("string",In._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(uo(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:_e("string",ri._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uo(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ai(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:_e("string",ai._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=/^__.*__$/;class DR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,i,this.fieldTransforms):new co(e,this.data,i,this.fieldTransforms)}}function N0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ec:a})}}class tm{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return cc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(N0(this.Ec)&&CR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class IR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||bc(e)}Dc(e,i,s,o=!1){return new tm({Ec:e,methodName:i,bc:s,path:Be.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VR(a){const e=a._freezeSettings(),i=bc(a._databaseId);return new IR(a._databaseId,!!e.ignoreUndefinedProperties,i)}function OR(a,e,i,s,o,h={}){const d=a.Dc(h.merge||h.mergeFields?2:0,e,i,o);L0("Data must be an object, but it was:",d,s);const g=x0(s,d);let _,v;if(h.merge)_=new Ln(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const M=NR(e,V,i);if(!d.contains(M))throw new st(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);xR(A,M)||A.push(M)}_=new Ln(A),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new DR(new Dn(g),_,v)}function M0(a,e){if(U0(a=pa(a)))return L0("Unsupported field value:",e,a),x0(a,e);if(a instanceof O0)return function(s,o){if(!N0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=M0(g,o.yc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=pa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ES(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ee.fromDate(s);return{timestampValue:sc(o.serializer,h)}}if(s instanceof ee){const h=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(o.serializer,h)}}if(s instanceof ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:Zv(o.serializer,s._byteString)};if(s instanceof Re){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Pd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return function(d,g){return{mapValue:{fields:{[Rv]:{stringValue:wv},[ec]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.wc("VectorValues must only contain numeric values.");return xd(g.serializer,v)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Cd(s)}`)}(a,e)}function x0(a,e){const i={};return vv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(a,(s,o)=>{const h=M0(o,e.Vc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function U0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof ri||a instanceof In||a instanceof Re||a instanceof O0||a instanceof ai)}function L0(a,e,i){if(!U0(i)||!yv(i)){const s=Cd(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function NR(a,e,i){if((e=pa(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return P0(a,e);throw cc("Field path arguments must be of type string or ",a,!1,void 0,i)}const MR=new RegExp("[~\\*/\\[\\]]");function P0(a,e,i){if(e.search(MR)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Wd(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function cc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new st(K.INVALID_ARGUMENT,g+a+_)}function xR(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(k0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UR extends z0{data(){return super.data()}}function k0(a,e){return typeof e=="string"?P0(a,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PR{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Aa(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[ec].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new ai(h)}convertGeoPoint(e){return new ri(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=yc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const i=Sr(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);qt(n0(s),9688,{name:e});const o=new ro(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return o.isEqual(i)||zi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends z0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(k0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:_e("string",ga._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Zu extends ga{data(e={}){return super.data(e)}}class Ss{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Zu(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:kR(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ss._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(a){a=_a(a,Re);const e=_a(a.firestore,Ic);return AR(Jd(e),a._key).then(i=>jR(e,a,i))}Ss._jsonSchemaVersion="firestore/querySnapshot/1.0",Ss._jsonSchema={type:_e("string",Ss._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class B0 extends PR{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function j0(a){a=_a(a,Dc);const e=_a(a.firestore,Ic),i=Jd(e),s=new B0(e);return LR(a._query),SR(i,a._query).then(o=>new Ss(e,s,a,o))}function nm(a,e,i){a=_a(a,Re);const s=_a(a.firestore,Ic),o=zR(a.converter,e,i);return BR(s,[OR(VR(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Ui.none())])}function BR(a,e){return function(s,o){const h=new xi;return s.asyncQueue.enqueueAndForget(async()=>cR(await TR(s),o,h)),h.promise}(Jd(a),e)}function jR(a,e,i){const s=i.docs.get(e._key),o=new B0(a);return new ga(a,o,e._key,s,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Is=o})(vA),Er(new Li("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Ic(new NA(s.getProvider("auth-internal")),new UA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ei(Gy,Fy,e),ei(Gy,Fy,"esm2017")})();var qR="firebase",HR="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(qR,HR,"app");const q0="@firebase/installations",im="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=1e4,G0=`w:${im}`,F0="FIS_v2",GR="https://firebaseinstallations.googleapis.com/v1",FR=60*60*1e3,QR="installations",YR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ea=new mc(QR,YR,KR);function Q0(a){return a instanceof Dr&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0({projectId:a}){return`${GR}/projects/${a}/installations`}function K0(a){return{token:a.token,requestStatus:2,expiresIn:ZR(a.expiresIn),creationTime:Date.now()}}async function X0(a,e){const s=(await e.json()).error;return Ea.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Z0({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function XR(a,{refreshToken:e}){const i=Z0(a);return i.append("Authorization",$R(e)),i}async function $0(a){const e=await a();return e.status>=500&&e.status<600?a():e}function ZR(a){return Number(a.replace("s","000"))}function $R(a){return`${F0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=Y0(a),o=Z0(a),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:F0,appId:a.appId,sdkVersion:G0},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await $0(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:K0(v.authToken)}}else throw await X0("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=/^[cdef][\w-]{21}$/,_d="";function ew(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=nw(a);return tw.test(i)?i:_d}catch{return _d}}function nw(a){return WR(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;function tE(a,e){const i=Vc(a);eE(i,e),iw(i,e)}function eE(a,e){const i=W0.get(a);if(i)for(const s of i)s(e)}function iw(a,e){const i=rw();i&&i.postMessage({key:a,fid:e}),aw()}let ma=null;function rw(){return!ma&&"BroadcastChannel"in self&&(ma=new BroadcastChannel("[Firebase] FID Change"),ma.onmessage=a=>{eE(a.data.key,a.data.fid)}),ma}function aw(){W0.size===0&&ma&&(ma.close(),ma=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebase-installations-database",lw=1,Ta="firebase-installations-store";let Kf=null;function rm(){return Kf||(Kf=nv(sw,lw,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Ta)}}})),Kf}async function hc(a,e){const i=Vc(a),o=(await rm()).transaction(Ta,"readwrite"),h=o.objectStore(Ta),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&tE(a,e.fid),e}async function nE(a){const e=Vc(a),s=(await rm()).transaction(Ta,"readwrite");await s.objectStore(Ta).delete(e),await s.done}async function Oc(a,e){const i=Vc(a),o=(await rm()).transaction(Ta,"readwrite"),h=o.objectStore(Ta),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&tE(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(a){let e;const i=await Oc(a.appConfig,s=>{const o=ow(s),h=uw(a,o);return e=h.registrationPromise,h.installationEntry});return i.fid===_d?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function ow(a){const e=a||{fid:ew(),registrationStatus:0};return iE(e)}function uw(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ea.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=cw(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hw(a)}:{installationEntry:e}}async function cw(a,e){try{const i=await JR(a,e);return hc(a.appConfig,i)}catch(i){throw Q0(i)&&i.customData.serverCode===409?await nE(a.appConfig):await hc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function hw(a){let e=await B_(a.appConfig);for(;e.registrationStatus===1;)await J0(100),e=await B_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await am(a);return s||i}return e}function B_(a){return Oc(a,e=>{if(!e)throw Ea.create("installation-not-found");return iE(e)})}function iE(a){return fw(a)?{fid:a.fid,registrationStatus:0}:a}function fw(a){return a.registrationStatus===1&&a.registrationTime+H0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw({appConfig:a,heartbeatServiceProvider:e},i){const s=mw(a,i),o=XR(a,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:G0,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await $0(()=>fetch(s,g));if(_.ok){const v=await _.json();return K0(v)}else throw await X0("Generate Auth Token",_)}function mw(a,{fid:e}){return`${Y0(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(a,e=!1){let i;const s=await Oc(a.appConfig,h=>{if(!rE(h))throw Ea.create("not-registered");const d=h.authToken;if(!e&&yw(d))return h;if(d.requestStatus===1)return i=gw(a,e),h;{if(!navigator.onLine)throw Ea.create("app-offline");const g=vw(h);return i=pw(a,g),g}});return i?await i:s.authToken}async function gw(a,e){let i=await j_(a.appConfig);for(;i.authToken.requestStatus===1;)await J0(100),i=await j_(a.appConfig);const s=i.authToken;return s.requestStatus===0?sm(a,e):s}function j_(a){return Oc(a,e=>{if(!rE(e))throw Ea.create("not-registered");const i=e.authToken;return Ew(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function pw(a,e){try{const i=await dw(a,e),s=Object.assign(Object.assign({},e),{authToken:i});return await hc(a.appConfig,s),i}catch(i){if(Q0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await nE(a.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await hc(a.appConfig,s)}throw i}}function rE(a){return a!==void 0&&a.registrationStatus===2}function yw(a){return a.requestStatus===2&&!_w(a)}function _w(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+FR}function vw(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function Ew(a){return a.requestStatus===1&&a.requestTime+H0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(a){const e=a,{installationEntry:i,registrationPromise:s}=await am(e);return s?s.catch(console.error):sm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(a,e=!1){const i=a;return await Sw(i),(await sm(i,e)).token}async function Sw(a){const{registrationPromise:e}=await am(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(a){if(!a||!a.options)throw Xf("App Configuration");if(!a.name)throw Xf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw Xf(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Xf(a){return Ea.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="installations",Rw="installations-internal",ww=a=>{const e=a.getProvider("app").getImmediate(),i=bw(e),s=oo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Cw=a=>{const e=a.getProvider("app").getImmediate(),i=oo(e,aE).getImmediate();return{getId:()=>Tw(i),getToken:o=>Aw(i,o)}};function Dw(){Er(new Li(aE,ww,"PUBLIC")),Er(new Li(Rw,Cw,"PRIVATE"))}Dw();ei(q0,im);ei(q0,im,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="analytics",Iw="firebase_id",Vw="origin",Ow=60*1e3,Nw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new Sd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new mc("analytics","Analytics",Mw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(a){if(!a.startsWith(lm)){const e=mn.create("invalid-gtag-resource",{gtagURL:a});return rn.warn(e.message),""}return a}function sE(a){return Promise.all(a.map(e=>e.catch(i=>i)))}function Uw(a,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,e)),i}function Lw(a,e){const i=Uw("firebase-js-sdk-policy",{createScriptURL:xw}),s=document.createElement("script"),o=`${lm}?l=${a}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function Pw(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function zw(a,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const _=(await sE(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(g){rn.error(g)}a("config",o,h)}async function kw(a,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await sE(i);for(const _ of d){const v=g.find(V=>V.measurementId===_),A=v&&e[v.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),a("event",s,o||{})}catch(h){rn.error(h)}}function Bw(a,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,_]=d;await kw(a,e,i,g,_)}else if(h==="config"){const[g,_]=d;await zw(a,e,i,s,g,_)}else if(h==="consent"){const[g,_]=d;a("consent",g,_)}else if(h==="get"){const[g,_,v]=d;a("get",g,_,v)}else if(h==="set"){const[g]=d;a("set",g)}else a(h,...d)}catch(g){rn.error(g)}}return o}function jw(a,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=Bw(h,a,e,i),{gtagCore:h,wrappedGtag:window[o]}}function qw(a){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(lm)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=30,Gw=1e3;class Fw{constructor(e={},i=Gw){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lE=new Fw;function Qw(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function Yw(a){var e;const{appId:i,apiKey:s}=a,o={method:"GET",headers:Qw(s)},h=Nw.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function Kw(a,e=lE,i){const{appId:s,apiKey:o,measurementId:h}=a.options;if(!s)throw mn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw mn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new $w;return setTimeout(async()=>{g.abort()},Ow),oE({appId:s,apiKey:o,measurementId:h},d,g,e)}async function oE(a,{throttleEndTimeMillis:e,backoffCount:i},s,o=lE){var h;const{appId:d,measurementId:g}=a;try{await Xw(s,e)}catch(_){if(g)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await Yw(a);return o.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!Zw(v)){if(o.deleteThrottleMetadata(d),g)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const A=Number((h=v==null?void 0:v.customData)===null||h===void 0?void 0:h.httpStatus)===503?xy(i,o.intervalMillis,Hw):xy(i,o.intervalMillis),V={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,V),rn.debug(`Calling attemptFetch again in ${A} millis`),oE(a,V,s,o)}}function Xw(a,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(h),s(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Zw(a){if(!(a instanceof Dr)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class $w{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Jw(a,e,i,s,o){if(o&&o.global){a("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});a("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(){if(J_())try{await W_()}catch(a){return rn.warn(mn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return rn.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function t2(a,e,i,s,o,h,d){var g;const _=Kw(a);_.then(H=>{i[H.measurementId]=H.appId,a.options.measurementId&&H.measurementId!==a.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${H.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(H=>rn.error(H)),e.push(_);const v=Ww().then(H=>{if(H)return s.getId()}),[A,V]=await Promise.all([_,v]);qw(h)||Lw(h,A.measurementId),o("js",new Date);const M=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return M[Vw]="firebase",M.update=!0,V!=null&&(M[Iw]=V),o("config",A.measurementId,M),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.app=e}_delete(){return delete Wl[this.app.options.appId],Promise.resolve()}}let Wl={},q_=[];const H_={};let Zf="dataLayer",n2="gtag",G_,uE,F_=!1;function i2(){const a=[];if(h1()&&a.push("This is a browser extension environment."),d1()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=mn.create("invalid-analytics-context",{errorInfo:e});rn.warn(i.message)}}function r2(a,e,i){i2();const s=a.options.appId;if(!s)throw mn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(Wl[s]!=null)throw mn.create("already-exists",{id:s});if(!F_){Pw(Zf);const{wrappedGtag:h,gtagCore:d}=jw(Wl,q_,H_,Zf,n2);uE=h,G_=d,F_=!0}return Wl[s]=t2(a,q_,H_,e,G_,Zf,i),new e2(a)}function a2(a=rv()){a=pa(a);const e=oo(a,fc);return e.isInitialized()?e.getImmediate():s2(a)}function s2(a,e={}){const i=oo(a,fc);if(i.isInitialized()){const o=i.getImmediate();if(to(e,i.getOptions()))return o;throw mn.create("already-initialized")}return i.initialize({options:e})}function l2(a,e,i,s){a=pa(a),Jw(uE,Wl[a.app.options.appId],e,i,s).catch(o=>rn.error(o))}const Q_="@firebase/analytics",Y_="0.10.17";function o2(){Er(new Li(fc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return r2(s,o,i)},"PUBLIC")),Er(new Li("analytics-internal",a,"PRIVATE")),ei(Q_,Y_),ei(Q_,Y_,"esm2017");function a(e){try{const i=e.getProvider(fc).getImmediate();return{logEvent:(s,o,h)=>l2(i,s,o,h)}}catch(i){throw mn.create("interop-component-reg-failed",{reason:i})}}}o2();const u2={apiKey:"AIzaSyAbfNNxbNCQzp_ec_n4xvf5fD1zVb5S_zo",authDomain:"temprecording.firebaseapp.com",projectId:"temprecording",storageBucket:"temprecording.firebasestorage.app",messagingSenderId:"433465160677",appId:"1:433465160677:web:075bbef2733a3af388f50c",measurementId:"G-GBRJYH26QY"},cE=iv(u2);a2(cE);const go=RR(cE);async function c2(){$d(go,"Users")}async function h2(a){const e=Ms(go,"Users",a);await nm(e,{})}async function om(a){const e=Ms(go,"Users",a);return(await em(e)).exists()?a:null}async function Nc(a,e){const i=await om(a);if(i)return $d(go,"Users",i,e)}async function dc(a,e){const i=await Nc(a,e);return i?(await j0(i)).size:0}async function f2(a,e){const i=await Nc(a,e);if(i){const s=await dc(a,e);if(s||s===0){const o="workout"+s,h=Ms(i,o);return await nm(h,{}),h}}}async function d2(a,e){const i=await dc(a,e);if(i||i===0)return i-1}async function m2(a,e,i){const s=await Nc(a,e),o=Ms(s,"workout"+i);return(await em(o)).exists()?o.id:null}async function um(a,e,i){const s=await om(a);if(s){const o=await m2(a,e,i),h=await Nc(a,e);if(o&&h)return $d(go,"Users",s,e,o,"exercises")}}async function vd(a,e,i){const s=await um(a,e,i);if(s){const o=await j0(s);return o?o.size:0}}async function g2(a,e,i,s){const o=await um(a,e,i);if(o){const h=await vd(a,e,i);if(h||h===0){const d="exercise"+h,g=Ms(o,d);return await nm(g,s,{merge:!0}),!0}}return!1}async function K_(a,e,i,s){const o=await um(a,e,i),h=Ms(o,"exercise"+s),d=await em(h);return d.exists()?d.data():null}function p2(){const[a,e]=Je.useState(()=>prompt("Enter your username")),[i,s]=Je.useState(""),[o,h]=Je.useState(!1),[d,g]=Je.useState([]),[_,v]=Je.useState([]),A=Je.useRef(null),V=Je.useRef(null),M=Je.useRef(null),H=Je.useRef(null);let $=Je.useRef(null),it=Je.useRef(null),W=Je.useRef(null),Tt=Je.useRef(null);Je.useEffect(()=>{async function C(){await c2(),await om(a)||await h2(a);const b=new Date().toLocaleDateString("en-CA");await S(b)}alert(`This username is to be kept private. If you reveal this to others,
      they can access and alter your data. 
      If you need to see ur username again for remembering type 
      Yes in the following prompt`),prompt("Yes or No?")=="Yes"&&alert(a),C()},[a]);function ht(C){C=="exercise"&&(A.current.value=$.current),C=="sets"&&(M.current.value=W.current),C=="reps"&&(V.current.value=it.current),C=="weight"&&(H.current.value=Tt.current)}async function ft(){var $t,zt,q,Z;const C=($t=A.current)==null?void 0:$t.value.trim(),I=(zt=V.current)==null?void 0:zt.value.trim(),N=(q=M.current)==null?void 0:q.value.trim(),b=(Z=H.current)==null?void 0:Z.value.trim();if(!C||!I||!N||!b){const lt=await d2(a,i);if(lt||lt==0){const Ot=new Date().toLocaleDateString("en-CA");await g2(a,Ot,lt,{exercise:C,reps:I,sets:N,weight:b})&&($.current=C,it.current=I,W.current=N,Tt.current=b,A.current.value="",V.current.value="",M.current.value="",H.current.value="",await S(Ot))}}}async function Vt(){vt();const C=new Date().toLocaleDateString("en-CA");await f2(a,C)?await S(C):console.log("error setting workout page")}function vt(){h(!0)}function Pt(){h(!1)}async function x(C){const I=await dc(a,C);if(console.log(I),I>0){const N=[];for(let b=0;b<I;b++){const $t=[],zt=await vd(a,C,b);if(console.log(zt),zt>0){for(let q=0;q<zt;q++){const Z=await K_(a,C,b,q);Z&&(console.log("exercise data: "+Z.reps),$t.push({name:Z.exercise,sets:Z.sets,reps:Z.reps,weight:Z.weight}))}N.push($t)}}s(C),v(N)}else v([])}async function S(C){const I=await dc(a,C);if(I>0){const N=[];for(let b=0;b<I;b++){const $t=[],zt=await vd(a,C,b);if(zt>0){for(let q=0;q<zt;q++){const Z=await K_(a,C,b,q);Z&&$t.push({name:Z.exercise,sets:Z.sets,reps:Z.reps,weight:Z.weight})}N.push($t)}}g(N)}else g([])}async function w(C){const I=C.target.value;await x(I)}return nt.jsxs(nt.Fragment,{children:[nt.jsxs("form",{className:"move",children:[nt.jsxs("label",{htmlFor:"workoutPick",children:["Pick workout date to view workouts of:"," "]}),nt.jsx("input",{type:"date",id:"workoutPick",name:"workoutPick",onChange:C=>w(C)})]}),_.length>0&&nt.jsxs("table",{className:"move2",children:[nt.jsxs("thead",{children:[nt.jsx("tr",{children:nt.jsxs("th",{id:"dateHeading",colSpan:"5",children:["Date: ",i]})}),nt.jsxs("tr",{children:[nt.jsx("th",{children:"Exercise number"}),nt.jsx("th",{children:"Exercise Name"}),nt.jsx("th",{children:"Reps"}),nt.jsx("th",{children:"Sets"}),nt.jsx("th",{children:"Weight (in kg)"})]})]}),nt.jsx("tbody",{children:_.map((C,I)=>nt.jsxs(by.Fragment,{children:[nt.jsxs("tr",{children:[nt.jsx("td",{}),nt.jsxs("td",{id:"workout_block_line",colSpan:"4",children:["Workout ",I+1]})]}),C.map((N,b)=>nt.jsxs("tr",{children:[nt.jsxs("td",{children:["Exercise ",b+1]}),nt.jsx("td",{children:N.name}),nt.jsx("td",{children:N.reps}),nt.jsx("td",{children:N.sets}),nt.jsx("td",{children:N.weight})]},b))]},I))})]}),d.length>0&&nt.jsxs("table",{className:"center",children:[nt.jsxs("thead",{children:[nt.jsx("tr",{children:nt.jsxs("th",{id:"dateHeading",colSpan:"5",children:["Date: ",new Date().toLocaleDateString("en-CA")]})}),nt.jsxs("tr",{children:[nt.jsx("th",{children:"Exercise number"}),nt.jsx("th",{children:"Exercise Name"}),nt.jsx("th",{children:"Reps"}),nt.jsx("th",{children:"Sets"}),nt.jsx("th",{children:"Weight (in kg)"})]})]}),nt.jsx("tbody",{children:d.map((C,I)=>nt.jsxs(by.Fragment,{children:[nt.jsxs("tr",{children:[nt.jsx("td",{}),nt.jsxs("td",{id:"workout_block_line",colSpan:"4",children:["Workout ",I+1]})]}),C.map((N,b)=>nt.jsxs("tr",{children:[nt.jsxs("td",{children:["Exercise ",b+1]}),nt.jsx("td",{children:N.name}),nt.jsx("td",{children:N.reps}),nt.jsx("td",{children:N.sets}),nt.jsx("td",{children:N.weight})]},b))]},I))})]}),nt.jsx("button",{type:"button",onClick:Vt,disabled:o,children:"Click to add a new workout"}),o&&nt.jsxs(nt.Fragment,{children:[nt.jsx("br",{}),nt.jsx("br",{}),nt.jsx("label",{htmlFor:"addEx",children:"Exercise: "}),nt.jsxs("div",{className:"flexContainer",children:[nt.jsx("input",{ref:A,id:"addEx",type:"text"}),nt.jsx("button",{onClick:()=>ht("exercise"),type:"button",children:"Click to restore previous value"})]}),nt.jsx("br",{}),nt.jsx("label",{htmlFor:"addReps",children:"Reps: "}),nt.jsxs("div",{className:"flexContainer",children:[nt.jsx("input",{ref:V,id:"addReps",type:"text"}),nt.jsx("button",{onClick:()=>ht("reps"),type:"button",children:"Click to restore previous value"})]}),nt.jsx("br",{}),nt.jsx("label",{htmlFor:"addSets",children:"Sets: "}),nt.jsxs("div",{className:"flexContainer",children:[nt.jsx("input",{ref:M,id:"addSets",type:"text"}),nt.jsx("button",{onClick:()=>ht("sets"),type:"button",children:"Click to restore previous value"})]}),nt.jsx("br",{}),nt.jsx("label",{htmlFor:"addWeight",children:"Weight (in kg): "}),nt.jsxs("div",{className:"flexContainer",children:[nt.jsx("input",{ref:H,id:"addWeight",type:"text"}),nt.jsx("button",{onClick:()=>ht("weight"),type:"button",children:"Click to restore previous value"})]}),nt.jsx("br",{}),nt.jsx("button",{type:"button",onClick:ft,children:"Click to add exercise"}),nt.jsx("button",{type:"button",onClick:Pt,children:"Click to finish workout"})]})]})}FT.createRoot(document.getElementById("root")).render(nt.jsx(p2,{}));
